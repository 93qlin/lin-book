
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>webpack4 · lin 的文档库</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="lin">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../public-repertory/css/gitbook-configure.css">
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="webpack4AndReact脚手架.html" />
    
    
    <link rel="prev" href="webpack面试题.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"93qlin","repo":"gitbook","type":"star","count":true,"size":"small"},{"user":"93qlin","width":"160","type":"follow","count":true,"size":"small"}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    webpack
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="原理分析/插件原理分析.html">
            
                <a href="原理分析/插件原理分析.html">
            
                    
                    webpack插件原理分析 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="webpack面试题.html">
            
                <a href="webpack面试题.html">
            
                    
                    面试必问 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.3" data-path="webpack4.html">
            
                <a href="webpack4.html">
            
                    
                    webpack4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="webpack4AndReact脚手架.html">
            
                <a href="webpack4AndReact脚手架.html">
            
                    
                    webpack4AndReact脚手架
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Html和Css
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    面试必问 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../CssAndHtml/Interview/Html.html">
            
                <a href="../CssAndHtml/Interview/Html.html">
            
                    
                    Html ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../CssAndHtml/Interview/Css.html">
            
                <a href="../CssAndHtml/Interview/Css.html">
            
                    
                    Css ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../CssAndHtml/Interview/图片.html">
            
                <a href="../CssAndHtml/Interview/图片.html">
            
                    
                    图片 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../CssAndHtml/Interview/移动端问题.html">
            
                <a href="../CssAndHtml/Interview/移动端问题.html">
            
                    
                    移动端问题 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../CssAndHtml/Css/flex.html">
            
                <a href="../CssAndHtml/Css/flex.html">
            
                    
                    flex ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../CssAndHtml/Css/grid.html">
            
                <a href="../CssAndHtml/Css/grid.html">
            
                    
                    grid ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../CssAndHtml/Css/冷门css.html">
            
                <a href="../CssAndHtml/Css/冷门css.html">
            
                    
                    冷门css ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../CssAndHtml/Css/canvas.html">
            
                <a href="../CssAndHtml/Css/canvas.html">
            
                    
                    canvas ✔
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Http和浏览器以及安全
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../HttpAndBrowerAndPerformanceSafety/谷歌浏览器消息提示.html">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/谷歌浏览器消息提示.html">
            
                    
                    谷歌浏览器消息提示.md ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    面试必问 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" >
            
                <span>
            
                    
                    Http和浏览器相关 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1.1" data-path="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/用户输入URL到浏览器呈现页面.html">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/用户输入URL到浏览器呈现页面.html">
            
                    
                    用户输入URL到浏览器呈现页面 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.1.2" data-path="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/浏览器多进程到JS单线程，JS运行机制.html">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/浏览器多进程到JS单线程，JS运行机制.html">
            
                    
                    浏览器多进程到JS单线程，JS运行机制 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.1.3" data-path="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/Axios.html">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/Axios.html">
            
                    
                    Axios ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.1.4" data-path="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/OSI七层模型-tcpIP四层模型 - 五层模型.html">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/OSI七层模型-tcpIP四层模型 - 五层模型.html">
            
                    
                    OSI七层模型-tcpIP四层模型 - 五层模型 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.1.5" data-path="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/什么是TCP、UDP以及两者的区别.html">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/Interview/HttpAndBrower/什么是TCP、UDP以及两者的区别.html">
            
                    
                    什么是TCP、UDP以及两者的区别 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" >
            
                <span>
            
                    
                    网络安全相关 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.2.1" data-path="../HttpAndBrowerAndPerformanceSafety/Interview/safe/safe.html">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/Interview/safe/safe.html">
            
                    
                    网络安全相关 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../HttpAndBrowerAndPerformanceSafety/Interview/Performance/">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/Interview/Performance/">
            
                    
                    性能相关 ✘
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.3.1" data-path="../HttpAndBrowerAndPerformanceSafety/Interview/Performance/detail.html">
            
                <a href="../HttpAndBrowerAndPerformanceSafety/Interview/Performance/detail.html">
            
                    
                    详细 ✔
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Javascript/interview/js基础面试.html">
            
                <a href="../Javascript/interview/js基础面试.html">
            
                    
                    Javascript基础面试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Javascript/interview/es6面试.html">
            
                <a href="../Javascript/interview/es6面试.html">
            
                    
                    es6面试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Javascript/interview/js综合基础题.html">
            
                <a href="../Javascript/interview/js综合基础题.html">
            
                    
                    Javascript综合基础题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../Javascript/基础1.1JavaScript声明变量详解.html">
            
                <a href="../Javascript/基础1.1JavaScript声明变量详解.html">
            
                    
                    基础1.1JavaScript声明变量详解 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../Javascript/基础1.2:变量（变量提升,暂时性死区）、执行（上下文）环境、执行栈、事件循环机制、作用域、作用域链.html">
            
                <a href="../Javascript/基础1.2:变量（变量提升,暂时性死区）、执行（上下文）环境、执行栈、事件循环机制、作用域、作用域链.html">
            
                    
                    基础1.2:变量（变量提升,暂时性死区）、执行（上下文）环境、执行栈、事件循环机制、作用域、作用域链 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../Javascript/基础1.3：面向对象之理解对象.html">
            
                <a href="../Javascript/基础1.3：面向对象之理解对象.html">
            
                    
                    基础1.3：面向对象之理解对象 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../Javascript/基础1.4：面向对象之创建对象的八种模式.html">
            
                <a href="../Javascript/基础1.4：面向对象之创建对象的八种模式.html">
            
                    
                    基础1.4：面向对象之创建对象的八种模式 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../Javascript/基础1.5：面向对象之继承的的八种方式.html">
            
                <a href="../Javascript/基础1.5：面向对象之继承的的八种方式.html">
            
                    
                    基础1.5：面向对象之继承的的八种方式 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../Javascript/基础2.1：原型和原型链（继承）.html">
            
                <a href="../Javascript/基础2.1：原型和原型链（继承）.html">
            
                    
                    基础2.1：原型和原型链(继承) ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../Javascript/基础2.2：作用域和作用域链.html">
            
                <a href="../Javascript/基础2.2：作用域和作用域链.html">
            
                    
                    基础2.2：作用域和作用域链 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../Javascript/基础2.3：闭包，作用域链理解闭包.html">
            
                <a href="../Javascript/基础2.3：闭包，作用域链理解闭包.html">
            
                    
                    基础2.3：闭包，作用域链理解闭包 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="../Javascript/基础2.4：this.html">
            
                <a href="../Javascript/基础2.4：this.html">
            
                    
                    基础2.4：this ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../Javascript/基础3.1：js内存与内存泄漏.html">
            
                <a href="../Javascript/基础3.1：js内存与内存泄漏.html">
            
                    
                    基础3.1：js内存与内存泄漏 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../Javascript/高性能渲染十万条数据（DocumentFragment + requestAnimationFrame）.html">
            
                <a href="../Javascript/高性能渲染十万条数据（DocumentFragment + requestAnimationFrame）.html">
            
                    
                    高性能渲染十万条数据（DocumentFragment + requestAnimationFrame） ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="../Javascript/多个连续的箭头函数与柯里化.html">
            
                <a href="../Javascript/多个连续的箭头函数与柯里化.html">
            
                    
                    多个连续的箭头函数与柯里化 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.16" data-path="../Javascript/函数式编程（纯函数，高阶函数，函数柯里化，函数组合，声明式和非声明式命令，point free）.html">
            
                <a href="../Javascript/函数式编程（纯函数，高阶函数，函数柯里化，函数组合，声明式和非声明式命令，point free）.html">
            
                    
                    函数式编程（纯函数，高阶函数，函数柯里化，函数组合，声明式和非声明式命令，point free） ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.17" data-path="../Javascript/判断数据类型.html">
            
                <a href="../Javascript/判断数据类型.html">
            
                    
                    判断数据类型 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.18" data-path="../Javascript/事件绑定、事件监听、事件委托（事件代理）.html">
            
                <a href="../Javascript/事件绑定、事件监听、事件委托（事件代理）.html">
            
                    
                    事件绑定、事件监听、事件委托（事件代理） ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.19" data-path="../Javascript/树形数据扁平化，扁平化数据树形化.html">
            
                <a href="../Javascript/树形数据扁平化，扁平化数据树形化.html">
            
                    
                    树形数据扁平化，扁平化数据树形化 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.20" data-path="../Javascript/图片上传.html">
            
                <a href="../Javascript/图片上传.html">
            
                    
                    图片上传 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.21" data-path="../Javascript/项目中第一次向数据库连续添加多条数据.html">
            
                <a href="../Javascript/项目中第一次向数据库连续添加多条数据.html">
            
                    
                    项目中第一次向数据库连续添加多条数据 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.22" data-path="../Javascript/原型和闭包.html">
            
                <a href="../Javascript/原型和闭包.html">
            
                    
                    原型和闭包 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.23" data-path="../Javascript/指数化退避.html">
            
                <a href="../Javascript/指数化退避.html">
            
                    
                    指数化退避 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.24" data-path="../Javascript/前端模块化：AMD、CMD、ES6、CommonJS.html">
            
                <a href="../Javascript/前端模块化：AMD、CMD、ES6、CommonJS.html">
            
                    
                    前端模块化：AMD、CMD、ES6、CommonJS ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.25" data-path="../Javascript/JavaScript常用数组操作方法，包含ES6方法.html">
            
                <a href="../Javascript/JavaScript常用数组操作方法，包含ES6方法.html">
            
                    
                    JavaScript常用数组操作方法，包含ES6方法 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.26" data-path="../Javascript/js坑点.html">
            
                <a href="../Javascript/js坑点.html">
            
                    
                    js坑点 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.27" >
            
                <span>
            
                    
                    奇技淫巧 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.27.1" data-path="../Javascript/Special/奇技淫巧.html">
            
                <a href="../Javascript/Special/奇技淫巧.html">
            
                    
                    奇技淫巧part1 ✔
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.28" >
            
                <span>
            
                    
                    typescript ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.28.1" data-path="../Javascript/typescript/typescript面试题.html">
            
                <a href="../Javascript/typescript/typescript面试题.html">
            
                    
                    typescript面试题 ✔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.28.2" data-path="../Javascript/typescript/typescript注意的地方.html">
            
                <a href="../Javascript/typescript/typescript注意的地方.html">
            
                    
                    typescript注意的地方 ✔
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <span>
            
                    
                    前后端框架相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" >
            
                <span>
            
                    
                    前端 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" >
            
                <span>
            
                    
                    React ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1.1" >
            
                <span>
            
                    
                    React面试 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1.1.1" data-path="../Framework/前端/React/Interview/react面试题.html">
            
                <a href="../Framework/前端/React/Interview/react面试题.html">
            
                    
                    react面试题 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.1.1.2" data-path="../Framework/前端/React/Interview/react面试题复杂.html">
            
                <a href="../Framework/前端/React/Interview/react面试题复杂.html">
            
                    
                    react面试题复杂 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.1.1.2" >
            
                <span>
            
                    
                    React源码分析 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1.2.1" data-path="../Framework/前端/React/源码分析/react.html">
            
                <a href="../Framework/前端/React/源码分析/react.html">
            
                    
                    React ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.1.1.3" data-path="../Framework/前端/React/react坑.html">
            
                <a href="../Framework/前端/React/react坑.html">
            
                    
                    react坑 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.1.4" data-path="../Framework/前端/React/react技巧.html">
            
                <a href="../Framework/前端/React/react技巧.html">
            
                    
                    react技巧 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" >
            
                <span>
            
                    
                    Vue ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.2.1" >
            
                <span>
            
                    
                    Vue面试 ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.2.1.1" data-path="../Framework/前端/Vue/Interview/持续更新面试题.html">
            
                <a href="../Framework/前端/Vue/Interview/持续更新面试题.html">
            
                    
                    持续更新面试题 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2.1.2" data-path="../Framework/前端/Vue/Interview/vue面试题.html">
            
                <a href="../Framework/前端/Vue/Interview/vue面试题.html">
            
                    
                    vue面试题 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2.1.3" data-path="../Framework/前端/Vue/Interview/vue3.0.html">
            
                <a href="../Framework/前端/Vue/Interview/vue3.0.html">
            
                    
                    vue3.0 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2.1.4" data-path="../Framework/前端/Vue/Interview/vuex面试题.html">
            
                <a href="../Framework/前端/Vue/Interview/vuex面试题.html">
            
                    
                    vuex面试题 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2.1.5" data-path="../Framework/前端/Vue/Interview/vue-router面试题.html">
            
                <a href="../Framework/前端/Vue/Interview/vue-router面试题.html">
            
                    
                    vue-router面试题 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../Framework/前端/小程序面试.html">
            
                <a href="../Framework/前端/小程序面试.html">
            
                    
                    小程序 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../Framework/前端/vue和react对比.html">
            
                <a href="../Framework/前端/vue和react对比.html">
            
                    
                    vue和react对比 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../Framework/前端/vue2.0双向绑定原理以及简易实现.html">
            
                <a href="../Framework/前端/vue2.0双向绑定原理以及简易实现.html">
            
                    
                    vue2.0双向绑定原理以及简易实现 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <span>
            
                    
                    手写代码
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" >
            
                <span>
            
                    
                    js ✘
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1.1" data-path="../Coding/js/手写代码.html">
            
                <a href="../Coding/js/手写代码.html">
            
                    
                    js手写代码 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.1.2" data-path="../Coding/js/执行结果解释原因.html">
            
                <a href="../Coding/js/执行结果解释原因.html">
            
                    
                    js执行结果解释原因 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" >
            
                <span>
            
                    
                    设计模式
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../DesignPattern/js实现23种设计模式.html">
            
                <a href="../DesignPattern/js实现23种设计模式.html">
            
                    
                    js实现23种设计模式 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" >
            
                <span>
            
                    
                    数据结构和算法
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" >
            
                <span>
            
                    
                    Javascript实现
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1.1" data-path="../Algorithms/Javascript/知识盲点.html">
            
                <a href="../Algorithms/Javascript/知识盲点.html">
            
                    
                    知识盲点.md
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.2" data-path="../Algorithms/Javascript/算法常见面试.html">
            
                <a href="../Algorithms/Javascript/算法常见面试.html">
            
                    
                    面试常见
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.3" data-path="../Algorithms/Javascript/递归，尾递归，相互递归，蹦床函数.html">
            
                <a href="../Algorithms/Javascript/递归，尾递归，相互递归，蹦床函数.html">
            
                    
                    递归，尾递归，相互递归，蹦床函数.md
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.4" data-path="../Algorithms/Javascript/动态规划.html">
            
                <a href="../Algorithms/Javascript/动态规划.html">
            
                    
                    动态规划.md
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.5" data-path="../Algorithms/Javascript/回溯算法.html">
            
                <a href="../Algorithms/Javascript/回溯算法.html">
            
                    
                    回溯算法.md
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.6" data-path="../Algorithms/Javascript/大数据.html">
            
                <a href="../Algorithms/Javascript/大数据.html">
            
                    
                    大数据处理.md
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../Algorithms/Java/">
            
                <a href="../Algorithms/Java/">
            
                    
                    Java实现
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="../Algorithms/知识点/树.html">
            
                <a href="../Algorithms/知识点/树.html">
            
                    
                    知识点
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" >
            
                <span>
            
                    
                    工作常用代码
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="../UseInJob/Js.html">
            
                <a href="../UseInJob/Js.html">
            
                    
                    Js ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="../UseInJob/axios.html">
            
                <a href="../UseInJob/axios.html">
            
                    
                    axios ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.3" data-path="../UseInJob/util.html">
            
                <a href="../UseInJob/util.html">
            
                    
                    util ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.4" data-path="../UseInJob/切换主题.html">
            
                <a href="../UseInJob/切换主题.html">
            
                    
                    切换主题 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.5" data-path="../UseInJob/vue相关坑点.html">
            
                <a href="../UseInJob/vue相关坑点.html">
            
                    
                    vue相关坑点 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.6" data-path="../UseInJob/vue插件.html">
            
                <a href="../UseInJob/vue插件.html">
            
                    
                    vue插件 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.7" data-path="../UseInJob/vue自定义指令相关.html">
            
                <a href="../UseInJob/vue自定义指令相关.html">
            
                    
                    vue自定义指令相关 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" >
            
                <span>
            
                    
                    数据库
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" >
            
                <span>
            
                    
                    面试
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="../Database/InterView/查询学生成绩相关.html">
            
                <a href="../Database/InterView/查询学生成绩相关.html">
            
                    
                    查询学生成绩相关 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="../Database/InterView/优化相关.html">
            
                <a href="../Database/InterView/优化相关.html">
            
                    
                    优化相关 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <span>
            
                    
                    项目规范
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../项目规范/前端/eslint+prettier+editorconfig+lint-staged.html">
            
                <a href="../项目规范/前端/eslint+prettier+editorconfig+lint-staged.html">
            
                    
                    eslint+prettier+editorconfig+lint-staged ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../项目规范/前端/相关命令.html">
            
                <a href="../项目规范/前端/相关命令.html">
            
                    
                    相关命令 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../项目规范/前端/vue-cli中规范.html">
            
                <a href="../项目规范/前端/vue-cli中规范.html">
            
                    
                    vue-cli中规范 ✘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../项目规范/git常见命令.html">
            
                <a href="../项目规范/git常见命令.html">
            
                    
                    git常见命令 ✘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >webpack4</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;&#x524D;&#x5148;npm&#x521D;&#x59CB;&#x5316;"><b></b>&#x5B89;&#x88C5;&#x524D;&#x5148;npm&#x521D;&#x59CB;&#x5316;</a></li><li><span class="title-icon "></span><a href="#&#x672C;&#x5730;&#x670D;&#x52A1;"><b></b>&#x672C;&#x5730;&#x670D;&#x52A1;</a></li><li><span class="title-icon "></span><a href="#&#x590D;&#x5236;html"><b></b>&#x590D;&#x5236;html</a></li><li><span class="title-icon "></span><a href="#&#x5904;&#x7406;css"><b></b>&#x5904;&#x7406;css</a></li><li><span class="title-icon "></span><a href="#&#x5904;&#x7406;less"><b></b>&#x5904;&#x7406;less</a></li><li><span class="title-icon "></span><a href="#&#x62BD;&#x79BB;css&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;link&#x5F15;&#x5165;"><b></b>&#x62BD;&#x79BB;css&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;link&#x5F15;&#x5165;</a></li><li><span class="title-icon "></span><a href="#&#x538B;&#x7F29;css&#x548C;js"><b></b>&#x538B;&#x7F29;css&#x548C;js</a></li><li><span class="title-icon "></span><a href="#&#x7ED9;css&#x52A0;&#x4E0A;&#x517C;&#x5BB9;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x7F00;"><b></b>&#x7ED9;css&#x52A0;&#x4E0A;&#x517C;&#x5BB9;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x7F00;</a></li><li><span class="title-icon "></span><a href="#es6-&#x8F6C;-es5"><b></b>es6 &#x8F6C; es5</a></li><li><span class="title-icon "></span><a href="#&#x8F6C;es7&#x7684;&#x8BED;&#x6CD5;"><b></b>&#x8F6C;es7&#x7684;&#x8BED;&#x6CD5;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5176;&#x4ED6;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x9AD8;&#x7EA7;&#x8BED;&#x6CD5;"><b></b>&#x5176;&#x4ED6;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x9AD8;&#x7EA7;&#x8BED;&#x6CD5;</a></li></ul><li><span class="title-icon "></span><a href="#&#x8BED;&#x6CD5;&#x68C0;&#x67E5;-eslint"><b></b>&#x8BED;&#x6CD5;&#x68C0;&#x67E5; eslint</a></li><li><span class="title-icon "></span><a href="#&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5F15;&#x5165;"><b></b>&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5F15;&#x5165;</a></li><li><span class="title-icon "></span><a href="#webpack&#x56FE;&#x7247;&#x6253;&#x5305;"><b></b>webpack&#x56FE;&#x7247;&#x6253;&#x5305;</a></li><li><span class="title-icon "></span><a href="#&#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64"><b></b>&#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64</a></li><li><span class="title-icon "></span><a href="#&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5206;&#x7C7B;"><b></b>&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5206;&#x7C7B;</a></li><li><span class="title-icon "></span><a href="#&#x5E0C;&#x671B;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7ED9;&#x8FD9;&#x4E9B;cssimg&#x52A0;&#x4E0A;&#x524D;&#x7F00;&#xFF0C;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x80FD;&#x8BBF;&#x95EE;"><b></b>&#x5E0C;&#x671B;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7ED9;&#x8FD9;&#x4E9B;css\img&#x52A0;&#x4E0A;&#x524D;&#x7F00;&#xFF0C;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x80FD;&#x8BBF;&#x95EE;</a></li><li><span class="title-icon "></span><a href="#&#x5982;&#x679C;&#x53EA;&#x5E0C;&#x671B;&#x5904;&#x7406;&#x56FE;&#x7247;"><b></b>&#x5982;&#x679C;&#x53EA;&#x5E0C;&#x671B;&#x5904;&#x7406;&#x56FE;&#x7247;</a></li><li><span class="title-icon "></span><a href="#&#x6253;&#x5305;&#x591A;&#x9875;&#x5E94;&#x7528;"><b></b>&#x6253;&#x5305;&#x591A;&#x9875;&#x5E94;&#x7528;</a></li><li><span class="title-icon "></span><a href="#&#x914D;&#x7F6E;source-map"><b></b>&#x914D;&#x7F6E;source-map</a></li><li><span class="title-icon "></span><a href="#watch-&#x6539;&#x5B8C;&#x4EE3;&#x8868;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x5B9E;&#x4F53;"><b></b>watch &#x6539;&#x5B8C;&#x4EE3;&#x8868;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x5B9E;&#x4F53;</a></li><li><span class="title-icon "></span><a href="#webpack&#x7684;&#x5176;&#x4ED6;&#x4E09;&#x4E2A;&#x5C0F;&#x63D2;&#x4EF6;"><b></b>webpack&#x7684;&#x5176;&#x4ED6;&#x4E09;&#x4E2A;&#x5C0F;&#x63D2;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#webpack-&#x8DE8;&#x57DF;"><b></b>webpack &#x8DE8;&#x57DF;</a></li><li><span class="title-icon "></span><a href="#1&#x5982;&#x679C;&#x540E;&#x7AEF;&#x7ED9;&#x7684;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;api-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><b></b>1.&#x5982;&#x679C;&#x540E;&#x7AEF;&#x7ED9;&#x7684;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;API &#x300C;&#x8DE8;&#x57DF;&#x300D;</a></li><li><span class="title-icon "></span><a href="#2&#x524D;&#x7AEF;&#x53EA;&#x60F3;&#x5355;&#x7EAF;mock&#x6570;&#x636E;-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><b></b>2.&#x524D;&#x7AEF;&#x53EA;&#x60F3;&#x5355;&#x7EAF;mock&#x6570;&#x636E; &#x300C;&#x8DE8;&#x57DF;&#x300D;</a></li><li><span class="title-icon "></span><a href="#3&#x6709;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E0D;&#x7528;&#x4EE3;&#x7406;-&#x670D;&#x52A1;&#x7AEF;&#x542F;&#x52A8;webpack-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><b></b>3.&#x6709;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E0D;&#x7528;&#x4EE3;&#x7406;, &#x670D;&#x52A1;&#x7AEF;&#x542F;&#x52A8;webpack &#x300C;&#x8DE8;&#x57DF;&#x300D;</a></li><li><span class="title-icon "></span><a href="#webpack&#x89E3;&#x6790;resolve"><b></b>webpack&#x89E3;&#x6790;resolve</a></li><li><span class="title-icon "></span><a href="#&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x5F15;&#x5165;&#x90FD;&#x5F88;&#x957F;&#xFF0C;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5F15;&#x5165;"><b></b>&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x5F15;&#x5165;&#x90FD;&#x5F88;&#x957F;&#xFF0C;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5F15;&#x5165;</a></li><li><span class="title-icon "></span><a href="#&#x7701;&#x7565;&#x6269;&#x5C55;&#x540D;"><b></b>&#x7701;&#x7565;&#x6269;&#x5C55;&#x540D;</a></li><li><span class="title-icon "></span><a href="#&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;"><b></b>&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;</a></li><li><span class="title-icon "></span><a href="#&#x533A;&#x5206;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;"><b></b>&#x533A;&#x5206;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;</a></li><li><span class="title-icon "></span><a href="#webpack-&#x4F18;&#x5316;"><b></b>webpack &#x4F18;&#x5316;</a></li><li><span class="title-icon "></span><a href="#&#x4F18;&#x5316;&#xFF1A;&#x5F53;&#x67D0;&#x4E9B;&#x5305;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x4E2A;&#x4F53;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;"><b></b>&#x4F18;&#x5316;&#xFF1A;&#x5F53;&#x67D0;&#x4E9B;&#x5305;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x4E2A;&#x4F53;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;</a></li><li><span class="title-icon "></span><a href="#&#x4F18;&#x5316;&#xFF1A;&#x89C4;&#x5219;&#x5339;&#x914D;&#x8BBE;&#x7F6E;&#x8303;&#x56F4;"><b></b>&#x4F18;&#x5316;&#xFF1A;&#x89C4;&#x5219;&#x5339;&#x914D;&#x8BBE;&#x7F6E;&#x8303;&#x56F4;</a></li><li><span class="title-icon "></span><a href="#&#x4F18;&#x5316;&#xFF1A;&#x5FFD;&#x7565;&#x4F9D;&#x8D56;&#x4E2D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8BED;&#x8A00;&#x5305;"><b></b>&#x4F18;&#x5316;&#xFF1A;&#x5FFD;&#x7565;&#x4F9D;&#x8D56;&#x4E2D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8BED;&#x8A00;&#x5305;</a></li><li><span class="title-icon "></span><a href="#&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;"><b></b>&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;</a></li><li><span class="title-icon "></span><a href="#&#x591A;&#x7EBF;&#x7A0B;&#x6253;&#x5305;happypack"><b></b>&#x591A;&#x7EBF;&#x7A0B;&#x6253;&#x5305;happypack</a></li><li><span class="title-icon "></span><a href="#webpack-&#x81EA;&#x5E26;&#x7684;&#x4F18;&#x5316;"><b></b>webpack &#x81EA;&#x5E26;&#x7684;&#x4F18;&#x5316;</a></li><li><span class="title-icon "></span><a href="#&#x62BD;&#x53D6;&#x516C;&#x5171;&#x4EE3;&#x7801;"><b></b>&#x62BD;&#x53D6;&#x516C;&#x5171;&#x4EE3;&#x7801;</a></li><li><span class="title-icon "></span><a href="#&#x61D2;&#x52A0;&#x8F7D;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;"><b></b>&#x61D2;&#x52A0;&#x8F7D;(&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;)</a></li><li><span class="title-icon "></span><a href="#&#x70ED;&#x66F4;&#x65B0;&#x5F53;&#x9875;&#x9762;&#x6539;&#x53D8;&#x53EA;&#x66F4;&#x65B0;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x4E0D;&#x91CD;&#x65B0;&#x6253;&#x5305;"><b></b>&#x70ED;&#x66F4;&#x65B0;(&#x5F53;&#x9875;&#x9762;&#x6539;&#x53D8;&#x53EA;&#x66F4;&#x65B0;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x4E0D;&#x91CD;&#x65B0;&#x6253;&#x5305;)</a></li><li><span class="title-icon "></span><a href="#tapable&#x4ECB;&#x7ECD;---synchook"><b></b>tapable&#x4ECB;&#x7ECD; - SyncHook</a></li><li><span class="title-icon "></span><a href="#tapable&#x4ECB;&#x7ECD;---syncbailhook"><b></b>tapable&#x4ECB;&#x7ECD; - SyncBailHook</a></li><li><span class="title-icon "></span><a href="#tapable&#x4ECB;&#x7ECD;---syncwaterfallhook"><b></b>tapable&#x4ECB;&#x7ECD; - SyncWaterfallHook</a></li><li><span class="title-icon "></span><a href="#tapable&#x4ECB;&#x7ECD;---syncloophook"><b></b>tapable&#x4ECB;&#x7ECD; - SyncLoopHook</a></li><li><span class="title-icon "></span><a href="#asyncparallelhook-&#x4E0E;-asyncparallelbailhook"><b></b>AsyncParallelHook &#x4E0E; AsyncParallelBailHook</a></li><li><span class="title-icon "></span><a href="#&#x5F02;&#x6B65;&#x4E32;&#x884C;-&#x2014;&#x2014;-asyncserieshook"><b></b>&#x5F02;&#x6B65;&#x4E32;&#x884C; &#x2014;&#x2014; AsyncSeriesHook</a></li><li><span class="title-icon "></span><a href="#&#x5F02;&#x6B65;&#x4E32;&#x884C;-&#x2014;&#x2014;-asyncserieswaterfallhook"><b></b>&#x5F02;&#x6B65;&#x4E32;&#x884C; &#x2014;&#x2014; AsyncSeriesWaterfallHook</a></li><li><span class="title-icon "></span><a href="#&#x624B;&#x5199;webpack"><b></b>&#x624B;&#x5199;webpack</a></li><li><span class="title-icon "></span><a href="#webpack&#x5206;&#x6790;&#x53CA;&#x5904;&#x7406;"><b></b>webpack&#x5206;&#x6790;&#x53CA;&#x5904;&#x7406;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;"><b></b>&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;</a></li><li><span class="title-icon "></span><a href="#ast&#x9012;&#x5F52;&#x89E3;&#x6790;"><b></b>ast&#x9012;&#x5F52;&#x89E3;&#x6790;</a></li><li><span class="title-icon "></span><a href="#&#x751F;&#x6210;&#x6253;&#x5305;&#x5DE5;&#x5177;"><b></b>&#x751F;&#x6210;&#x6253;&#x5305;&#x5DE5;&#x5177;</a></li><li><span class="title-icon "></span><a href="#&#x589E;&#x52A0;loader"><b></b>&#x589E;&#x52A0;loader</a></li><li><span class="title-icon "></span><a href="#&#x589E;&#x52A0;plugins"><b></b>&#x589E;&#x52A0;plugins</a></li><li><span class="title-icon "></span><a href="#loader"><b></b>loader</a></li><li><span class="title-icon "></span><a href="#&#x914D;&#x7F6E;&#x591A;&#x4E2A;loader"><b></b>&#x914D;&#x7F6E;&#x591A;&#x4E2A;loader</a></li><li><span class="title-icon "></span><a href="#babel-loader&#x5B9E;&#x73B0;"><b></b>babel-loader&#x5B9E;&#x73B0;</a></li><li><span class="title-icon "></span><a href="#banner-loader&#x5B9E;&#x73B0;&#x81EA;&#x521B;"><b></b>banner-loader&#x5B9E;&#x73B0;(&#x81EA;&#x521B;)</a></li><li><span class="title-icon "></span><a href="#&#x5B9E;&#x73B0;file-loader&#x548C;url-loader"><b></b>&#x5B9E;&#x73B0;file-loader&#x548C;url-loader</a></li><li><span class="title-icon "></span><a href="#less-loader&#x548C;css-loader"><b></b>less-loader&#x548C;css-loader</a></li><li><span class="title-icon "></span><a href="#css-loader"><b></b>css-loader</a></li><li><span class="title-icon "></span><a href="#webpack-&#x4E2D;&#x7684;&#x63D2;&#x4EF6;"><b></b>webpack &#x4E2D;&#x7684;&#x63D2;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x6587;&#x4EF6;&#x5217;&#x8868;&#x63D2;&#x4EF6;"><b></b>&#x6587;&#x4EF6;&#x5217;&#x8868;&#x63D2;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x5185;&#x8054;&#x7684;webpack&#x63D2;&#x4EF6;"><b></b>&#x5185;&#x8054;&#x7684;webpack&#x63D2;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x6253;&#x5305;&#x540E;&#x81EA;&#x52A8;&#x53D1;&#x5E03;"><b></b>&#x6253;&#x5305;&#x540E;&#x81EA;&#x52A8;&#x53D1;&#x5E03;</a></li></ul></ul></div><a href="#" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><ul>
<li><a href="#%E5%AE%89%E8%A3%85%E5%89%8D%E5%85%88npm%E5%88%9D%E5%A7%8B%E5%8C%96">&#x5B89;&#x88C5;&#x524D;&#x5148;npm&#x521D;&#x59CB;&#x5316;</a></li>
<li><a href="#%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1">&#x672C;&#x5730;&#x670D;&#x52A1;</a></li>
<li><a href="#%E5%A4%8D%E5%88%B6html">&#x590D;&#x5236;html</a></li>
<li><a href="#%E5%A4%84%E7%90%86css">&#x5904;&#x7406;css</a></li>
<li><a href="#%E5%A4%84%E7%90%86less">&#x5904;&#x7406;less</a></li>
<li><a href="#%E6%8A%BD%E7%A6%BBcss%E6%96%87%E4%BB%B6%E9%80%9A%E8%BF%87link%E5%BC%95%E5%85%A5">&#x62BD;&#x79BB;css&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;link&#x5F15;&#x5165;</a></li>
<li><a href="#%E5%8E%8B%E7%BC%A9css%E5%92%8Cjs">&#x538B;&#x7F29;css&#x548C;js</a></li>
<li><a href="#%E7%BB%99css%E5%8A%A0%E4%B8%8A%E5%85%BC%E5%AE%B9%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%89%8D%E7%BC%80">&#x7ED9;css&#x52A0;&#x4E0A;&#x517C;&#x5BB9;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x7F00;</a></li>
<li><a href="#es6-%E8%BD%AC-es5">es6 &#x8F6C; es5</a></li>
<li><a href="#es-7%E7%9A%84%E8%AF%AD%E6%B3%95">es 7&#x7684;&#x8BED;&#x6CD5;</a></li>
<li><a href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%BC%95%E5%85%A5">&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5F15;&#x5165;</a></li>
<li><a href="#webpack%E5%9B%BE%E7%89%87%E6%89%93%E5%8C%85">webpack&#x56FE;&#x7247;&#x6253;&#x5305;</a></li>
<li><a href="#%E5%BD%93%E5%9B%BE%E7%89%87%E5%B0%8F%E4%BA%8E%E5%A4%9A%E5%B0%91%E7%94%A8base64">&#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64</a></li>
<li><a href="#%E6%89%93%E5%8C%85%E6%96%87%E4%BB%B6%E5%88%86%E7%B1%BB">&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5206;&#x7C7B;</a></li>
<li><a href="#%E5%B8%8C%E6%9C%9B%E8%BE%93%E5%87%BA%E7%9A%84%E6%97%B6%E5%80%99%E7%Bimg%E5%8A%A0%E4%B8%8A%E5%89%8D%E7%BC%80%E4%BC%A0%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%9F%E8%83%BD%E8%AE%BF%E9%97%AE">&#x5E0C;&#x671B;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7ED9;&#x8FD9;&#x4E9B;<code>css\img</code>&#x52A0;&#x4E0A;&#x524D;&#x7F00;&#xFF0C;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x80FD;&#x8BBF;&#x95EE;</a></li>
<li><a href="#%E5%A6%82%E6%9E%9C%E5%8F%AA%E5%B8%8C%E6%9C%9B%E5%A4%84%E7%90%86%E5%9B%BE%E7%89%87">&#x5982;&#x679C;&#x53EA;&#x5E0C;&#x671B;&#x5904;&#x7406;&#x56FE;&#x7247;</a></li>
<li><a href="#%E6%89%93%E5%8C%85%E5%A4%9A%E9%A1%B5%E5%BA%94%E7%94%A8">&#x6253;&#x5305;&#x591A;&#x9875;&#x5E94;&#x7528;</a></li>
<li><a href="#%E9%85%8D%E7%BD%AEsource-map">&#x914D;&#x7F6E;<code>source-map</code></a></li>
<li><a href="#watch-%E6%94%B9%E5%AE%8C%E4%BB%A3%E8%A1%A8%E9%87%8D%E6%96%B0%E6%89%93%E5%8C%85%E5%AE%9E%E4%BD%93"><code>watch</code> &#x6539;&#x5B8C;&#x4EE3;&#x8868;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x5B9E;&#x4F53;</a></li>
<li><a href="#webpack%E7%9A%84%E5%85%B6%E4%BB%96%E4%B8%89%E4%B8%AA%E5%B0%8F%E6%8F%92%E4%BB%B6"><code>webpack</code>&#x7684;&#x5176;&#x4ED6;&#x4E09;&#x4E2A;&#x5C0F;&#x63D2;&#x4EF6;</a></li>
<li><a href="#webpack-%E8%B7%A8%E5%9F%9F"><code>webpack</code> &#x8DE8;&#x57DF;</a></li>
<li><a href="#%E5%A6%82%E6%9E%9C%E5%90%8E%E7%AB%AF%E7%BB%99%E7%9A%84%E8%AF%B7%E6%B1%82%E6%B2%A1%E6%9C%89api-%E8%B7%A8%E5%9F%9F">&#x5982;&#x679C;&#x540E;&#x7AEF;&#x7ED9;&#x7684;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;API &#x300C;&#x8DE8;&#x57DF;&#x300D;</a></li>
<li><a href="#%E5%89%8D%E7%AB%AF%E5%8F%AA%E6%83%B3%E5%8D%95%E7%BA%AFmock%E6%95%B0%E6%8D%AE-%E8%B7%A8%E5%9F%9F">&#x524D;&#x7AEF;&#x53EA;&#x60F3;&#x5355;&#x7EAF;mock&#x6570;&#x636E; &#x300C;&#x8DE8;&#x57DF;&#x300D;</a></li>
<li><a href="#%E6%9C%89%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%B8%8D%E7%94%A8%E4%BB%A3%E7%90%86-%E6%9C%8F%E5%90%AF%E5%8A%A8webpack-%E8%B7%A8%E5%9F%9F">&#x6709;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E0D;&#x7528;&#x4EE3;&#x7406;, &#x670D;&#x52A1;&#x7AEF;&#x542F;&#x52A8;webpack &#x300C;&#x8DE8;&#x57DF;&#x300D;</a></li>
<li><a href="#webpack%E8%A7%A3%E6%9E%90resolve">webpack&#x89E3;&#x6790;resolve</a></li>
<li><a href="#%E4%BD%86%E6%98%AF%E6%AF%8F%E6%AC%A1%E5%BC%95%E5%85%A5%E9%83%BD%E5%BE%88%E9%95%BF%E5%A6%82%E4%B%9B%85%E5%BC%95%E5%85%A5">&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x5F15;&#x5165;&#x90FD;&#x5F88;&#x957F;&#xFF0C;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5F15;&#x5165;</a></li>
<li><a href="#%E7%9C%81%E7%95%A5%E6%89%A9%E5%B1%95%E5%90%8D">&#x7701;&#x7565;&#x6269;&#x5C55;&#x540D;</a></li>
<li><a href="#%E5%AE%9A%E4%B9%89%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;</a></li>
<li><a href="#%E5%8C%BA%E5%88%86%E4%B8%A4%E4%B8%AA%E4%B8%8D%E5%90%8C%E7%9A%84%E7%8E%AF%E5%A2%83">&#x533A;&#x5206;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;</a></li>
<li><a href="#webpack-%E4%BC%98%E5%8C%96">webpack &#x4F18;&#x5316;</a></li>
<li><a href="#%E4%BC%98%E5%8C%96%E5%BD%93%E6%9F%90%E4%BA%9B%E5%8C%85%E6%98%AF%E7%8B%AC%E7%AB%8B%E7%9A%84%E4%B8%AA%E4%BD%93%E6%B2%A1%E6%9C%89%E4%BE%9D%E8%B5%96">&#x4F18;&#x5316;&#xFF1A;&#x5F53;&#x67D0;&#x4E9B;&#x5305;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x4E2A;&#x4F53;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;</a></li>
<li><a href="#%E4%BC%98%E5%8C%96%E8%A7%84%E5%88%99%E5%8C%B9%E9%85%8D%E8%AE%BE%E7%BD%AE%E8%8C%83%E5%9B%B4">&#x4F18;&#x5316;&#xFF1A;&#x89C4;&#x5219;&#x5339;&#x914D;&#x8BBE;&#x7F6E;&#x8303;&#x56F4;</a></li>
<li><a href="#%E4%BC%98%E5%8C%96%E5%BF%BD%E7%95%A5%E4%BE%9D%E8%B5%96%E4%B8%AD%E4%B8%8D%E5%BF%85%E8%A6%81%E7%9A%A8%80%E5%8C%85">&#x4F18;&#x5316;&#xFF1A;&#x5FFD;&#x7565;&#x4F9D;&#x8D56;&#x4E2D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8BED;&#x8A00;&#x5305;</a></li>
<li><a href="#%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93">&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;</a></li>
<li><a href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%89%93%E5%8C%85happypack">&#x591A;&#x7EBF;&#x7A0B;&#x6253;&#x5305;happypack</a></li>
<li><a href="#webpack-%E8%87%AA%E5%B8%A6%E7%9A%84%E4%BC%98%E5%8C%96">webpack &#x81EA;&#x5E26;&#x7684;&#x4F18;&#x5316;</a></li>
<li><a href="#%E6%8A%BD%E5%8F%96%E5%85%AC%E5%85%B1%E4%BB%A3%E7%A0%81">&#x62BD;&#x53D6;&#x516C;&#x5171;&#x4EE3;&#x7801;</a></li>
<li><a href="#%E6%87%92%E5%8A%A0%E8%BD%BD%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD">&#x61D2;&#x52A0;&#x8F7D;(&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;)</a></li>
<li><a href="#%E7%83%AD%E6%9B%B4%E6%96%B0%E5%BD%93%E9%A1%B5%E9%9D%A2%E6%94%B9%E5%8F%98%E5%8F%AA%E6%9B%B4%E6%96%B0%E6%94%B9%E5%8F%98%E7%9A%84%E9%83%A8%E5%88%86%E4%B8%8D%E9%87%8D%E6%96%B0%E6%89%93%E5%8C%85">&#x70ED;&#x66F4;&#x65B0;(&#x5F53;&#x9875;&#x9762;&#x6539;&#x53D8;&#x53EA;&#x66F4;&#x65B0;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x4E0D;&#x91CD;&#x65B0;&#x6253;&#x5305;)</a></li>
<li><a href="#tapable%E4%BB%8B%E7%BB%8D---synchook">tapable&#x4ECB;&#x7ECD; - SyncHook</a></li>
<li><a href="#tapable%E4%BB%8B%E7%BB%8D---syncbailhook">tapable&#x4ECB;&#x7ECD; - SyncBailHook</a></li>
<li><a href="#tapable%E4%BB%8B%E7%BB%8D---syncwaterfallhook">tapable&#x4ECB;&#x7ECD; - SyncWaterfallHook</a></li>
<li><a href="#tapable%E4%BB%8B%E7%BB%8D---syncloophook">tapable&#x4ECB;&#x7ECD; - SyncLoopHook</a></li>
<li><a href="#asyncparallelhook-%E4%B8%8E-asyncparallelbailhook"><code>AsyncParallelHook</code> &#x4E0E; <code>AsyncParallelBailHook</code></a><ul>
<li><a href="#asyncparallelhook">AsyncParallelHook</a></li>
<li><a href="#asyncparallelbailhook">AsyncParallelBailHook</a></li>
</ul>
</li>
<li><a href="#%E5%BC%82%E6%AD%A5%E4%B8%B2%E8%A1%8C--asyncserieshook">&#x5F02;&#x6B65;&#x4E32;&#x884C; &#x2014;&#x2014; AsyncSeriesHook</a></li>
<li><a href="#%E5%BC%82%E6%AD%A5%E4%B8%B2%E8%A1%8C--asyncserieswaterfallhook">&#x5F02;&#x6B65;&#x4E32;&#x884C; &#x2014;&#x2014; AsyncSeriesWaterfallHook</a></li>
<li><a href="#%E6%89%8B%E5%86%99webpack">&#x624B;&#x5199;webpack</a></li>
<li><a href="#webpack%E5%88%86%E6%9E%90%E5%8F%8A%E5%A4%84%E7%90%86">webpack&#x5206;&#x6790;&#x53CA;&#x5904;&#x7406;</a></li>
<li><a href="#%E5%88%9B%E5%BB%BA%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB">&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;</a></li>
<li><a href="#ast%E9%80%92%E5%BD%92%E8%A7%A3%E6%9E%90">ast&#x9012;&#x5F52;&#x89E3;&#x6790;</a></li>
<li><a href="#%E7%94%9F%E6%88%90%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7">&#x751F;&#x6210;&#x6253;&#x5305;&#x5DE5;&#x5177;</a></li>
<li><a href="#%E5%A2%9E%E5%8A%A0loader">&#x589E;&#x52A0;loader</a></li>
<li><a href="#%E5%A2%9E%E5%8A%A0plugins">&#x589E;&#x52A0;plugins</a></li>
<li><a href="#loader">loader</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AAloader">&#x914D;&#x7F6E;&#x591A;&#x4E2A;loader</a></li>
<li><a href="#babel-loader%E5%AE%9E%E7%8E%B0"><code>babel-loader</code>&#x5B9E;&#x73B0;</a></li>
<li><a href="#banner-loader%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%88%9B"><code>banner-loader</code>&#x5B9E;&#x73B0;(&#x81EA;&#x521B;)</a></li>
<li><a href="#%E5%AE%9E%E7%8E%B0file-loader%E5%92%8Curl-loader">&#x5B9E;&#x73B0;<code>file-loader</code>&#x548C;<code>url-loader</code></a></li>
<li><a href="#less-loader%E5%92%8Ccss-loader"><code>less-loader</code>&#x548C;<code>css-loader</code></a></li>
<li><a href="#css-loader"><code>css-loader</code></a></li>
<li><a href="#webpack-%E4%B8%AD%E7%9A%84%E6%8F%92%E4%BB%B6">webpack &#x4E2D;&#x7684;&#x63D2;&#x4EF6;</a></li>
<li><a href="#%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8%E6%8F%92%E4%BB%B6">&#x6587;&#x4EF6;&#x5217;&#x8868;&#x63D2;&#x4EF6;</a></li>
<li><a href="#%E5%86%85%E8%81%94%E7%9A%84webpack%E6%8F%92%E4%BB%B6">&#x5185;&#x8054;&#x7684;<code>webpack</code>&#x63D2;&#x4EF6;</a></li>
<li><a href="#%E6%89%93%E5%8C%85%E5%90%8E%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83">&#x6253;&#x5305;&#x540E;&#x81EA;&#x52A8;&#x53D1;&#x5E03;</a></li>
</ul>
<h2 id="&#x5B89;&#x88C5;&#x524D;&#x5148;npm&#x521D;&#x59CB;&#x5316;"><a name="&#x5B89;&#x88C5;&#x524D;&#x5148;npm&#x521D;&#x59CB;&#x5316;" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;&#x524D;&#x5148;npm&#x521D;&#x59CB;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;&#x524D;&#x5148;npm&#x521D;&#x59CB;&#x5316;</h2>
<pre class="language-"><code>npm init -y
npm i webpack webpack-cli -D
</code></pre><pre class="language-"><code class="lang-js"><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;path&apos;</span><span class="token punctuation">)</span>   <span class="token comment">// &#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x53D8;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">&apos;production&apos;</span><span class="token punctuation">,</span> <span class="token comment">// &#x6A21;&#x5F0F; &#x9ED8;&#x8BA4; production development</span>
  entry<span class="token punctuation">:</span> <span class="token string">&apos;./src/index&apos;</span><span class="token punctuation">,</span>    <span class="token comment">// &#x5165;&#x53E3;</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">&apos;bundle.[hash:8].js&apos;</span><span class="token punctuation">,</span>   <span class="token comment">// hash: 8&#x53EA;&#x663E;&#x793A;8&#x4F4D;</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&apos;dist&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span>  <span class="token comment">// // &#x7ED9;&#x6240;&#x6709;&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5F15;&#x5165;&#x65F6;&#x52A0;&#x524D;&#x7F00;&#xFF0C;&#x5305;&#x62EC;css&#xFF0C;js&#xFF0C;img&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x60F3;&#x5904;&#x7406;&#x56FE;&#x7247;&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x5728;url-loader&#x914D;&#x7F6E;&#x4E2D;&#x52A0;publicPath</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="&#x672C;&#x5730;&#x670D;&#x52A1;"><a name="&#x672C;&#x5730;&#x670D;&#x52A1;" class="anchor-navigation-ex-anchor" href="#&#x672C;&#x5730;&#x670D;&#x52A1;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x672C;&#x5730;&#x670D;&#x52A1;</h2>
<p><code>npm i webpack-dev-server -D</code></p>
<pre class="language-"><code>devServer: {
  port: 3000,
  progress: true          // &#x6EDA;&#x52A8;&#x6761;
  contentBase: &apos;./build&apos;  // &#x8D77;&#x670D;&#x52A1;&#x7684;&#x5730;&#x5740;
  open: true              // &#x81EA;&#x52A8;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;
  compress&#xFF1A; true         // gzip&#x538B;&#x7F29;
}
</code></pre><h2 id="&#x590D;&#x5236;html"><a name="&#x590D;&#x5236;html" class="anchor-navigation-ex-anchor" href="#&#x590D;&#x5236;html"><i class="fa fa-link" aria-hidden="true"></i></a>&#x590D;&#x5236;html</h2>
<p><code>npm i html-webpack-plugin -D</code></p>
<pre class="language-"><code>let HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)
plugins: [ // &#x653E;&#x7740;&#x6240;&#x6709;webpack&#x63D2;&#x4EF6;
  new HtmlWebpackPlugin({ // &#x7528;&#x4E8E;&#x4F7F;&#x7528;&#x6A21;&#x677F;&#x6253;&#x5305;&#x65F6;&#x751F;&#x6210;index.html&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x5728;run dev&#x65F6;&#x4F1A;&#x5C06;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4E5F;&#x6253;&#x5305;&#x5230;&#x5185;&#x5B58;&#x4E2D;
    template: &apos;./index.html&apos;, // &#x6A21;&#x677F;&#x6587;&#x4EF6;
    filename: &apos;index.html&apos;, // &#x6253;&#x5305;&#x540E;&#x751F;&#x6210;&#x6587;&#x4EF6;
    hash: true, // &#x6DFB;&#x52A0;hash&#x503C;&#x89E3;&#x51B3;&#x7F13;&#x5B58;&#x95EE;&#x9898;
    minify: { // &#x5BF9;&#x6253;&#x5305;&#x7684;html&#x6A21;&#x677F;&#x8FDB;&#x884C;&#x538B;&#x7F29;
      removeAttributeQuotes: true, // &#x5220;&#x9664;&#x5C5E;&#x6027;&#x53CC;&#x5F15;&#x53F7;
      collapseWhitespace: true // &#x6298;&#x53E0;&#x7A7A;&#x884C;&#x53D8;&#x6210;&#x4E00;&#x884C;
    }
  })
]
</code></pre><p><a href="https://github.com/jantimon/html-webpack-plugin#options" target="_blank">html-webpack-plugin#options</a></p>
<h2 id="&#x5904;&#x7406;css"><a name="&#x5904;&#x7406;css" class="anchor-navigation-ex-anchor" href="#&#x5904;&#x7406;css"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5904;&#x7406;css</h2>
<p><code>npm i css-loader style-loader -D</code></p>
<pre class="language-"><code>// css-loader   &#x4F5C;&#x7528;&#xFF1A;&#x7528;&#x6765;&#x89E3;&#x6790;@import&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;
// style-loader &#x4F5C;&#x7528;&#xFF1A;&#x628A; css &#x63D2;&#x5165;&#x5230;head&#x6807;&#x7B7E;&#x4E2D;
// loader&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#xFF1A; &#x9ED8;&#x8BA4;&#x662F;&#x4ECE;&#x53F3;&#x5411;&#x5DE6;&#xFF08;&#x4ECE;&#x4E0B;&#x5411;&#x4E0A;&#xFF09;
module: {    // &#x6A21;&#x5757;
  rules: [   // &#x89C4;&#x5219;
    // style-loader &#x628A;css&#x63D2;&#x5165;head&#x6807;&#x7B7E;&#x4E2D;
    // loader &#x529F;&#x80FD;&#x5355;&#x4E00;
    // &#x591A;&#x4E2A;loader &#x9700;&#x8981; []
    // &#x987A;&#x4FBF;&#x9ED8;&#x8BA4;&#x4ECE;&#x53F3;&#x5230;&#x5DE6;
    // &#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#x5BF9;&#x8C61;&#x65B9;&#x5F0F;
    {
      test: /\.css$/,   // css &#x5904;&#x7406;
      // use: &apos;css-loader&apos;
      // use: [&apos;style-loader&apos;, &apos;css-loader&apos;],
      use: [
        // {
        //     loader: &apos;style-loader&apos;,
        //     options: {
        //         insertAt: &apos;top&apos; // &#x5C06;css&#x6807;&#x7B7E;&#x63D2;&#x5165;&#x6700;&#x9876;&#x5934;  &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;style&#x4E0D;&#x88AB;&#x8986;&#x76D6;
        //     }
        // },
        MiniCssExtractPlugin.loader,
        &apos;css-loader&apos;, // css-loader &#x7528;&#x6765;&#x89E3;&#x6790;@import&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;,
        &apos;postcss-loader&apos;
      ]
    }
  ]
}
</code></pre><h2 id="&#x5904;&#x7406;less"><a name="&#x5904;&#x7406;less" class="anchor-navigation-ex-anchor" href="#&#x5904;&#x7406;less"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5904;&#x7406;less</h2>
<p><code>npm i less-loader</code></p>
<pre class="language-"><code>{
  test: /\.less$/,   // less &#x5904;&#x7406;
  // use: &apos;css-loader&apos;
  // use: [&apos;style-loader&apos;, &apos;css-loader&apos;],
  use: [
    // {
    //     loader: &apos;style-loader&apos;,
    //     options: {
    //         insertAt: &apos;top&apos; // &#x5C06;css&#x6807;&#x7B7E;&#x63D2;&#x5165;&#x6700;&#x9876;&#x5934;  &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;style&#x4E0D;&#x88AB;&#x8986;&#x76D6;
    //     }
    // },
    MiniCssExtractPlugin.loader,   // &#x8FD9;&#x6837;&#x76F8;&#x5F53;&#x4E8E;&#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;css&#x6587;&#x4EF6;&#xFF0C; &#x5982;&#x679C;&#x5E0C;&#x671B;&#x62BD;&#x79BB;&#x6210;&#x5206;&#x522B;&#x4E0D;&#x540C;&#x7684;css, &#x9700;&#x8981;&#x518D;&#x5F15;&#x5165;MiniCssExtractPlugin&#xFF0C;&#x518D;&#x914D;&#x7F6E;
    &apos;css-loader&apos;, // css-loader &#x7528;&#x6765;&#x89E3;&#x6790;@import&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;
    &apos;postcss-loader&apos;,
    &apos;less-loader&apos; // less-loader less -&gt; css
    // sass node-sass sass-loader
    // stylus stylus-loader
  ]
}
</code></pre><p><a href="https://webpack.js.org/loaders/less-loader/#src/components/Sidebar/Sidbar.jsx" target="_blank">less-loader</a></p>
<h2 id="&#x62BD;&#x79BB;css&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;link&#x5F15;&#x5165;"><a name="&#x62BD;&#x79BB;css&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;link&#x5F15;&#x5165;" class="anchor-navigation-ex-anchor" href="#&#x62BD;&#x79BB;css&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;link&#x5F15;&#x5165;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x62BD;&#x79BB;css&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;link&#x5F15;&#x5165;</h2>
<p><code>yarn add mini-css-extract-plugin -D</code></p>
<p><a href="https://github.com/webpack-contrib/mini-css-extract-plugin" target="_blank">mini-css-extract-plugin</a></p>
<pre class="language-"><code>let MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;)

// &#x538B;&#x7F29;css

plugins: [
  new MiniCssExtractPlugin({
      filename: &apos;css/main.css&apos;
  })
]

{
  test: /\.css$/,   // css &#x5904;&#x7406;
  // use: &apos;css-loader&apos;
  // use: [&apos;style-loader&apos;, &apos;css-loader&apos;],
  use: [
    // {
    //     loader: &apos;style-loader&apos;,
    //     options: {
    //         insertAt: &apos;top&apos; // &#x5C06;css&#x6807;&#x7B7E;&#x63D2;&#x5165;&#x6700;&#x9876;&#x5934;  &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;style&#x4E0D;&#x88AB;&#x8986;&#x76D6;
    //     }
    // },
    // &#x6B64;&#x65F6;&#x4E0D;&#x9700;&#x8981;style-loader
    MiniCssExtractPlugin.loader,   // &#x62BD;&#x79BB;
    &apos;css-loader&apos;, // css-loader &#x7528;&#x6765;&#x89E3;&#x6790;@import&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;,
    &apos;postcss-loader&apos;
  ]
}
</code></pre><p>&#x62BD;&#x79BB;css&#x63D2;&#x4EF6;&#x6587;&#x4EF6;&#x65F6;&#x53EF;&#x4F7F;&#x7528;<code>optimize-css-assets-webpack-plugin</code>&#x4F18;&#x5316;&#x538B;&#x7F29;css&#x4EE5;&#x53CA;js&#x6587;&#x4EF6;</p>
<h2 id="&#x538B;&#x7F29;css&#x548C;js"><a name="&#x538B;&#x7F29;css&#x548C;js" class="anchor-navigation-ex-anchor" href="#&#x538B;&#x7F29;css&#x548C;js"><i class="fa fa-link" aria-hidden="true"></i></a>&#x538B;&#x7F29;css&#x548C;js</h2>
<pre class="language-"><code>// &#x7528;&#x4E86;`mini-css-extract-plugin`&#x62BD;&#x79BB;css&#x4E3A;link&#x9700;&#x4F7F;&#x7528;`optimize-css-assets-webpack-plugin`&#x8FDB;&#x884C;&#x538B;&#x7F29;css,&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x538B;&#x7F29;&#x4E86;css&#x9700;&#x8981;`uglifyjs-webpack-plugin`&#x538B;&#x7F29;js
const OptimizeCSSAssetsPlugin = require(&quot;optimize-css-assets-webpack-plugin&quot;)
const UglifyJsPlugin = require(&quot;uglifyjs-webpack-plugin&quot;)

module.exports = {
  optimization: {              // &#x4F18;&#x5316;&#x9879;
    minimizer: [
      new UglifyJsPlugin({     // &#x4F18;&#x5316;js
        cache: true,           // &#x662F;&#x5426;&#x7F13;&#x5B58;
        parallel: true,        // &#x662F;&#x5426;&#x5E76;&#x53D1;&#x6253;&#x5305;
        // sourceMap: true     // &#x6E90;&#x7801;&#x6620;&#x5C04; set to true if you want JS source maps
      }),
      new OptimizeCSSAssetsPlugin({})    // css &#x7684;&#x4F18;&#x5316;
    ]
  },
  mode: &apos;production&apos;,
  entry: &apos;&apos;,
  output: {},
}
</code></pre><h2 id="&#x7ED9;css&#x52A0;&#x4E0A;&#x517C;&#x5BB9;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x7F00;"><a name="&#x7ED9;css&#x52A0;&#x4E0A;&#x517C;&#x5BB9;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x7F00;" class="anchor-navigation-ex-anchor" href="#&#x7ED9;css&#x52A0;&#x4E0A;&#x517C;&#x5BB9;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x7F00;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7ED9;css&#x52A0;&#x4E0A;&#x517C;&#x5BB9;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x524D;&#x7F00;</h2>
<p><code>yarn add postcss-loader autoprefixer -D</code></p>
<pre class="language-"><code>// css
{
  test: /\.css$/,   // css &#x5904;&#x7406;
  // use: &apos;css-loader&apos;
  // use: [&apos;style-loader&apos;, &apos;css-loader&apos;],
  use: [
    // {
    //     loader: &apos;style-loader&apos;,
    //     options: {
    //         insertAt: &apos;top&apos; // &#x5C06;css&#x6807;&#x7B7E;&#x63D2;&#x5165;&#x6700;&#x9876;&#x5934;  &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;style&#x4E0D;&#x88AB;&#x8986;&#x76D6;
    //     }
    // },
    MiniCssExtractPlugin.loader,
    &apos;css-loader&apos;, // css-loader &#x7528;&#x6765;&#x89E3;&#x6790;@import&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;,
    &apos;postcss-loader&apos;
  ]
}
// less
{
  test: /\.less$/,   // less &#x5904;&#x7406;
  // use: &apos;css-loader&apos;
  // use: [&apos;style-loader&apos;, &apos;css-loader&apos;],
  use: [
    // {
    //     loader: &apos;style-loader&apos;,
    //     options: {
    //         insertAt: &apos;top&apos; // &#x5C06;css&#x6807;&#x7B7E;&#x63D2;&#x5165;&#x6700;&#x9876;&#x5934;  &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;style&#x4E0D;&#x88AB;&#x8986;&#x76D6;
    //     }
    // },
    MiniCssExtractPlugin.loader,   // &#x8FD9;&#x6837;&#x76F8;&#x5F53;&#x4E8E;&#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;css&#x6587;&#x4EF6;&#xFF0C; &#x5982;&#x679C;&#x5E0C;&#x671B;&#x62BD;&#x79BB;&#x6210;&#x5206;&#x522B;&#x4E0D;&#x540C;&#x7684;css, &#x9700;&#x8981;&#x518D;&#x5F15;&#x5165;MiniCssExtractPlugin&#xFF0C;&#x518D;&#x914D;&#x7F6E;
    &apos;css-loader&apos;, // css-loader &#x7528;&#x6765;&#x89E3;&#x6790;@import&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;
    &apos;postcss-loader&apos;,
    &apos;less-loader&apos; // less-loader less -&gt; css
    // sass node-sass sass-loader
    // stylus stylus-loader
  ]
},
</code></pre><p>postcss &#x9700;&#x8981;&#x914D;&#x7F6E;&#x6587;&#x6863;   <code>postcss.config1.js</code></p>
<p><a href="https://github.com/postcss/postcss-loader" target="_blank">postcss-loader</a></p>
<pre class="language-"><code>module.exports = {
  plugins: [
    require(&apos;autoprefixer&apos;)
  ]
}
</code></pre><h2 id="es6-&#x8F6C;-es5"><a name="es6-&#x8F6C;-es5" class="anchor-navigation-ex-anchor" href="#es6-&#x8F6C;-es5"><i class="fa fa-link" aria-hidden="true"></i></a>es6 &#x8F6C; es5</h2>
<p><code>npm i babel-loader @babel/core  @babel/preset-env -D</code></p>
<pre class="language-"><code>module.exports = {
  module: {
    rules: [
      {
        test: /\.js$/,
        use: {
          loader: &apos;babel-loader&apos;,
          options: {
            presets: [ //&#x9884;&#x8BBE;
              &apos;@babel/preset-env&apos; 
            ],
            plugins:[
              // &#x8F6C;es7&#x7684;&#x8BED;&#x6CD5;
              [&quot;@babel/plugin-proposal-decorators&quot;, { &quot;legacy&quot;: true }],
              [&quot;@babel/plugin-proposal-class-properties&quot;, { &quot;loose&quot; : true }]
            ]
          }
        },
        exclude: /node_modules/
      }
    ]
  }
}
</code></pre><h2 id="&#x8F6C;es7&#x7684;&#x8BED;&#x6CD5;"><a name="&#x8F6C;es7&#x7684;&#x8BED;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x8F6C;es7&#x7684;&#x8BED;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8F6C;es7&#x7684;&#x8BED;&#x6CD5;</h2>
<pre class="language-"><code>// &#x8F6C;class
npm i @babel/plugin-proposal-class-properties -D

// &#x8F6C;&#x88C5;&#x9970;&#x5668;
npm i @babel/plugin-proposal-decorators -D
</code></pre><p>&#x914D;&#x7F6E;&#x5982;&#x4E0A;</p>
<h3 id="&#x5176;&#x4ED6;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x9AD8;&#x7EA7;&#x8BED;&#x6CD5;"><a name="&#x5176;&#x4ED6;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x9AD8;&#x7EA7;&#x8BED;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x5176;&#x4ED6;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x9AD8;&#x7EA7;&#x8BED;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5176;&#x4ED6;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x9AD8;&#x7EA7;&#x8BED;&#x6CD5;</h3>
<pre class="language-"><code>&#x4F7F;&#x7528; @babel/polyfill
</code></pre><h2 id="&#x8BED;&#x6CD5;&#x68C0;&#x67E5;-eslint"><a name="&#x8BED;&#x6CD5;&#x68C0;&#x67E5;-eslint" class="anchor-navigation-ex-anchor" href="#&#x8BED;&#x6CD5;&#x68C0;&#x67E5;-eslint"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8BED;&#x6CD5;&#x68C0;&#x67E5; eslint</h2>
<p><code>npm i eslint eslint-loader -S</code></p>
<p>&#x6839;&#x76EE;&#x5F55;&#x6DFB;&#x52A0; <code>.eslintrc.json</code> &#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<pre class="language-"><code>module.exports = {
  module: {
    rules: [
      {
        test: /\.js$/,
        use: {
          loader: &apos;eslint-loader&apos;,
          options: {
            enforce: &apos;pre&apos;  // previous&#x4F18;&#x5148;&#x6267;&#x884C;  post-&#x666E;&#x901A;loader&#x4E4B;&#x540E;&#x6267;&#x884C;
          }
        }
      },
      {
        test: /\.js$/,      // mormal &#x666E;&#x901A;&#x7684;loader
        use: {
          loader: &apos;babel-loader&apos;,
          options: {
            presets: [ //&#x9884;&#x8BBE;
              &apos;@babel/preset-env&apos; 
            ]
          }
        },
        exclude: /node_modules/
      }
    ]
  }
}
</code></pre><h2 id="&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5F15;&#x5165;"><a name="&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5F15;&#x5165;" class="anchor-navigation-ex-anchor" href="#&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5F15;&#x5165;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5F15;&#x5165;</h2>
<p>jquery&#x7684;&#x5F15;&#x5165;</p>
<pre class="language-"><code>npm i jquery -S
</code></pre><pre class="language-"><code>let webpack = require(&apos;webpack&apos;)

new webpack.ProvidePlugin({
  $: &apos;jquery&apos;
})
</code></pre><p>&#x5176;&#x4ED6;&#x60C5;&#x51B5;</p>
<ol>
<li>&#x66B4;&#x9732;&#x5168;&#x5C40;</li>
</ol>
<p><code>npm i expose-loader -D</code> &#x66B4;&#x9732;&#x5168;&#x5C40;&#x7684;<code>loader</code></p>
<h4 id="&#x6CD5;1&#xFF1A;"><a name="&#x6CD5;1&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x6CD5;1&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6CD5;1&#xFF1A;</h4>
<p>&#x53EF;&#x4EE5;&#x5728;js&#x4E2D; <code>import $ from &apos;expose-loader?$!jquery&apos;</code>   // &#x5168;&#x5C40;&#x66B4;&#x9732;jquery&#x4E3A;$&#x7B26;&#x53F7;</p>
<p>&#x53EF;&#x4EE5;&#x8C03;&#x7528;<code>window.$</code></p>
<h4 id="&#x6CD5;2&#xFF1A;"><a name="&#x6CD5;2&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x6CD5;2&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6CD5;2&#xFF1A;</h4>
<p>&#x4E5F;&#x53EF;&#x5728;<code>webpack.config.js</code> &#x4E2D;&#x914D;&#x7F6E; <code>rules</code></p>
<pre class="language-"><code>module.exports = {
  module: {
    rules: [
      {
        test: require.resolve(&apos;jquery&apos;),
        use: &apos;expose-loader?$&apos;
      }
    ]
  }
}
</code></pre><p>&#x4EE5;&#x540E;&#x5728;<code>.js</code>&#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5165;</p>
<pre class="language-"><code>import $ from &apos;jquery&apos;
</code></pre><h4 id="&#x6CD5;3-&#x5982;&#x4F55;&#x5728;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x4E2D;&#x6CE8;&#x5165;&#xFF1A;"><a name="&#x6CD5;3-&#x5982;&#x4F55;&#x5728;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x4E2D;&#x6CE8;&#x5165;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x6CD5;3-&#x5982;&#x4F55;&#x5728;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x4E2D;&#x6CE8;&#x5165;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6CD5;3. &#x5982;&#x4F55;&#x5728;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x4E2D;&#x6CE8;&#x5165;&#xFF1A;</h4>
<pre class="language-"><code>let webpack = require(&apos;webpack&apos;)

module.exports = {
  plugins: [
    new webpack.ProvidePlugin({
      $: &apos;jquery&apos;
    })
  ]
}

&#x4E4B;&#x540E;&#x4EE3;&#x7801;&#x5185;&#x76F4;&#x63A5;&#x4F7F;&#x7528; $
</code></pre><h4 id="&#x6CD5;4&#xFF1A;"><a name="&#x6CD5;4&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x6CD5;4&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6CD5;4&#xFF1A;</h4>
<p>&#x5728;<code>index.html</code>&#x4E2D;&#x901A;&#x8FC7;<code>script</code>&#x6807;&#x7B7E;&#x5F15;&#x5165;<code>jquery</code>, &#x4F46;&#x662F;&#x5728;<code>js</code>&#x4E2D;&#xFF0C;&#x7528;<code>import</code>&#x4F1A;&#x91CD;&#x65B0;&#x6253;&#x5305;<code>jquery</code>,&#x5982;&#x4F55;&#x907F;&#x514D;</p>
<p>&#x4ECE;&#x8F93;&#x51FA;&#x7684;bundle &#x4E2D;&#x6392;&#x9664;&#x4F9D;&#x8D56;</p>
<pre class="language-"><code>module.exports = {
  externals: { // &#x544A;&#x77E5;webpack&#x662F;&#x5916;&#x90E8;&#x5F15;&#x5165;&#x7684;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x6253;&#x5305;
    jquery: &apos;jQuery&apos;
  }
}
</code></pre><p>&#x6B64;&#x65F6;&#x5728;index.js&#x4E0A;</p>
<pre class="language-"><code>import $ from &apos;jquery&apos;

console.log($)
</code></pre><h2 id="webpack&#x56FE;&#x7247;&#x6253;&#x5305;"><a name="webpack&#x56FE;&#x7247;&#x6253;&#x5305;" class="anchor-navigation-ex-anchor" href="#webpack&#x56FE;&#x7247;&#x6253;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a>webpack&#x56FE;&#x7247;&#x6253;&#x5305;</h2>
<ol>
<li>js&#x4E2D;&#x521B;&#x5EFA;</li>
<li>css&#x4E2D;&#x5F15;&#x5165;</li>
<li><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></code></li>
</ol>
<p><code>yarn add file-loader -D</code></p>
<p>&#x9002;&#x5408;&#x4E00;&#x4E8C;&#x60C5;&#x51B5;</p>
<pre class="language-"><code>module.export={
  module: {
    rules: [
      {
        test: /\.(png|jpg|gif)$/,
        use: &apos;file-loader&apos;
      }
    ]
  }
}
</code></pre><p>&#x9ED8;&#x8BA4;&#x4F1A;&#x5185;&#x90E8;&#x751F;&#x6210;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#x5230;build,&#x751F;&#x6210;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84;&#x8FD4;&#x56DE;&#x56DE;&#x6765;</p>
<p>&#x7B2C;&#x4E00;&#x79CD;&#x60C5;&#x51B5;: &#x56FE;&#x7247;&#x5730;&#x5740;&#x8981;<code>import</code>&#x5F15;&#x5165;&#xFF0C;&#x76F4;&#x63A5;&#x5199;&#x56FE;&#x7247;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x4F1A;&#x9ED8;&#x8BA4;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;</p>
<pre class="language-"><code>import logo from &apos;./logo.png&apos;

let image = new Image()
image.src = logo
document.body.appendChild(image)
</code></pre><p>&#x7B2C;&#x4E8C;&#x79CD;&#x60C5;&#x51B5;: <code>css-loader</code>&#x4F1A;&#x5C06;<code>css</code>&#x91CC;&#x9762;&#x7684;&#x56FE;&#x7247;&#x8F6C;&#x4E3A;<code>require</code>&#x7684;&#x683C;&#x5F0F;</p>
<pre class="language-"><code>div {
  background: url(&quot;./logo.png&quot;);
}
</code></pre><p>&#x7B2C;&#x4E09;&#x79CD;&#x60C5;&#x51B5;: &#x89E3;&#x6790;<code>html</code>&#x4E2D;&#x7684;<code>image</code></p>
<p><code>yarn add html-withimg-loader -D</code></p>
<pre class="language-"><code>{
  test: /\.html$/,
  use: &apos;html-withimg-loader&apos;
}
</code></pre><h2 id="&#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64"><a name="&#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64" class="anchor-navigation-ex-anchor" href="#&#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64</h2>
<p><code>yarn add url-loader -D</code></p>
<p>&#x5982;&#x679C;&#x8FC7;&#x5927;&#xFF0C;&#x624D;&#x7528;<code>file-loader</code></p>
<pre class="language-"><code>{
  test: /\.(png|jpg|gif)$/,
  // &#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64,&#x5426;&#x5219;&#x7528;file-loader&#x4EA7;&#x751F;&#x771F;&#x5B9E;&#x7684;&#x56FE;&#x7247;
  use: {
    loader: &apos;url-loader&apos;,
    options: {
      limit: 200 * 1024,          // &#x5C0F;&#x4E8E;200k&#x53D8;&#x6210;base64
      // outputPath: &apos;/img/&apos;,     // &#x6253;&#x5305;&#x540E;&#x8F93;&#x51FA;&#x5730;&#x5740;
      // publicPath: &apos;&apos;           // &#x7ED9;&#x8D44;&#x6E90;&#x52A0;&#x4E0A;&#x57DF;&#x540D;&#x8DEF;&#x5F84;
    }
  }
}
</code></pre><h2 id="&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5206;&#x7C7B;"><a name="&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5206;&#x7C7B;" class="anchor-navigation-ex-anchor" href="#&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5206;&#x7C7B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5206;&#x7C7B;</h2>
<p>1.&#x56FE;&#x7247;:</p>
<pre class="language-"><code>{
  test: /\.(png|jpg|gif)$/,
  // &#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64,&#x5426;&#x5219;&#x7528;file-loader&#x4EA7;&#x751F;&#x771F;&#x5B9E;&#x7684;&#x56FE;&#x7247;
  use: {
    loader: &apos;url-loader&apos;,
    options: {
      limit: 1,  // 200k 200 * 1024
      outputPath: &apos;img/&apos;   // &#x6253;&#x5305;&#x540E;&#x8F93;&#x51FA;&#x5730;&#x5740; &#x5728;dist/img
    }
  }
},
</code></pre><p>2.css:</p>
<pre class="language-"><code>plugins: [
  new MiniCssExtractPlugin({
    filename: &apos;css/main.css&apos;
  }),
]
</code></pre><h2 id="&#x5E0C;&#x671B;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7ED9;&#x8FD9;&#x4E9B;cssimg&#x52A0;&#x4E0A;&#x524D;&#x7F00;&#xFF0C;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x80FD;&#x8BBF;&#x95EE;"><a name="&#x5E0C;&#x671B;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7ED9;&#x8FD9;&#x4E9B;cssimg&#x52A0;&#x4E0A;&#x524D;&#x7F00;&#xFF0C;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x80FD;&#x8BBF;&#x95EE;" class="anchor-navigation-ex-anchor" href="#&#x5E0C;&#x671B;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7ED9;&#x8FD9;&#x4E9B;cssimg&#x52A0;&#x4E0A;&#x524D;&#x7F00;&#xFF0C;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x80FD;&#x8BBF;&#x95EE;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5E0C;&#x671B;&#x8F93;&#x51FA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7ED9;&#x8FD9;&#x4E9B;<code>css\img</code>&#x52A0;&#x4E0A;&#x524D;&#x7F00;&#xFF0C;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x80FD;&#x8BBF;&#x95EE;</h2>
<pre class="language-"><code>output: {
  filename: &apos;bundle.[hash:8].js&apos;,   // hash: 8&#x53EA;&#x663E;&#x793A;8&#x4F4D;
  path: path.resolve(__dirname, &apos;dist&apos;),
  publicPath: &apos;http://www.mayufo.cn&apos;  // &#x7ED9;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x7EDF;&#x4E00;&#x52A0;
},
</code></pre><h2 id="&#x5982;&#x679C;&#x53EA;&#x5E0C;&#x671B;&#x5904;&#x7406;&#x56FE;&#x7247;"><a name="&#x5982;&#x679C;&#x53EA;&#x5E0C;&#x671B;&#x5904;&#x7406;&#x56FE;&#x7247;" class="anchor-navigation-ex-anchor" href="#&#x5982;&#x679C;&#x53EA;&#x5E0C;&#x671B;&#x5904;&#x7406;&#x56FE;&#x7247;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5982;&#x679C;&#x53EA;&#x5E0C;&#x671B;&#x5904;&#x7406;&#x56FE;&#x7247;</h2>
<pre class="language-"><code>{
  test: /\.(png|jpg|gif)$/,
  // &#x5F53;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;&#x591A;&#x5C11;&#xFF0C;&#x7528;base64,&#x5426;&#x5219;&#x7528;file-loader&#x4EA7;&#x751F;&#x771F;&#x5B9E;&#x7684;&#x56FE;&#x7247;
  use: {
    loader: &apos;url-loader&apos;,
    options: {
      limit: 1,  // 200k 200 * 1024
      outputPath: &apos;/img/&apos;,   // &#x6253;&#x5305;&#x540E;&#x8F93;&#x51FA;&#x5730;&#x5740;
      publicPath: &apos;http://www.mayufo.cn&apos;
    }
  }
}
</code></pre><h2 id="&#x6253;&#x5305;&#x591A;&#x9875;&#x5E94;&#x7528;"><a name="&#x6253;&#x5305;&#x591A;&#x9875;&#x5E94;&#x7528;" class="anchor-navigation-ex-anchor" href="#&#x6253;&#x5305;&#x591A;&#x9875;&#x5E94;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6253;&#x5305;&#x591A;&#x9875;&#x5E94;&#x7528;</h2>
<pre class="language-"><code>// &#x591A;&#x5165;&#x53E3;
let path = require(&apos;path&apos;)
let HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)

module.exports = {
  mode: &apos;development&apos;,
  entry: {
    home: &apos;./src/index.js&apos;,
    other: &apos;./src/other.js&apos;
  },
  output: {
    filename: &quot;[name].js&quot;,
    path: path.resolve(__dirname, &apos;dist2&apos;)
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: &apos;./index.html&apos;,
      filename: &apos;home.html&apos;,
      chunks: [&apos;home&apos;]
    }),
    new HtmlWebpackPlugin({
      template: &apos;./index.html&apos;,
      filename: &apos;other.html&apos;,
      chunks: [&apos;other&apos;, &apos;home&apos;]   // other.html &#x91CC;&#x9762;&#x6709; other.js &amp; home.js
    }),
  ]
}
</code></pre><h2 id="&#x914D;&#x7F6E;source-map"><a name="&#x914D;&#x7F6E;source-map" class="anchor-navigation-ex-anchor" href="#&#x914D;&#x7F6E;source-map"><i class="fa fa-link" aria-hidden="true"></i></a>&#x914D;&#x7F6E;<code>source-map</code></h2>
<p><code>yarn add @babel/core  @babel/preset-env babel-loader  webpack-dev-server -D</code></p>
<pre class="language-"><code>module.exports = {
  devtool: &apos;source-map&apos; // &#x589E;&#x52A0;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x8C03;&#x8BD5;&#x6E90;&#x4EE3;&#x7801;
}
</code></pre><ol>
<li>&#x6E90;&#x7801;&#x6620;&#x5C04; &#x4F1A;&#x6807;&#x8BC6;&#x9519;&#x8BEF;&#x7684;&#x4EE3;&#x7801; &#x6253;&#x5305;&#x540E;&#x751F;&#x6210;&#x72EC;&#x7ACB;&#x7684;&#x6587;&#x4EF6; &#x5927;&#x800C;&#x5168; &#x300C;source-map&#x300D;</li>
<li>&#x4E0D;&#x4F1A;&#x9648;&#x80DC;&#x5355;&#x72EC;&#x7684;&#x6587;&#x4EF6; &#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x884C;&#x548C;&#x5217;  &#x300C;eval-source-map&#x300D;</li>
<li>&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x5217;&#x6709;&#x884C;&#xFF0C;&#x4EA7;&#x751F;&#x5355;&#x72EC;&#x7684;&#x6620;&#x5C04;&#x6587;&#x4EF6;  &#x300C;cheap-module-source-map&#x300D;</li>
<li>&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x6587;&#x4EF6; &#x96C6;&#x6210;&#x5728;&#x6253;&#x5305;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x4E2D; &#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x5217;&#x6709;&#x884C; &#x300C;cheap-module-eval-source-map&#x300D;</li>
</ol>
<h2 id="watch-&#x6539;&#x5B8C;&#x4EE3;&#x8868;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x5B9E;&#x4F53;"><a name="watch-&#x6539;&#x5B8C;&#x4EE3;&#x8868;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x5B9E;&#x4F53;" class="anchor-navigation-ex-anchor" href="#watch-&#x6539;&#x5B8C;&#x4EE3;&#x8868;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x5B9E;&#x4F53;"><i class="fa fa-link" aria-hidden="true"></i></a><code>watch</code> &#x6539;&#x5B8C;&#x4EE3;&#x8868;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x5B9E;&#x4F53;</h2>
<pre class="language-"><code>module.exports = {
  watch: true,
  watchOptions: {
    poll: 1000,              // &#x6BCF;&#x79D2;&#x76D1;&#x542C;1000&#x6B21;
    aggregateTimeout: 300,   // &#x9632;&#x6296;&#xFF0C;&#x5F53;&#x7B2C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x66F4;&#x6539;&#xFF0C;&#x4F1A;&#x5728;&#x91CD;&#x65B0;&#x6784;&#x5EFA;&#x524D;&#x589E;&#x52A0;&#x5EF6;&#x8FDF;
    ignored: /node_modules/  // &#x5BF9;&#x4E8E;&#x67D0;&#x4E9B;&#x7CFB;&#x7EDF;&#xFF0C;&#x76D1;&#x542C;&#x5927;&#x91CF;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4F1A;&#x5BFC;&#x81F4;&#x5927;&#x91CF;&#x7684; CPU &#x6216;&#x5185;&#x5B58;&#x5360;&#x7528;&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x6392;&#x9664;&#x4E00;&#x4E9B;&#x5DE8;&#x5927;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF0C;
  },
}
</code></pre><h2 id="webpack&#x7684;&#x5176;&#x4ED6;&#x4E09;&#x4E2A;&#x5C0F;&#x63D2;&#x4EF6;"><a name="webpack&#x7684;&#x5176;&#x4ED6;&#x4E09;&#x4E2A;&#x5C0F;&#x63D2;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#webpack&#x7684;&#x5176;&#x4ED6;&#x4E09;&#x4E2A;&#x5C0F;&#x63D2;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a><code>webpack</code>&#x7684;&#x5176;&#x4ED6;&#x4E09;&#x4E2A;&#x5C0F;&#x63D2;&#x4EF6;</h2>
<ol>
<li><code>cleanWebpackPlugin</code></li>
</ol>
<p>&#x6BCF;&#x6B21;&#x6253;&#x5305;&#x4E4B;&#x524D;&#x5220;&#x6389;dist&#x76EE;&#x5F55;
<code>yarn add clean-webpack-plugin -D</code></p>
<p><a href="https://github.com/johnagan/clean-webpack-plugin" target="_blank">clean-webpack-plugin</a></p>
<pre class="language-"><code>const CleanWebpackPlugin = require(&apos;clean-webpack-plugin&apos;);

module.exports = {
  output: {
    path: path.resolve(process.cwd(), &apos;dist&apos;),
  },
  plugins: [
    new CleanWebpackPlugin(&apos;./dist&apos;)
  ]
}
</code></pre><ol>
<li><code>copyWebpackPlugin</code></li>
</ol>
<p>&#x4E00;&#x4E9B;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x4E5F;&#x5E0C;&#x671B;&#x62F7;&#x8D1D;&#x7684;dist&#x4E2D;</p>
<p><code>yarn add copy-webpack-plugin -D</code></p>
<pre class="language-"><code>const CopyWebpackPlugin = require(&apos;copy-webpack-plugin&apos;)

module.exports = {
  plugins: [
    new CopyWebpackPlugin([
      {from: &apos;doc&apos;, to: &apos;./dist&apos;}
    ])
  ]
}
</code></pre><ol>
<li><code>bannerPlugin</code>&#x5185;&#x7F6E;&#x6A21;&#x5757;</li>
</ol>
<p>&#x7248;&#x6743;&#x58F0;&#x660E;</p>
<pre class="language-"><code>const webpack = require(&apos;webpack&apos;);

new webpack.BannerPlugin(&apos;hello world&apos;)
// or
new webpack.BannerPlugin({ banner: &apos;hello world&apos;})
</code></pre><h2 id="webpack-&#x8DE8;&#x57DF;"><a name="webpack-&#x8DE8;&#x57DF;" class="anchor-navigation-ex-anchor" href="#webpack-&#x8DE8;&#x57DF;"><i class="fa fa-link" aria-hidden="true"></i></a><code>webpack</code> &#x8DE8;&#x57DF;</h2>
<p>&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x670D;&#x52A1;,&#x7531;&#x4E8E;<code>webpack-dev-server</code>&#x5185;&#x542B;<code>express</code></p>
<p><a href="https://expressjs.com/zh-cn/starter/hello-world.html" target="_blank">express</a></p>
<p><code>server.js</code></p>
<pre class="language-"><code>// express

let express = require(&apos;express&apos;)

let app = express();

app.get(&apos;/api/user&apos;, (res) =&gt; {
  res.json({name: &apos;mayufo&apos;})
})

app.listen(3000)   // &#x670D;&#x52A1;&#x7AEF;&#x53E3;&#x5728;3000
</code></pre><p>&#x5199;&#x5B8C;&#x540E;&#x8BB0;&#x5F97;<code>node server.js</code></p>
<p>&#x8BBF;&#x95EE; <code>http://localhost:3000/api/user</code> &#x53EF;&#x89C1;&#x5185;&#x5BB9;</p>
<p><code>index.js</code></p>
<pre class="language-"><code>// &#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;
let xhr = new XMLHttpRequest();

// &#x9ED8;&#x8BA4;&#x8BBF;&#x95EE; http://localhost:8080  webpack-dev-server &#x7684;&#x670D;&#x52A1; &#x518D;&#x8F6C;&#x53D1;&#x7ED9;3000
xhr.open(&apos;GET&apos;, &apos;/api/user&apos;, true);

xhr.onload = function () {
  console.log(xhr.response)
}

xhr.send();
</code></pre><p><code>webpack.config.js</code></p>
<pre class="language-"><code>module.exports = {
  devServer: {
    proxy: {
      &apos;/api&apos;: &apos;http://localhost:3000&apos;
    }
  },
}
</code></pre><h2 id="1&#x5982;&#x679C;&#x540E;&#x7AEF;&#x7ED9;&#x7684;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;api-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><a name="1&#x5982;&#x679C;&#x540E;&#x7AEF;&#x7ED9;&#x7684;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;api-&#x300C;&#x8DE8;&#x57DF;&#x300D;" class="anchor-navigation-ex-anchor" href="#1&#x5982;&#x679C;&#x540E;&#x7AEF;&#x7ED9;&#x7684;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;api-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><i class="fa fa-link" aria-hidden="true"></i></a>1.&#x5982;&#x679C;&#x540E;&#x7AEF;&#x7ED9;&#x7684;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;API &#x300C;&#x8DE8;&#x57DF;&#x300D;</h2>
<pre class="language-"><code>// express

let express = require(&apos;express&apos;)

let app = express();


app.get(&apos;/user&apos;, (res) =&gt; {
  res.json({name: &apos;mayufo&apos;})
})

app.listen(3000)   // &#x670D;&#x52A1;&#x7AEF;&#x53E3;&#x5728;3000
</code></pre><p>&#x8BF7;&#x6C42;&#x5DF2;api&#x5F00;&#x5934;, &#x8F6C;&#x53D1;&#x7684;&#x65F6;&#x5019;&#x518D;&#x5220;&#x6389;api</p>
<pre class="language-"><code>devServer: {
  proxy: {
    &apos;/api&apos;: {
      target: &apos;http://localhost:3000&apos;,
      pathRewrite: {&apos;^/api&apos;: &apos;&apos;}
    }
  }
}
</code></pre><h2 id="2&#x524D;&#x7AEF;&#x53EA;&#x60F3;&#x5355;&#x7EAF;mock&#x6570;&#x636E;-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><a name="2&#x524D;&#x7AEF;&#x53EA;&#x60F3;&#x5355;&#x7EAF;mock&#x6570;&#x636E;-&#x300C;&#x8DE8;&#x57DF;&#x300D;" class="anchor-navigation-ex-anchor" href="#2&#x524D;&#x7AEF;&#x53EA;&#x60F3;&#x5355;&#x7EAF;mock&#x6570;&#x636E;-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><i class="fa fa-link" aria-hidden="true"></i></a>2.&#x524D;&#x7AEF;&#x53EA;&#x60F3;&#x5355;&#x7EAF;mock&#x6570;&#x636E; &#x300C;&#x8DE8;&#x57DF;&#x300D;</h2>
<pre class="language-"><code>devServer: {
  // proxy: {
  //     &apos;/api&apos;: &apos;http://localhost:3000&apos; // &#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;
  // }
  //   proxy: {   // &#x91CD;&#x5199;&#x65B9;&#x5F0F; &#x628A;&#x8BF7;&#x6C42;&#x4EE3;&#x7406;&#x5230;express &#x4E0A;
  //       &apos;/api&apos;: {
  //           target: &apos;http://localhost:3000&apos;,
  //           pathRewrite: {&apos;^/api&apos;: &apos;&apos;}
  //       }
  //   }
  before: function (app) {  // &#x52FE;&#x5B50;
    app.get(&apos;/api/user&apos;, (req, res) =&gt; {
      res.json({name: &apos;tigerHee&apos;})
    })
  }
},
</code></pre><h2 id="3&#x6709;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E0D;&#x7528;&#x4EE3;&#x7406;-&#x670D;&#x52A1;&#x7AEF;&#x542F;&#x52A8;webpack-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><a name="3&#x6709;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E0D;&#x7528;&#x4EE3;&#x7406;-&#x670D;&#x52A1;&#x7AEF;&#x542F;&#x52A8;webpack-&#x300C;&#x8DE8;&#x57DF;&#x300D;" class="anchor-navigation-ex-anchor" href="#3&#x6709;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E0D;&#x7528;&#x4EE3;&#x7406;-&#x670D;&#x52A1;&#x7AEF;&#x542F;&#x52A8;webpack-&#x300C;&#x8DE8;&#x57DF;&#x300D;"><i class="fa fa-link" aria-hidden="true"></i></a>3.&#x6709;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E0D;&#x7528;&#x4EE3;&#x7406;, &#x670D;&#x52A1;&#x7AEF;&#x542F;&#x52A8;webpack &#x300C;&#x8DE8;&#x57DF;&#x300D;</h2>
<p><code>server.js</code>&#x4E2D;&#x542F;&#x52A8;<code>webpack</code></p>
<p><code>yarn add webpack-dev-middleware -D</code></p>
<p><code>server.js</code></p>
<pre class="language-"><code>// express

let express = require(&apos;express&apos;)
let webpack = require(&apos;webpack&apos;)
let app = express();


// &#x4E2D;&#x95F4;&#x4EF6;
let middle = require(&apos;webpack-dev-middleware&apos;)

let config = require(&apos;./webpack.config&apos;)


let compiler = webpack(config)


app.use(middle(compiler))

app.get(&apos;/user&apos;, (req, res) =&gt; {
  res.json({name: &apos;mayufo&apos;})
})


app.listen(3000)
</code></pre><h2 id="webpack&#x89E3;&#x6790;resolve"><a name="webpack&#x89E3;&#x6790;resolve" class="anchor-navigation-ex-anchor" href="#webpack&#x89E3;&#x6790;resolve"><i class="fa fa-link" aria-hidden="true"></i></a>webpack&#x89E3;&#x6790;resolve</h2>
<p>&#x4EE5;<code>bootstrap</code>&#x4E3A;&#x4F8B;</p>
<pre class="language-"><code>npm install bootstrap  -D
</code></pre><p><code>index.js</code></p>
<pre class="language-"><code>import &apos;bootstrap/dist/css/bootstrap.css&apos;
</code></pre><p>&#x62A5;&#x9519;</p>
<pre class="language-"><code>ERROR in ./node_modules/bootstrap/dist/css/bootstrap.css 7:0
Module parse failed: Unexpected token (7:0)
You may need an appropriate loader to handle this file type.
|  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
|  */
&gt; :root {
|   --blue: #007bff;
|   --indigo: #6610f2;
 @ ./src/index.js 22:0-42
 @ multi (webpack)-dev-server/client?http://localhost:8081 ./src/index.js
</code></pre><p>&#x8FD9;&#x662F;&#x56E0;&#x4E3A;<code>bootstrap</code> 4.0&#x7684;css&#x5F15;&#x5165;&#x4E86;&#x65B0;&#x7684;&#x7279;&#x6027;&#xFF0C;CSS Variables</p>
<p>&#x5B89;&#x88C5;
<code>npm install postcss-custom-properties --save-dev</code></p>
<p>&#x914D;&#x7F6E;<code>webpack.config.js</code></p>
<pre class="language-"><code>{
  test: /\.css$/,
  use: [&apos;style-loader&apos;, &apos;css-loader&apos;, {
    loader: &apos;postcss-loader&apos;,
    options: {
      plugins: (loader) =&gt; [
        require(&quot;postcss-custom-properties&quot;)
      ]
    }
  }]
}
</code></pre><h2 id="&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x5F15;&#x5165;&#x90FD;&#x5F88;&#x957F;&#xFF0C;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5F15;&#x5165;"><a name="&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x5F15;&#x5165;&#x90FD;&#x5F88;&#x957F;&#xFF0C;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5F15;&#x5165;" class="anchor-navigation-ex-anchor" href="#&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x5F15;&#x5165;&#x90FD;&#x5F88;&#x957F;&#xFF0C;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5F15;&#x5165;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x5F15;&#x5165;&#x90FD;&#x5F88;&#x957F;&#xFF0C;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x5F15;&#x5165;</h2>
<pre class="language-"><code>resolve: {
  // &#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x67E5;&#x627E;
  modules: [path.resolve(&apos;node_modules&apos;)],
  alias: {
      &apos;bootstrapCss&apos;: &apos;bootstrap/dist/css/bootstrap.css&apos;
  }
},
</code></pre><pre class="language-"><code>import &apos;bootstrapCss&apos;  // &#x5728;node_modules&#x67E5;&#x627E;
</code></pre><h2 id="&#x7701;&#x7565;&#x6269;&#x5C55;&#x540D;"><a name="&#x7701;&#x7565;&#x6269;&#x5C55;&#x540D;" class="anchor-navigation-ex-anchor" href="#&#x7701;&#x7565;&#x6269;&#x5C55;&#x540D;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7701;&#x7565;&#x6269;&#x5C55;&#x540D;</h2>
<p>extensions:</p>
<pre class="language-"><code>resolve: {
  // &#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x67E5;&#x627E;
  modules: [path.resolve(&apos;node_modules&apos;)],
  // alias: {
  //   &apos;bootstrapCss&apos;: &apos;bootstrap/dist/css/bootstrap.css&apos;
  // },
  mainFields: [&apos;style&apos;, &apos;main&apos;],   // &#x5148;&#x7528;bootstrap&#x4E2D;&#x5728;package&#x4E2D;&#x7684;style,&#x6CA1;&#x6709;&#x5728;&#x7528;main
  // mainFiles: []  // &#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x5B57; &#x9ED8;&#x8BA4;index
  extensions: [&apos;.js&apos;, &apos;.css&apos;, &apos;.json&apos;]  // &#x5F53;&#x6CA1;&#x6709;&#x62D3;&#x5C55;&#x547D;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5148;&#x9ED8;&#x8BA4;js&#x3001;&#x6B21;&#x4E4B;css&#x3001;&#x518D;&#x6B21;&#x4E4B;json
},
</code></pre><h2 id="&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;"><a name="&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;" class="anchor-navigation-ex-anchor" href="#&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x53D8;&#x91CF;</h2>
<p><code>DefinePlugin</code> &#x5141;&#x8BB8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x7684;&#x5168;&#x5C40;&#x5E38;&#x91CF;&#x3002;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#x548C;&#x751F;&#x4EA7;&#x6A21;&#x5F0F;&#x7684;&#x6784;&#x5EFA;&#x5141;&#x8BB8;&#x4E0D;&#x540C;&#x7684;&#x884C;&#x4E3A;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002;</p>
<pre class="language-"><code>let url = &apos;&apos;
if (DEV === &apos;dev&apos;) {
  // &#x5F00;&#x53D1;&#x73AF;&#x5883;
  url = &apos;http://localhost:3000&apos;
} else {
  // &#x751F;&#x6210;&#x73AF;&#x5883;
  url = &apos;http://www.mayufo.cn&apos;
}
</code></pre><p><code>webpack.config.js</code></p>
<pre class="language-"><code>new webpack.DefinePlugin({
  // DEV: &apos;&quot;production&quot;&apos;,
  DEV: JSON.stringify(&apos;production&apos;),
  FLAG: &apos;true&apos;,   // &#x5E03;&#x5C14;
  EXPRESSION: &apos;1 + 1&apos;   // &#x5B57;&#x7B26;&#x4E32; &#x5982;&#x679C;&#x5E0C;&#x671B;&#x662F;&#x5B57;&#x7B26;&#x4E32; JSON.stringify(&apos;1 + 1&apos;)
})
</code></pre><h2 id="&#x533A;&#x5206;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;"><a name="&#x533A;&#x5206;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;" class="anchor-navigation-ex-anchor" href="#&#x533A;&#x5206;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x533A;&#x5206;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;</h2>
<p>&#x5206;&#x522B;&#x914D;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;</p>
<ul>
<li><code>webpack.base4.js</code>   &#x57FA;&#x7840;&#x914D;&#x7F6E;</li>
<li><code>webpack.dev4.js</code>    &#x5F00;&#x53D1;&#x73AF;&#x5883;</li>
<li><code>webpack.prod4.js</code>   &#x751F;&#x4EA7;&#x73AF;&#x5883;</li>
</ul>
<p><code>yarn add webpack-merge -D</code></p>
<p><code>npm run build -- -- config webpack.dev4.js</code>
<code>npm run build -- -- config webpack.build.js</code></p>
<p><a href="https://webpack.docschina.org/guides/production/" target="_blank">&#x5B98;&#x65B9;&#x6587;&#x6863;</a></p>
<p><code>webpack.base4.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)
let HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)
let CleanWebpackPlugin = require(&apos;clean-webpack-plugin&apos;)

module.exports = {
  entry: {
    home: &apos;./src/index.js&apos;
  },
  output: {
    filename: &quot;[name].js&quot;,
    path: path.resolve(process.cwd(), &apos;dist3&apos;)
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        use: {
          loader: &apos;babel-loader&apos;,
          options: {
            presets: [
              &apos;@babel/preset-env&apos;
            ]
          }
        }
      },
      {
        test: /\.css$/,
        use: [&apos;style-loader&apos;, &apos;css-loader&apos;, {
          loader: &apos;postcss-loader&apos;,
          options: {
            plugins: (loader) =&gt; [
              require(&quot;postcss-custom-properties&quot;)
            ]
          }
        }]
      }
    ]
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: &apos;./src/index.html&apos;,
      filename: &apos;index.html&apos;
    })
  ]
}
</code></pre><p><code>webpack.dev4.js</code></p>
<pre class="language-"><code>let merge = require(&apos;webpack-merge&apos;)
let base = require(&apos;./webpack.base4.js&apos;)

module.exports = merge(base, {
  mode: &apos;development&apos;,
  devServer: {},
  devtool: &apos;source-map&apos;
})
</code></pre><p><code>webpack.prod4.js</code></p>
<pre class="language-"><code>let merge = require(&apos;webpack-merge&apos;)
let base = require(&apos;./webpack.base4.js&apos;)

module.exports = merge(base, {
  mode: &apos;production&apos;
})
</code></pre><p><code>package.json</code></p>
<pre class="language-"><code>&quot;scripts&quot;: {
  &quot;build&quot;: &quot;webpack  --config webpack.prod4.js&quot;,
  &quot;dev&quot;: &quot;webpack-dev-server --config webpack.dev4.js&quot;
},
</code></pre><h2 id="webpack-&#x4F18;&#x5316;"><a name="webpack-&#x4F18;&#x5316;" class="anchor-navigation-ex-anchor" href="#webpack-&#x4F18;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>webpack &#x4F18;&#x5316;</h2>
<p><code>yarn add webpack webpack-cli html-webpack-plugin @babel/core babel-loader @babel/preset-env @babel/preset-react -D</code></p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)
let HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)


module.exports = {
  mode: &apos;development&apos;,
  entry: &apos;./src/index.js&apos;,
  output: {
    filename: &apos;main.js&apos;,
    path: path.resolve(__dirname, &apos;dist&apos;)
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        use: {
          loader: &apos;babel-loader&apos;,
          options: {
            presets: [
              &apos;@babel/preset-env&apos;,
              &apos;@babel/preset-react&apos;
            ]
          }
        }
      },
    ]
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: &apos;./src/index.html&apos;,
      filename: &apos;index.html&apos;
    }),
  ]
}
</code></pre><h2 id="&#x4F18;&#x5316;&#xFF1A;&#x5F53;&#x67D0;&#x4E9B;&#x5305;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x4E2A;&#x4F53;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;"><a name="&#x4F18;&#x5316;&#xFF1A;&#x5F53;&#x67D0;&#x4E9B;&#x5305;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x4E2A;&#x4F53;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;&#xFF1A;&#x5F53;&#x67D0;&#x4E9B;&#x5305;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x4E2A;&#x4F53;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F18;&#x5316;&#xFF1A;&#x5F53;&#x67D0;&#x4E9B;&#x5305;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x4E2A;&#x4F53;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;</h2>
<p>&#x4EE5;jquery&#x4E3A;&#x4F8B;&#xFF0C;<code>yarn add jquery -D</code>,&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5305;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;webpack&#x914D;&#x7F6E;&#x4E2D;&#xFF0C;&#x914D;&#x7F6E;&#x5B83;&#x4E0D;&#x518D;&#x67E5;&#x627E;&#x4F9D;&#x8D56;</p>
<pre class="language-"><code>module: {
    noParse: /jquery/, // &#x4E0D;&#x7528;&#x89E3;&#x6790;&#x67D0;&#x4E9B;&#x5305;&#x7684;&#x4F9D;&#x8D56;
    rules: [
      {
        test: /\.js$/,
        use: {
          loader: &apos;babel-loader&apos;,
          options: {
            presets: [
              &apos;@babel/preset-env&apos;,
              &apos;@babel/preset-react&apos;
            ]
          }
        }
      },
  ]
}
</code></pre><p>&#x8FD0;&#x884C;<code>npx webpack</code></p>
<p>&#x4ECE;2057ms  -&gt; 1946 ms</p>
<h2 id="&#x4F18;&#x5316;&#xFF1A;&#x89C4;&#x5219;&#x5339;&#x914D;&#x8BBE;&#x7F6E;&#x8303;&#x56F4;"><a name="&#x4F18;&#x5316;&#xFF1A;&#x89C4;&#x5219;&#x5339;&#x914D;&#x8BBE;&#x7F6E;&#x8303;&#x56F4;" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;&#xFF1A;&#x89C4;&#x5219;&#x5339;&#x914D;&#x8BBE;&#x7F6E;&#x8303;&#x56F4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F18;&#x5316;&#xFF1A;&#x89C4;&#x5219;&#x5339;&#x914D;&#x8BBE;&#x7F6E;&#x8303;&#x56F4;</h2>
<pre class="language-"><code>rules: [
  {
    test: /\.js$/,
    exclude: &apos;/node_modules/&apos;,   // &#x6392;&#x9664;
    include: path.resolve(&apos;src&apos;),  // &#x5728;&#x8FD9;&#x4E2A;&#x8303;&#x56F4;&#x5185;
    use: {
      loader: &apos;babel-loader&apos;,
      options: {
        presets: [
          &apos;@babel/preset-env&apos;,
          &apos;@babel/preset-react&apos;
        ]
      }
    }
  }
</code></pre><p>&#x5C3D;&#x91CF;&#x5B9E;&#x7528;<code>include</code>,&#x4E0D;&#x4F7F;&#x7528;<code>exclude</code>,&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;</p>
<h2 id="&#x4F18;&#x5316;&#xFF1A;&#x5FFD;&#x7565;&#x4F9D;&#x8D56;&#x4E2D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8BED;&#x8A00;&#x5305;"><a name="&#x4F18;&#x5316;&#xFF1A;&#x5FFD;&#x7565;&#x4F9D;&#x8D56;&#x4E2D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8BED;&#x8A00;&#x5305;" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5316;&#xFF1A;&#x5FFD;&#x7565;&#x4F9D;&#x8D56;&#x4E2D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8BED;&#x8A00;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F18;&#x5316;&#xFF1A;&#x5FFD;&#x7565;&#x4F9D;&#x8D56;&#x4E2D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8BED;&#x8A00;&#x5305;</h2>
<p><code>yarn add moment webpack-dev-server -D</code></p>
<p>&#x5FFD;&#x7565;&#x6389;<code>moment</code>&#x7684;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x5305;</p>
<pre class="language-"><code>let webpack = require(&apos;webpack&apos;)

plugins: [
    new webpack.IgnorePlugin(/\.\/locale/, /moment/)
]
</code></pre><p><code>index.js</code></p>
<pre class="language-"><code>import moment from &apos;moment&apos;

let r = moment().endOf(&apos;day&apos;).fromNow()  // &#x8DDD;&#x79BB;&#x73B0;&#x5728;&#x591A;&#x5C11;&#x5929;
console.log(r);
</code></pre><p>&#x4ECE; 1.2MB &#x5230;  800kb</p>
<h2 id="&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;"><a name="&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;" class="anchor-navigation-ex-anchor" href="#&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;</h2>
<p><code>yarn add react react-dom</code></p>
<p>&#x6B63;&#x5E38;&#x4F7F;&#x7528;</p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>{
  test: /\.js$/,
  exclude: &apos;/node_modules/&apos;,
  include: path.resolve(&apos;src&apos;),
  use: {
    loader: &apos;babel-loader&apos;,
    options: {
      presets: [
        &apos;@babel/preset-env&apos;,
        &apos;@babel/preset-react&apos;
      ]
    }
  }
}
</code></pre><p><code>index.js</code></p>
<pre class="language-"><code>import React from &apos;react&apos;

import {render} from &apos;react-dom&apos;


render(<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>111111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>, window.root)
</code></pre><p><code>index.html</code></p>
<pre class="language-"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x72EC;&#x7ACB;&#x7684;&#x5C06;<code>react react-dom</code> &#x6253;&#x5305;&#x597D;, &#x6253;&#x5305;&#x597D;&#x518D;&#x5F15;&#x7528;&#xFF0C;&#x4ECE;&#x800C;&#x51CF;&#x5C11;<code>webpack</code>&#x6BCF;&#x6B21;&#x90FD;&#x8981;&#x6253;&#x5305;<code>react</code></p>
<p>&#x521B;&#x5EFA;<code>webpack.config.react.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)
let webpack = require(&apos;webpack&apos;)
module.exports = {
  mode: &apos;development&apos;,
  entry: {
    // test: &apos;./src/test.js&apos;
    react: [&apos;react&apos;, &apos;react-dom&apos;]
  },
  output: {
    filename: &apos;_dll_[name].js&apos;,  // &#x4EA7;&#x751F;&#x7684;&#x6587;&#x4EF6;&#x540D;
    path: path.resolve(__dirname, &apos;dist&apos;),
    library: &apos;_dll_[name]&apos;,     // &#x7ED9;&#x8F93;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x52A0;&#x4E2A;&#x540D;&#x5B57;
    // libraryTarget: &apos;var&apos;   // &#x914D;&#x7F6E;&#x5982;&#x4F55;&#x66B4;&#x9732; library
    // commonjs &#x7ED3;&#x679C;&#x653E;&#x5728;export&#x5C5E;&#x6027;&#x4E0A;&#xFF0C; umd&#x7EDF;&#x4E00;&#x8D44;&#x6E90;&#x6A21;&#x5757;, &#x9ED8;&#x8BA4;&#x662F;var
  },
  plugins: [
    new webpack.DllPlugin({
      name: &apos;_dll_[name]&apos;,   // name === library
      path: path.resolve(__dirname, &apos;dist&apos;, &apos;manifest.json&apos;)  // manifest.json &#x5B9A;&#x4E49;&#x4E86;&#x5404;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x5F84;
    })
  ]
}
</code></pre><p><a href="https://webpack.docschina.org/configuration/output/#%E6%9A%B4%E9%9C%B2%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F" target="_blank">libraryTarget</a></p>
<p><code>manifest.json</code>&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x6E05;&#x5355;or&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x6E05;&#x5355;&#x91CC;&#x9762;&#x67E5;&#x627E;react</p>
<p><code>npx webpack --config webpack.config.react.js</code></p>
<p>&#x5728;<code>index.html</code>&#x589E;&#x52A0;&#x5F15;&#x7528;</p>
<pre class="language-"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/_dll_react.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x5728;webpack.config.js &#x4E2D;&#x914D;&#x7F6E;&#xFF0C;&#x73B0;&#x5728;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;<code>manifest.json</code>&#x4E2D;&#x67E5;&#x627E;,&#x5982;&#x679C;&#x6CA1;&#x6709;&#x518D;&#x6253;&#x5305;react</p>
<pre class="language-"><code>plugins: [
  new webpack.DllReferencePlugin({
    manifest: path.resolve(__dirname, &apos;dist&apos;, &apos;manifest.json&apos;)
  })
]
</code></pre><p><a href="https://webpack.docschina.org/plugins/dll-plugin/#src/components/Sidebar/Sidebar.jsx" target="_blank">DLLPlugin &#x548C; DLLReferencePlugin</a></p>
<p><code>npm run build</code></p>
<p>&#x6253;&#x5305;&#x540E;&#x7684;<code>bunle.js</code>&#x6587;&#x4EF6;&#x53D8;&#x5C0F;</p>
<p><code>npm run dev</code></p>
<p>&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x5148;&#x628A;react&#x6253;&#x5305;&#xFF0C;&#x540E;&#x9762;&#x6BCF;&#x6B21;&#x90FD;&#x76F4;&#x63A5;&#x4F7F;&#x7528;react&#x6253;&#x5305;&#x540E;&#x7684;&#x7ED3;&#x679C;</p>
<h2 id="&#x591A;&#x7EBF;&#x7A0B;&#x6253;&#x5305;happypack"><a name="&#x591A;&#x7EBF;&#x7A0B;&#x6253;&#x5305;happypack" class="anchor-navigation-ex-anchor" href="#&#x591A;&#x7EBF;&#x7A0B;&#x6253;&#x5305;happypack"><i class="fa fa-link" aria-hidden="true"></i></a>&#x591A;&#x7EBF;&#x7A0B;&#x6253;&#x5305;<code>happypack</code></h2>
<p><code>yarn add happypack</code></p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>let Happypack = require(&apos;happypack&apos;)


rules: [
  {
    test: /\.js$/,
    exclude: &apos;/node_modules/&apos;,
    include: path.resolve(&apos;src&apos;),
    use: &apos;happypack/loader?id=js&apos;
  },
]

plugins: [
  new Happypack({
    id: &apos;js&apos;,
    use: [{
      loader: &apos;babel-loader&apos;,
      options: {
        presets: [
          &apos;@babel/preset-env&apos;,
          &apos;@babel/preset-react&apos;
        ]
      }
    }]
  })
]
</code></pre><p>js&#x542F;&#x7528;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x7531;&#x4E8E;&#x542F;&#x7528;&#x591A;&#x7EBF;&#x7A0B;&#x4E5F;&#x4F1A;&#x6D6A;&#x8D39;&#x65F6;&#x95F4;&#xFF0C;&#x56E0;&#x6B64;&#x5F53;&#x9879;&#x76EE;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x65F6;&#x5019;&#x542F;&#x7528;&#x6548;&#x679C;&#x66F4;&#x597D;</p>
<p>css&#x542F;&#x7528;&#x591A;&#x7EBF;&#x7A0B;</p>
<pre class="language-"><code>
{
  test: /\.css$/,
  use: &apos;happypack/loader?id=css&apos;
}

new Happypack({
  id: &apos;css&apos;,
  use: [&apos;style-loader&apos;, &apos;css-loader&apos;]
}),
</code></pre><h2 id="webpack-&#x81EA;&#x5E26;&#x7684;&#x4F18;&#x5316;"><a name="webpack-&#x81EA;&#x5E26;&#x7684;&#x4F18;&#x5316;" class="anchor-navigation-ex-anchor" href="#webpack-&#x81EA;&#x5E26;&#x7684;&#x4F18;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>webpack &#x81EA;&#x5E26;&#x7684;&#x4F18;&#x5316;</h2>
<p><code>test.js</code></p>
<pre class="language-"><code>let sum = (a, b) =&gt; {
  return a + b + &apos;sum&apos;
}

let minus = (a, b) =&gt; {
  return a - b + &apos;minus&apos;;
}

export default {
  sum, minus
}
</code></pre><ol>
<li>&#x4F7F;&#x7528;import </li>
</ol>
<p><code>index.js</code></p>
<pre class="language-"><code>import calc from &apos;./test&apos;

console.log(calc.sum(1, 2));
</code></pre><p>import&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0B;&#x4F1A;&#x81EA;&#x52A8;&#x53BB;&#x9664;&#x6CA1;&#x6709;&#x7528;&#x7684;&#x4EE3;&#x7801;<code>minus</code>&#xFF0C;&#x8FD9;&#x53EB;<code>tree-shaking</code>&#xFF0C;&#x5C06;&#x6CA1;&#x6709;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x6389;</p>
<p><code>index.js</code></p>
<pre class="language-"><code>let calc = require(&apos;./test&apos;)
console.log(calc);   // es 6&#x5BFC;&#x51FA;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;default&#x7684;&#x5BF9;&#x8C61;
console.log(calc.default.sum(1, 2));
</code></pre><p>require&#x5F15;&#x5165;es6 &#x6A21;&#x5757;&#x4F1A;&#x628A;&#x7ED3;&#x679C;&#x653E;&#x5728;default&#x4E0A;,&#x6253;&#x5305;build&#x540E;&#x5E76;&#x4E0D;&#x4F1A;&#x628A;&#x591A;&#x4F59;<code>minus</code>&#x4EE3;&#x7801;&#x5220;&#x9664;&#x6389;&#xFF0C;&#x4E0D;&#x652F;&#x6301;<code>tree-shaking</code></p>
<ol>
<li>&#x4F5C;&#x7528;&#x57DF;&#x7684;&#x63D0;&#x5347;</li>
</ol>
<p><code>index.js</code></p>
<pre class="language-"><code>let a = 1
let b = 2
let c = 3
let d = a + b + c

console.log(d, &apos;---------&apos;);
</code></pre><p>&#x6253;&#x5305;&#x51FA;&#x6765;&#x7684;&#x6587;&#x4EF6;</p>
<pre class="language-"><code>console.log(r.default.sum(1,2));console.log(6,&quot;---------&quot;)
</code></pre><p>&#x5728;webpack&#x4E2D;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x4E00;&#x4E9B;&#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x7684;&#x4EE3;&#x7801;</p>
<h2 id="&#x62BD;&#x53D6;&#x516C;&#x5171;&#x4EE3;&#x7801;"><a name="&#x62BD;&#x53D6;&#x516C;&#x5171;&#x4EE3;&#x7801;" class="anchor-navigation-ex-anchor" href="#&#x62BD;&#x53D6;&#x516C;&#x5171;&#x4EE3;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x62BD;&#x53D6;&#x516C;&#x5171;&#x4EE3;&#x7801;</h2>
<ol>
<li>&#x62BD;&#x79BB;&#x81EA;&#x6709;&#x6A21;&#x5757;</li>
</ol>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>module.exports = {
  optimization: {
    splitChunks: {             // &#x5206;&#x5272;&#x4EE3;&#x7801;&#x5757;&#xFF0C;&#x9488;&#x5BF9;&#x591A;&#x5165;&#x53E3;
      cacheGroups: {           // &#x7F13;&#x5B58;&#x7EC4;
        common: {              // &#x516C;&#x5171;&#x6A21;&#x5757;
          minSize: 0,          // &#x5927;&#x4E8E;&#x591A;&#x5C11;&#x62BD;&#x79BB;
          minChunks: 2,        // &#x4F7F;&#x7528;&#x591A;&#x5C11;&#x6B21;&#x4EE5;&#x4E0A;&#x62BD;&#x79BB;&#x62BD;&#x79BB;
          chunks: &apos;initial&apos;    // &#x4ECE;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x5F00;&#x59CB;, &#x4ECE;&#x5165;&#x53E3;&#x5F00;&#x59CB;
        }
      }
    }
  },
}
</code></pre><p><a href="https://webpack.docschina.org/plugins/split-chunks-plugin/" target="_blank">SplitChunksPlugin</a></p>
<p>&#x5206;&#x522B;&#x6709;a.js&#x548C;b.js, index.js&#x548C;other.js&#x5206;&#x522B;&#x5F15;&#x5165;a&#x548C;b&#x4E24;&#x4E2A;js</p>
<p><code>index.js</code></p>
<pre class="language-"><code>import &apos;./a&apos;
import &apos;./b&apos;

console.log(&apos;index.js&apos;);
</code></pre><p><code>other.js</code></p>
<pre class="language-"><code>import &apos;./a&apos;
import &apos;./b&apos;

console.log(&apos;other.js&apos;);
</code></pre><p><code>webpack.config.js</code></p>
<pre class="language-"><code>module.exports = {
  optimization: {
    splitChunks: {             // &#x5206;&#x5272;&#x4EE3;&#x7801;&#x5757;&#xFF0C;&#x9488;&#x5BF9;&#x591A;&#x5165;&#x53E3;
      cacheGroups: {           // &#x7F13;&#x5B58;&#x7EC4;
        common: {              // &#x516C;&#x5171;&#x6A21;&#x5757;
          minSize: 0,          // &#x5927;&#x4E8E;&#x591A;&#x5C11;&#x62BD;&#x79BB;
          minChunks: 2,        // &#x4F7F;&#x7528;&#x591A;&#x5C11;&#x6B21;&#x4EE5;&#x4E0A;&#x62BD;&#x79BB;&#x62BD;&#x79BB;
          chunks: &apos;initial&apos;    // &#x4ECE;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x5F00;&#x59CB;, &#x4ECE;&#x5165;&#x53E3;&#x5F00;&#x59CB;
        }
      }
    }
  },
}
</code></pre><ol>
<li>&#x62BD;&#x79BB;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;</li>
</ol>
<p>&#x6BD4;&#x5982;jquery</p>
<p><code>index.js</code> &#x548C; <code>other.js</code>&#x5206;&#x522B;&#x5F15;&#x5165;</p>
<pre class="language-"><code>import $ from &apos;jquery&apos;

console.log($);
</code></pre><p>&#x4FEE;&#x6539;<code>webpack.config.js</code>&#x914D;&#x7F6E;&#xFF1A;</p>
<pre class="language-"><code>optimization: {
  splitChunks: {              // &#x5206;&#x5272;&#x4EE3;&#x7801;&#x5757;&#xFF0C;&#x9488;&#x5BF9;&#x591A;&#x5165;&#x53E3;
    cacheGroups: {            // &#x7F13;&#x5B58;&#x7EC4;
      common: {               // &#x516C;&#x5171;&#x6A21;&#x5757;
        minSize: 0,           // &#x5927;&#x4E8E;&#x591A;&#x5C11;&#x62BD;&#x79BB;
        minChunks: 2,         // &#x4F7F;&#x7528;&#x591A;&#x5C11;&#x6B21;&#x4EE5;&#x4E0A;&#x62BD;&#x79BB;&#x62BD;&#x79BB;
        chunks: &apos;initial&apos;     // &#x4ECE;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x5F00;&#x59CB;,&#x521A;&#x5F00;&#x59CB;
      },
      vendor: {
        priority: 1,          // &#x589E;&#x52A0;&#x6743;&#x91CD;, (&#x5148;&#x62BD;&#x79BB;&#x7B2C;&#x4E09;&#x65B9;)
        test: /node_modules/, // &#x628A;&#x6B64;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x62BD;&#x79BB;
        minSize: 0,           // &#x5927;&#x4E8E;&#x591A;&#x5C11;&#x62BD;&#x79BB;
        minChunks: 2,         // &#x4F7F;&#x7528;&#x591A;&#x5C11;&#x6B21;&#x4EE5;&#x4E0A;&#x62BD;&#x79BB;&#x62BD;&#x79BB;
        chunks: &apos;initial&apos;     // &#x4ECE;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x5F00;&#x59CB;,&#x521A;&#x5F00;&#x59CB;
      }
    }
  },
},
</code></pre><h2 id="&#x61D2;&#x52A0;&#x8F7D;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;"><a name="&#x61D2;&#x52A0;&#x8F7D;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;" class="anchor-navigation-ex-anchor" href="#&#x61D2;&#x52A0;&#x8F7D;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x61D2;&#x52A0;&#x8F7D;(&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;)</h2>
<p><code>yarn add @babel/plugin-syntax-dynamic-import  -D</code></p>
<p><code>source.js</code></p>
<pre class="language-"><code>export default &apos;mayufo&apos;
</code></pre><p><code>index.js</code></p>
<pre class="language-"><code>let button = document.createElement(&apos;button&apos;)
button.innerHTML = &apos;hello&apos;
button.addEventListener(&apos;click&apos;, function () {
  console.log(&apos;click&apos;)
  // es6&#x8349;&#x6848;&#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;jsonp&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x6587;&#x4EF6;
  import(&apos;./source.js&apos;).then(data =&gt; {
    console.log(data.default)
  })
})
document.body.appendChild(button)
</code></pre><p><code>webpack.config.js</code></p>
<pre class="language-"><code>{
  test: /\.js$/,
  exclude: &apos;/node_modules/&apos;,
  include: path.resolve(&apos;src&apos;),
  use: [{
    loader: &apos;babel-loader&apos;,
    options: {
      presets: [
        &apos;@babel/preset-env&apos;,
        &apos;@babel/preset-react&apos;
      ],
      plugins: [
        &apos;@babel/plugin-syntax-dynamic-import&apos;
      ]
    }
  }]
}
</code></pre><h2 id="&#x70ED;&#x66F4;&#x65B0;&#x5F53;&#x9875;&#x9762;&#x6539;&#x53D8;&#x53EA;&#x66F4;&#x65B0;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x4E0D;&#x91CD;&#x65B0;&#x6253;&#x5305;"><a name="&#x70ED;&#x66F4;&#x65B0;&#x5F53;&#x9875;&#x9762;&#x6539;&#x53D8;&#x53EA;&#x66F4;&#x65B0;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x4E0D;&#x91CD;&#x65B0;&#x6253;&#x5305;" class="anchor-navigation-ex-anchor" href="#&#x70ED;&#x66F4;&#x65B0;&#x5F53;&#x9875;&#x9762;&#x6539;&#x53D8;&#x53EA;&#x66F4;&#x65B0;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x4E0D;&#x91CD;&#x65B0;&#x6253;&#x5305;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x70ED;&#x66F4;&#x65B0;(&#x5F53;&#x9875;&#x9762;&#x6539;&#x53D8;&#x53EA;&#x66F4;&#x65B0;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x4E0D;&#x91CD;&#x65B0;&#x6253;&#x5305;)</h2>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>plugins: [
  new HtmlWebpackPlugin({
    template: &apos;./src/index.html&apos;,
    filename: &apos;index.html&apos;
  }),
  new webpack.NameModulesPlugin(),          // &#x6253;&#x5370;&#x66F4;&#x65B0;&#x7684;&#x6A21;&#x5757;&#x8DEF;&#x5F84;
  new webpack.HotModuleReplacementPlugin()  // &#x70ED;&#x66F4;&#x65B0;&#x63D2;&#x4EF6;
]
</code></pre><p><code>index.js</code></p>
<pre class="language-"><code>
import str from &apos;./source&apos;

console.log(str);

if (module.hot) {
  module.hot.accept(&apos;./source&apos;, () =&gt; {
    console.log(&apos;&#x6587;&#x4EF6;&#x66F4;&#x65B0;&#x4E86;&apos;);
    require(&apos;./source&apos;)
    console.log(str);
  })
}
</code></pre><h2 id="tapable&#x4ECB;&#x7ECD;---synchook"><a name="tapable&#x4ECB;&#x7ECD;---synchook" class="anchor-navigation-ex-anchor" href="#tapable&#x4ECB;&#x7ECD;---synchook"><i class="fa fa-link" aria-hidden="true"></i></a>tapable&#x4ECB;&#x7ECD; - SyncHook</h2>
<p><a href="https://juejin.im/post/5abf33f16fb9a028e46ec352" target="_blank">tapable</a></p>
<p><code>webpack</code>&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x4E00;&#x79CD;&#x4E8B;&#x4EF6;&#x6D41;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x5C31;&#x662F;&#x5C06;&#x5404;&#x4E2A;&#x63D2;&#x4EF6;&#x4E32;&#x8054;&#x8D77;&#x6765;&#xFF0C;&#x800C;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x5207;&#x7684;&#x6838;&#x5FC3;&#x5C31;&#x662F;<code>Tapable</code>&#xFF0C;<code>webpack</code>&#x4E2D;&#x6700;&#x6838;&#x5FC3;&#x7684;&#x8D1F;&#x8D23;&#x7F16;&#x8BD1;&#x7684;<code>Compiler</code>&#x548C;&#x8D1F;&#x8D23;&#x521B;&#x5EFA;<code>bundles</code>&#x7684;<code>Compilation</code>&#x90FD;&#x662F;<code>Tapable</code>&#x7684;&#x5B9E;&#x4F8B;&#x3002;</p>
<p><code>SyncHook</code> &#x4E0D;&#x5173;&#x5FC3;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;</p>
<p><code>yarn add tabable</code></p>
<p><code>1.use.js</code></p>
<pre class="language-"><code>let {SyncHook} = require(&apos;tapable&apos;)   // &#x7ED3;&#x6784;&#x540C;&#x6B65;&#x52FE;&#x5B50;


class Lesson {
  constructor () {
    this.hooks = {
      // &#x8BA2;&#x9605;&#x52FE;&#x5B50;
      arch: new SyncHook([&apos;name&apos;]),
    }
  }
  start () {
    this.hooks.arch.call(&apos;may&apos;)
  }
  tap () {   //  &#x6CE8;&#x518C;&#x76D1;&#x542C;&#x51FD;&#x6570;
    this.hooks.arch.tap(&apos;node&apos;, function (name) {
      console.log(&apos;node&apos;, name)
    })
    this.hooks.arch.tap(&apos;react&apos;, function (name) {
      console.log(&apos;react&apos;, name)
    })
  }
}


let l = new Lesson()

l.tap();  //&#x6CE8;&#x518C;&#x4E24;&#x4E2A;&#x51FD;&#x6570;
l.start() // &#x542F;&#x52A8;&#x52FE;&#x5B50;
</code></pre><p><code>1.theory.js</code></p>
<pre class="language-"><code>class SyncHook {  // &#x52FE;&#x5B50;&#x662F;&#x540C;&#x6B65;&#x7684;
  constructor(args) {  // args =&gt; [&apos;name&apos;]
    this.tasks = []
  }
  tap (name, task) {
    this.tasks.push(task)
  }
  call (...args) {
    this.tasks.forEach((task) =&gt; task(...args))
  }
}

let hook = new SyncHook([&apos;name&apos;])

hook.tap(&apos;react&apos;, function (name) {
  console.log(&apos;react&apos;, name);
})


hook.tap(&apos;node&apos;, function (name) {
  console.log(&apos;node&apos;, name);
})


hook.call(&apos;jw&apos;)
</code></pre><h2 id="tapable&#x4ECB;&#x7ECD;---syncbailhook"><a name="tapable&#x4ECB;&#x7ECD;---syncbailhook" class="anchor-navigation-ex-anchor" href="#tapable&#x4ECB;&#x7ECD;---syncbailhook"><i class="fa fa-link" aria-hidden="true"></i></a>tapable&#x4ECB;&#x7ECD; - SyncBailHook</h2>
<p><code>SyncBailHook</code>&#x4E3A;&#x52FE;&#x5B50;&#x52A0;&#x4E86;&#x4E2A;&#x4FDD;&#x9669;&#xFF0C;&#x5F53;<code>return</code>&#x8FD4;&#x56DE;&#x4E0D;&#x662F;<code>undefine</code>&#x5C31;&#x4F1A;&#x505C;&#x6B62;</p>
<p><code>2.use.js</code></p>
<pre class="language-"><code>let {SyncBailHook} = require(&apos;tapable&apos;)   // &#x89E3;&#x6784;&#x540C;&#x6B65;&#x52FE;&#x5B50;

class Lesson {
  constructor () {
    this.hooks = {
      // &#x8BA2;&#x9605;&#x52FE;&#x5B50;
      arch: new SyncBailHook([&apos;name&apos;]),

    }
  }
  start () {
    // &#x53D1;&#x5E03;
    this.hooks.arch.call(&apos;may&apos;)
  }
  tap () {   //  &#x6CE8;&#x518C;&#x76D1;&#x542C;&#x51FD;&#x6570;,&#x8BA2;&#x9605;
    this.hooks.arch.tap(&apos;node&apos;, function (name) {
      console.log(&apos;node&apos;, name)
      return &apos;&#x505C;&#x6B62;&#x5B66;&#x4E60;&apos;  // &#x4F1A;&#x505C;&#x6B62;
      // return undefined
    })
    this.hooks.arch.tap(&apos;react&apos;, function (name) {
      console.log(&apos;react&apos;, name)
    })
  }
}


let l = new Lesson()

l.tap();  //&#x6CE8;&#x518C;&#x4E24;&#x4E2A;&#x51FD;&#x6570;
l.start() // &#x542F;&#x52A8;&#x52FE;&#x5B50;
</code></pre><p><code>2.theory.js</code></p>
<pre class="language-"><code>class SyncBailHook {  // &#x52FE;&#x5B50;&#x662F;&#x540C;&#x6B65;&#x7684;
    constructor(args) {  // args =&gt; [&apos;name&apos;]
        this.tasks = []
    }
    tap (name, task) {
        this.tasks.push(task)
    }
    call (...args) {
        let ret;   // &#x5F53;&#x524D;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;
        let index = 0; // &#x5F53;&#x524D;&#x8981;&#x6267;&#x884C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;
        do {
            ret = this.tasks[index](...args)
        } while (ret === undefined  &amp;&amp; index &lt; this.tasks.length)
    }
}

let hook = new SyncBailHook([&apos;name&apos;])

hook.tap(&apos;react&apos;, function (name) {
    console.log(&apos;react&apos;, name);
    return &apos;&#x505C;&#x6B62;&#x5B66;&#x4E60;&apos;
    // return undefined
})


hook.tap(&apos;node&apos;, function (name) {
    console.log(&apos;node&apos;, name);
})


hook.call(&apos;jw&apos;)
</code></pre><h2 id="tapable&#x4ECB;&#x7ECD;---syncwaterfallhook"><a name="tapable&#x4ECB;&#x7ECD;---syncwaterfallhook" class="anchor-navigation-ex-anchor" href="#tapable&#x4ECB;&#x7ECD;---syncwaterfallhook"><i class="fa fa-link" aria-hidden="true"></i></a>tapable&#x4ECB;&#x7ECD; - SyncWaterfallHook</h2>
<p><code>SyncWaterfallHook</code>&#x4E0A;&#x4E00;&#x4E2A;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x53EF;&#x4EE5;&#x4F20;&#x7ED9;&#x4E0B;&#x4E00;&#x4E2A;&#x76D1;&#x542C;&#x51FD;&#x6570;</p>
<p><code>3.use.js</code></p>
<pre class="language-"><code>let {SyncWaterfallHook} = require(&apos;tapable&apos;)   // &#x89E3;&#x6784;&#x540C;&#x6B65;&#x52FE;&#x5B50;

// waterfall &#x7011;&#x5E03;

class Lesson {
    constructor () {
        this.hooks = {
            // &#x8BA2;&#x9605;&#x52FE;&#x5B50;
            arch: new SyncWaterfallHook([&apos;name&apos;]),

        }
    }
    start () {
        // &#x53D1;&#x5E03;
        this.hooks.arch.call(&apos;may&apos;)
    }
    tap () {   //  &#x6CE8;&#x518C;&#x76D1;&#x542C;&#x51FD;&#x6570;,&#x8BA2;&#x9605;
        this.hooks.arch.tap(&apos;node&apos;, function (name) {
            console.log(&apos;node&apos;, name)
            return &apos;&#x5B66;&#x7684;&#x4E0D;&#x9519;&apos;
        })
        this.hooks.arch.tap(&apos;react&apos;, function (name) {
            console.log(&apos;react&apos;, name)
        })
    }
}


let l = new Lesson()

l.tap();  //&#x6CE8;&#x518C;&#x4E24;&#x4E2A;&#x51FD;&#x6570;
l.start() // &#x542F;&#x52A8;&#x52FE;&#x5B50;
</code></pre><p><code>3.theory.js</code></p>
<pre class="language-"><code>class SyncWaterfallHook {  // &#x52FE;&#x5B50;&#x662F;&#x540C;&#x6B65;&#x7684; - &#x7011;&#x5E03;
    constructor(args) {  // args =&gt; [&apos;name&apos;]
        this.tasks = []
    }
    tap (name, task) {
        this.tasks.push(task)
    }
    call (...args) {
        let [first, ...others] = this.tasks;
        let ret = first(...args)
        others.reduce((a, b) =&gt; {
            return b(a);
        }, ret);

    }
}

let hook = new SyncWaterfallHook([&apos;name&apos;])

hook.tap(&apos;react&apos;, function (name) {
    console.log(&apos;react&apos;, name);
    return &apos;react Ok&apos;
    // return undefined
})


hook.tap(&apos;node&apos;, function (name) {
    console.log(&apos;node&apos;, name);
    return &apos;node Ok&apos;
})

hook.tap(&apos;webpack&apos;, function (data) {
    console.log(&apos;webpack&apos;, data);
})



hook.call(&apos;jw&apos;)
</code></pre><h2 id="tapable&#x4ECB;&#x7ECD;---syncloophook"><a name="tapable&#x4ECB;&#x7ECD;---syncloophook" class="anchor-navigation-ex-anchor" href="#tapable&#x4ECB;&#x7ECD;---syncloophook"><i class="fa fa-link" aria-hidden="true"></i></a>tapable&#x4ECB;&#x7ECD; - SyncLoopHook</h2>
<p><code>SyncLoopHook</code>&#x5F53;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x88AB;&#x89E6;&#x53D1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x8FD4;&#x56DE;<code>true</code>&#x65F6;&#x5219;&#x8FD9;&#x4E2A;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x4F1A;&#x53CD;&#x590D;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x8FD4;&#x56DE; <code>undefined</code> &#x5219;&#x8868;&#x793A;&#x9000;&#x51FA;&#x5FAA;&#x73AF;</p>
<p><code>4.use.js</code></p>
<pre class="language-"><code>let {SyncLoopHook} = require(&apos;tapable&apos;)   // &#x89E3;&#x6784;&#x540C;&#x6B65;&#x52FE;&#x5B50;

// &#x4E0D;&#x8FD4;&#x56DE;undefined &#x4F1A;&#x591A;&#x6B21;&#x6267;&#x884C;

class Lesson {
    constructor () {
        this.index = 0
        this.hooks = {
            // &#x8BA2;&#x9605;&#x52FE;&#x5B50;
            arch: new SyncLoopHook([&apos;name&apos;]),

        }
    }
    start () {
        // &#x53D1;&#x5E03;
        this.hooks.arch.call(&apos;may&apos;)
    }
    tap () {   //  &#x6CE8;&#x518C;&#x76D1;&#x542C;&#x51FD;&#x6570;,&#x8BA2;&#x9605;
        this.hooks.arch.tap(&apos;node&apos;,  (name) =&gt; {
            console.log(&apos;node&apos;, name)
            return ++this.index === 3 ? undefined : &apos;&#x7EE7;&#x7EED;&#x5B66;&apos;
        })
        this.hooks.arch.tap(&apos;react&apos;,  (name) =&gt; {
            console.log(&apos;react&apos;, name)
        })
    }
}


let l = new Lesson()

l.tap();  //&#x6CE8;&#x518C;&#x4E24;&#x4E2A;&#x51FD;&#x6570;
l.start() // &#x542F;&#x52A8;&#x52FE;&#x5B50;
</code></pre><p><code>4.theory.js</code></p>
<pre class="language-"><code>class SyncLoopHook {  // &#x52FE;&#x5B50;&#x662F;&#x540C;&#x6B65;&#x7684; - &#x7011;&#x5E03;
    constructor(args) {  // args =&gt; [&apos;name&apos;]
        this.tasks = []
    }
    tap (name, task) {
        this.tasks.push(task)
    }
    call (...args) {
        this.tasks.forEach(task =&gt; {
            let ret
            do {
                ret = task(...args);
            } while(ret !== undefined)
        })
    }
}

let hook = new SyncLoopHook([&apos;name&apos;])
let total = 0
hook.tap(&apos;react&apos;, function (name) {
    console.log(&apos;react&apos;, name);
    return ++total === 3 ? undefined: &apos;&#x7EE7;&#x7EED;&#x5B66;&apos;
})


hook.tap(&apos;node&apos;, function (name) {
    console.log(&apos;node&apos;, name);
})

hook.tap(&apos;webpack&apos;, function (data) {
    console.log(&apos;webpack&apos;, data);
})



hook.call(&apos;jw&apos;)
</code></pre><h2 id="asyncparallelhook-&#x4E0E;-asyncparallelbailhook"><a name="asyncparallelhook-&#x4E0E;-asyncparallelbailhook" class="anchor-navigation-ex-anchor" href="#asyncparallelhook-&#x4E0E;-asyncparallelbailhook"><i class="fa fa-link" aria-hidden="true"></i></a><code>AsyncParallelHook</code> &#x4E0E; <code>AsyncParallelBailHook</code></h2>
<p>&#x5F02;&#x6B65;&#x7684;&#x52FE;&#x5B50;&#x5206;&#x4E24;&#x79CD;<code>&#x4E32;&#x884C;</code>&#x548C;<code>&#x5E76;&#x884C;</code></p>
<p><code>&#x5E76;&#x884C;</code>&#x7B49;&#x5F85;&#x6240;&#x6709;&#x5E76;&#x53D1;&#x7684;&#x5F02;&#x6B65;&#x4E8B;&#x4EF6;&#x6267;&#x884C;&#x540E;&#x6267;&#x884C;&#x56DE;&#x8C03;</p>
<p>&#x6CE8;&#x518C;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;</p>
<ol>
<li>&#x5F02;&#x6B65;&#x7684;&#x6CE8;&#x518C;&#x65B9;&#x6CD5;<code>tap</code></li>
<li>&#x5F02;&#x6B65;&#x7684;&#x6CE8;&#x518C;&#x65B9;&#x6CD5;<code>tapAsync</code>&#xFF0C; &#x8FD8;&#x6709;&#x4E2A;&#x56DE;&#x8C03;&#x53C2;&#x6570;</li>
<li><code>topPromise</code>,&#x6CE8;&#x518C;<code>promise</code></li>
</ol>
<p>&#x8C03;&#x7528;&#x7684;&#x4E09;&#x79CD;</p>
<ol>
<li>call (&#x540C;&#x6B65;)</li>
<li>callAsync &#xFF08;&#x5F02;&#x6B65;&#xFF09;</li>
<li>promise &#xFF08;&#x5F02;&#x6B65;&#xFF09;</li>
</ol>
<p>&#x8FD9;&#x91CC;&#x4ECB;&#x7ECD;&#x7684;&#x662F;&#x5F02;&#x6B65;&#x5E76;&#x884C;&#x7684;</p>
<h4 id="asyncparallelhook"><a name="asyncparallelhook" class="anchor-navigation-ex-anchor" href="#asyncparallelhook"><i class="fa fa-link" aria-hidden="true"></i></a>AsyncParallelHook</h4>
<p>&#x4E0D;&#x5173;&#x5FC3;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p>
<p><code>5.use.js</code></p>
<pre class="language-"><code>let {AsyncParallelHook} = require(&apos;tapable&apos;)   // &#x89E3;&#x6784;&#x540C;&#x6B65;&#x52FE;&#x5B50;

// &#x4E0D;&#x8FD4;&#x56DE;undefined &#x4F1A;&#x591A;&#x6B21;&#x6267;&#x884C;

class Lesson {
    constructor() {
        this.index = 0
        this.hooks = {
            // &#x8BA2;&#x9605;&#x52FE;&#x5B50;
            arch: new AsyncParallelHook([&apos;name&apos;]),

        }
    }

    start() {
        // &#x53D1;&#x5E03;callAsync
        // this.hooks.arch.callAsync(&apos;may&apos;, function () {
        //     console.log(&apos;end&apos;);
        // })
        // &#x53E6;&#x4E00;&#x79CD;&#x53D1;&#x5E03;promise
        this.hooks.arch.promise(&apos;may&apos;).then(function () {
                console.log(&apos;end&apos;);
            }
        )
    }

    tap() {   //  &#x6CE8;&#x518C;&#x76D1;&#x542C;&#x51FD;&#x6570;,&#x8BA2;&#x9605;
        // &#x6CE8;&#x518C;tapAsync
        // this.hooks.arch.tapAsync(&apos;node&apos;,  (name, callback) =&gt; {
        //     setTimeout(() =&gt; {
        //         console.log(&apos;node&apos;, name)
        //         callback()
        //     }, 1000)
        // })
        // this.hooks.arch.tapAsync(&apos;react&apos;,  (name, callback) =&gt; {
        //     setTimeout(() =&gt; {
        //         console.log(&apos;react&apos;, name)
        //         callback()
        //     }, 1000)
        // })
        // &#x53E6;&#x4E00;&#x79CD;&#x8BA2;&#x9605; tapPromise
        this.hooks.arch.tapPromise(&apos;node&apos;, (name) =&gt; {
            return new Promise((resolve, reject) =&gt; {
                setTimeout(() =&gt; {
                    console.log(&apos;node&apos;, name)
                    resolve()
                }, 1000)
            })
        })
        this.hooks.arch.tapPromise(&apos;react&apos;, (name) =&gt; {
            return new Promise((resolve, reject) =&gt; {
                setTimeout(() =&gt; {
                    console.log(&apos;react&apos;, name)
                    resolve()
                }, 1000)
            })
        })
    }
}


let l = new Lesson()

l.tap();  //&#x6CE8;&#x518C;&#x4E24;&#x4E2A;&#x51FD;&#x6570;
l.start() // &#x542F;&#x52A8;&#x52FE;&#x5B50;
</code></pre><p><code>5.theory.js</code></p>
<pre class="language-"><code>class AsyncParallelHook {  // &#x52FE;&#x5B50;&#x662F;&#x540C;&#x6B65;&#x7684; - &#x7011;&#x5E03;
    constructor(args) {  // args =&gt; [&apos;name&apos;]
        this.tasks = []
    }

    tapAsync(name, task) {
        this.tasks.push(task)
    }

    tapPromise(name, task) {
        this.tasks.push(task)
    }
    callAsync(...args) {
        let finalCallback = args.pop()   // &#x62FF;&#x51FA;&#x6700;&#x7EC8;&#x7684;&#x51FD;&#x6570;
        let index = 0
        let done = () =&gt; {   // &#x7C7B;&#x4F3C;promise.all&#x7684;&#x5B9E;&#x73B0;
            index++;
            if (index === this.tasks.length) {
                finalCallback();
            }
        }
        this.tasks.forEach(task =&gt; {
            task(...args, done) // &#x8FD9;&#x91CC;&#x7684;args &#x5DF2;&#x7ECF;&#x628A;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x5220;&#x6389;
        })
    }

    promise(...args) {
        let tasks = this.tasks.map(task =&gt; task(...args))
        return Promise.all(tasks)
    }
}

let hook = new AsyncParallelHook([&apos;name&apos;])


// hook.tapAsync(&apos;react&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;react&apos;, name);
//         callback()
//     }, 1000)
// })
//
// hook.tapAsync(&apos;node&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;node&apos;, name);
//         callback()
//     }, 1000)
// })

// hook.tapAsync(&apos;webpack&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;webpack&apos;, name);
//         callback()
//     }, 1000)
// })

hook.tapPromise(&apos;react&apos;, function (name, callback) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            console.log(&apos;react&apos;, name);
            resolve()
        }, 1000)
    })
})

hook.tapPromise(&apos;node&apos;, function (name, callback) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            console.log(&apos;node&apos;, name);
            resolve()
        }, 1000)
    })
})



//
// hook.callAsync(&apos;jw&apos;, function () {
//     console.log(&apos;end&apos;);
// })


hook.promise(&apos;jw&apos;).then(function () {
    console.log(&apos;end&apos;);
})
</code></pre><h4 id="asyncparallelbailhook"><a name="asyncparallelbailhook" class="anchor-navigation-ex-anchor" href="#asyncparallelbailhook"><i class="fa fa-link" aria-hidden="true"></i></a>AsyncParallelBailHook</h4>
<p>&#x53EA;&#x8981;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x4E0D;&#x4E3A; <code>null</code>&#xFF0C;&#x5C31;&#x4F1A;&#x5FFD;&#x7565;&#x540E;&#x9762;&#x7684;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x6267;&#x884C;&#xFF0C;&#x76F4;&#x63A5;&#x8DF3;&#x8DC3;&#x5230;<code>callAsync</code>&#x7B49;&#x89E6;&#x53D1;&#x51FD;&#x6570;&#x7ED1;&#x5B9A;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x88AB;&#x7ED1;&#x5B9A;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x4F7F;&#x7528;&#x548C;&#x539F;&#x7406;&#x4E0E;<code>SyncBailHook</code>&#x76F8;&#x4F3C;</p>
<h2 id="&#x5F02;&#x6B65;&#x4E32;&#x884C;-&#x2014;&#x2014;-asyncserieshook"><a name="&#x5F02;&#x6B65;&#x4E32;&#x884C;-&#x2014;&#x2014;-asyncserieshook" class="anchor-navigation-ex-anchor" href="#&#x5F02;&#x6B65;&#x4E32;&#x884C;-&#x2014;&#x2014;-asyncserieshook"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5F02;&#x6B65;&#x4E32;&#x884C; &#x2014;&#x2014; AsyncSeriesHook</h2>
<p><code>&#x4E32;&#x884C;</code>one by one</p>
<p><code>6.use.js</code></p>
<pre class="language-"><code>let {AsyncSeriesHook} = require(&apos;tapable&apos;)   // &#x89E3;&#x6784;&#x540C;&#x6B65;&#x52FE;&#x5B50;


class Lesson {
    constructor() {
        this.index = 0
        this.hooks = {
            // &#x8BA2;&#x9605;&#x52FE;&#x5B50;
            arch: new AsyncSeriesHook([&apos;name&apos;]),

        }
    }

    start() {
        // &#x53D1;&#x5E03;
        // this.hooks.arch.callAsync(&apos;may&apos;, function () {
        //     console.log(&apos;end&apos;);
        // })
        // &#x53E6;&#x4E00;&#x79CD;&#x53D1;&#x5E03;
        this.hooks.arch.promise(&apos;may&apos;).then(function () {
                console.log(&apos;end&apos;);
            }
        )
    }

    tap() {   //  &#x6CE8;&#x518C;&#x76D1;&#x542C;&#x51FD;&#x6570;,&#x8BA2;&#x9605;
        // this.hooks.arch.tapAsync(&apos;node&apos;,  (name, callback) =&gt; {
        //     setTimeout(() =&gt; {
        //         console.log(&apos;node&apos;, name)
        //         callback()
        //     }, 1000)
        // })
        // this.hooks.arch.tapAsync(&apos;react&apos;,  (name, callback) =&gt; {
        //     setTimeout(() =&gt; {
        //         console.log(&apos;react&apos;, name)
        //         callback()
        //     }, 1000)
        // })
        // &#x53E6;&#x4E00;&#x79CD;&#x8BA2;&#x9605;
        this.hooks.arch.tapPromise(&apos;node&apos;, (name) =&gt; {
            return new Promise((resolve, reject) =&gt; {
                setTimeout(() =&gt; {
                    console.log(&apos;node&apos;, name)
                    resolve()
                }, 1000)
            })
        })
        this.hooks.arch.tapPromise(&apos;react&apos;, (name) =&gt; {
            return new Promise((resolve, reject) =&gt; {
                setTimeout(() =&gt; {
                    console.log(&apos;react&apos;, name)
                    resolve()
                }, 1000)
            })
        })
    }
}


let l = new Lesson()

l.tap();  //&#x6CE8;&#x518C;&#x4E24;&#x4E2A;&#x51FD;&#x6570;
l.start(); // &#x542F;&#x52A8;&#x52FE;&#x5B50;
</code></pre><p><code>6.theory.js</code></p>
<pre class="language-"><code>class AsyncSeriesHook {  //
    constructor(args) {  // args =&gt; [&apos;name&apos;]
        this.tasks = []
    }

    tapAsync(name, task) {
        this.tasks.push(task)
    }

    tapPromise(name, task) {
        this.tasks.push(task)
    }

    callAsync(...args) {
        let finalCallback = args.pop()
        let index = 0;
        let next = () =&gt; {
            if (this.tasks.length === index) return finalCallback();
            let task = this.tasks[index++];
            task(...args, next);
        }
        next();
    }

    promise(...args) {
        // &#x5C06;promise&#x4E32;&#x8054;&#x8D77;&#x6765;
        let [first, ...other] = this.tasks
        return other.reduce((p, n) =&gt; {
             return p.then(() =&gt; n (...args))
        }, first(...args))
    }
}

let hook = new AsyncSeriesHook([&apos;name&apos;])


// hook.tapAsync(&apos;react&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;react&apos;, name);
//         callback()
//     }, 1000)
// })
//
// hook.tapAsync(&apos;node&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;node&apos;, name);
//         callback()
//     }, 1000)
// })
//
// hook.tapAsync(&apos;webpack&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;webpack&apos;, name);
//         callback()
//     }, 1000)
// })


hook.tapPromise(&apos;react&apos;, function (name, callback) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            console.log(&apos;react&apos;, name);
            resolve()
        }, 1000)
    })
})

hook.tapPromise(&apos;node&apos;, function (name, callback) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            console.log(&apos;node&apos;, name);
            resolve()
        }, 1000)
    })
})




// hook.callAsync(&apos;jw&apos;, function () {
//     console.log(&apos;end&apos;);
// })


hook.promise(&apos;jw&apos;).then(function () {
    console.log(&apos;end&apos;);
})
</code></pre><h2 id="&#x5F02;&#x6B65;&#x4E32;&#x884C;-&#x2014;&#x2014;-asyncserieswaterfallhook"><a name="&#x5F02;&#x6B65;&#x4E32;&#x884C;-&#x2014;&#x2014;-asyncserieswaterfallhook" class="anchor-navigation-ex-anchor" href="#&#x5F02;&#x6B65;&#x4E32;&#x884C;-&#x2014;&#x2014;-asyncserieswaterfallhook"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5F02;&#x6B65;&#x4E32;&#x884C; &#x2014;&#x2014; AsyncSeriesWaterfallHook</h2>
<p>&#x4E0A;&#x4E00;&#x4E2A;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x7684;&#x4E2D;&#x7684;<code>callback(err, data)</code>&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;,&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x4E0B;&#x4E00;&#x4E2A;&#x76D1;&#x542C;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;</p>
<p><code>7.use.js</code></p>
<pre class="language-"><code>let {AsyncSeriesWaterfallHook} = require(&apos;tapable&apos;)   // &#x89E3;&#x6784;&#x540C;&#x6B65;&#x52FE;&#x5B50;


class Lesson {
    constructor() {
        this.index = 0
        this.hooks = {
            // &#x8BA2;&#x9605;&#x52FE;&#x5B50;
            arch: new AsyncSeriesWaterfallHook([&apos;name&apos;]),

        }
    }

    start() {
        // &#x53D1;&#x5E03;
        this.hooks.arch.callAsync(&apos;may&apos;, function () {
            console.log(&apos;end&apos;);
        })
        // &#x53E6;&#x4E00;&#x79CD;&#x53D1;&#x5E03;
        // this.hooks.arch.promise(&apos;may&apos;).then(function () {
        //         console.log(&apos;end&apos;);
        //     }
        // )
    }

    tap() {   //  &#x6CE8;&#x518C;&#x76D1;&#x542C;&#x51FD;&#x6570;,&#x8BA2;&#x9605;
        this.hooks.arch.tapAsync(&apos;node&apos;,  (name, callback) =&gt; {
            setTimeout(() =&gt; {
                console.log(&apos;node&apos;, name)
                // callback(null, &apos;result&apos;)
                callback(&apos;error&apos;, &apos;result&apos;)   // &#x5982;&#x679C;&#x653E;error, &#x4F1A;&#x8DF3;&#x8FC7;&#x76F4;&#x63A5;&#x540E;&#x9762;&#x7684;&#x52FE;&#x5B50;&#xFF0C;&#x76F4;&#x63A5;&#x8D70;&#x5230;&#x6700;&#x7EC8;&#x7684;

            }, 1000)
        })
        this.hooks.arch.tapAsync(&apos;react&apos;,  (name, callback) =&gt; {
            setTimeout(() =&gt; {
                console.log(&apos;react&apos;, name)
                callback()
            }, 1000)
        })
        // &#x53E6;&#x4E00;&#x79CD;&#x8BA2;&#x9605;
        // this.hooks.arch.tapPromise(&apos;node&apos;, (name) =&gt; {
        //     return new Promise((resolve, reject) =&gt; {
        //         setTimeout(() =&gt; {
        //             console.log(&apos;node&apos;, name)
        //             resolve()
        //         }, 1000)
        //     })
        // })
        // this.hooks.arch.tapPromise(&apos;react&apos;, (name) =&gt; {
        //     return new Promise((resolve, reject) =&gt; {
        //         setTimeout(() =&gt; {
        //             console.log(&apos;react&apos;, name)
        //             resolve()
        //         }, 1000)
        //     })
        // })
    }
}


let l = new Lesson()

l.tap();  //&#x6CE8;&#x518C;&#x4E24;&#x4E2A;&#x51FD;&#x6570;
l.start(); // &#x542F;&#x52A8;&#x52FE;&#x5B50;
</code></pre><p><code>7.theory.js</code></p>
<pre class="language-"><code>class AsyncSeriesWaterfallHook {  //
    constructor(args) {  // args =&gt; [&apos;name&apos;]
        this.tasks = []
    }

    tapAsync(name, task) {
        this.tasks.push(task)
    }

    tapPromise(name, task) {
        this.tasks.push(task)
    }
    callAsync(...args) {
        let finalCallback = args.pop()
        let index = 0;
        let next = (err, data) =&gt; {
            let task = this.tasks[index]
            if(!task) return finalCallback();
            if (index === 0) {
                // &#x6267;&#x884C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;
                task(...args, next)
            } else {
                task(data, next)
            }
            index ++
        }
        next();
    }

    promise(...args) {
        // &#x5C06;promise&#x4E32;&#x8054;&#x8D77;&#x6765;
        let [first, ...other] = this.tasks
        return other.reduce((p, n) =&gt; {
             return p.then((data) =&gt; n(data))
        }, first(...args))
    }
}

let hook = new AsyncSeriesWaterfallHook([&apos;name&apos;])


// hook.tapAsync(&apos;react&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;react&apos;, name);
//         callback(null, &apos;&#x7ED3;&#x679C;1&apos;)
//     }, 1000)
// })
//
// hook.tapAsync(&apos;node&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;node&apos;, name);
//         callback(null, &apos;&#x7ED3;&#x679C;2&apos;)
//     }, 1000)
// })
//
// hook.tapAsync(&apos;webpack&apos;, function (name, callback) {
//     setTimeout(() =&gt; {
//         console.log(&apos;webpack&apos;, name);
//         callback()
//     }, 1000)
// })

//
hook.tapPromise(&apos;react&apos;, function (name, callback) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            console.log(&apos;react&apos;, name);
            resolve(&apos;result&apos;)
        }, 1000)
    })
})

hook.tapPromise(&apos;node&apos;, function (name, callback) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            console.log(&apos;node&apos;, name);
            resolve()
        }, 1000)
    })
})


//
//
// hook.callAsync(&apos;jw&apos;, function () {
//     console.log(&apos;end&apos;);
// })


hook.promise(&apos;jw&apos;).then(function () {
    console.log(&apos;end&apos;);
})
</code></pre><h2 id="&#x624B;&#x5199;webpack"><a name="&#x624B;&#x5199;webpack" class="anchor-navigation-ex-anchor" href="#&#x624B;&#x5199;webpack"><i class="fa fa-link" aria-hidden="true"></i></a>&#x624B;&#x5199;webpack</h2>
<p><a href="https://github.com/mayufo/webpack-training" target="_blank">&#x5BF9;&#x5E94;&#x7684;may-pack&#x9879;&#x76EE;</a></p>
<p><code>yarn add webpack webpack-cli -D</code></p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)

module.exports = {
    mode: &apos;development&apos;,
    entry: &apos;./src/index.js&apos;,
    output: {
        filename: &apos;bundle.js&apos;,
        path: path.resolve(__dirname, &apos;dist&apos;)
    }
}
</code></pre><p><code>npx webpack</code></p>
<p>&#x751F;&#x6210;&#x6587;&#x4EF6;<code>bundle.js</code></p>
<pre class="language-"><code>(function (modules) {
    var installedModules = {};

    function __webpack_require__(moduleId) {

        if (installedModules[moduleId]) {
            return installedModules[moduleId].exports;
        }
        var module = installedModules[moduleId] = {
            i: moduleId,
            l: false,
            exports: {}
        };

        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

        module.l = true;

        return module.exports;
    }


    // Load entry module and return exports
    return __webpack_require__(__webpack_require__.s = &quot;./src/index.js&quot;);
})
({
    &quot;./src/a.js&quot;:
        (function (module, exports, __webpack_require__) {
            eval(&quot;let b = __webpack_require__(/*! ./base/b */ \&quot;./src/base/b.js\&quot;)\n\nmodule.exports = &apos;a&apos;+ b\n\n\n\n//# sourceURL=webpack:///./src/a.js?&quot;);
        }),
    &quot;./src/base/b.js&quot;:
        (function (module, exports) {
            eval(&quot;module.exports = &apos;b&apos;\n\n\n//# sourceURL=webpack:///./src/base/b.js?&quot;);
        }),
    &quot;./src/index.js&quot;:
        (function (module, exports, __webpack_require__) {
            eval(&quot; let str = __webpack_require__(/*! ./a.js */ \&quot;./src/a.js\&quot;)\n\n console.log(str);\n\n\n//# sourceURL=webpack:///./src/index.js?&quot;);
        })

});
</code></pre><p>&#x65B0;&#x5EFA;&#x9879;&#x76EE;&#x7528;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;<code>webpack</code>,&#x8FD9;&#x91CC;&#x53EB;<code>may-pack</code></p>
<p><code>yarn init</code></p>
<p>&#x5982;&#x679C;&#x5728;node&#x91CC;&#x60F3;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x521B;&#x5EFA;<code>bin</code>&#x6587;&#x4EF6;,&#x518D;&#x521B;&#x5EFA;<code>may-pack.js</code></p>
<p>&#x914D;&#x7F6E;<code>package.json</code></p>
<pre class="language-"><code>{
  &quot;name&quot;: &quot;may-pack&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;bin&quot;: {
    &quot;may-pack&quot;: &quot;./bin/may-pack.js&quot;
  }
}
</code></pre><p><code>may-pack.js</code></p>
<pre class="language-"><code>#!  /usr/bin/env node 

// node&#x73AF;&#x5883;

console.log(&apos;start&apos;);
</code></pre><p>&#x8FD0;&#x884C;<code>npm link</code>&#x5C06;npm &#x6A21;&#x5757;&#x94FE;&#x63A5;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x9879;&#x76EE;&#x4E2D;&#x53BB;&#xFF0C;&#x65B9;&#x4FBF;&#x5730;&#x5BF9;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x8C03;&#x8BD5;&#x548C;&#x6D4B;&#x8BD5;</p>
<p>&#x5728;&#x60F3;&#x8FD0;&#x884C;<code>may-pack</code>&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x8FD0;&#x884C;&#xFF0C;<code>npm link may-pack</code> &#x5F97;&#x5230; <code>start</code></p>
<h2 id="webpack&#x5206;&#x6790;&#x53CA;&#x5904;&#x7406;"><a name="webpack&#x5206;&#x6790;&#x53CA;&#x5904;&#x7406;" class="anchor-navigation-ex-anchor" href="#webpack&#x5206;&#x6790;&#x53CA;&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>webpack&#x5206;&#x6790;&#x53CA;&#x5904;&#x7406;</h2>
<p><code>may-pack.js</code></p>
<pre class="language-"><code>#!  /usr/bin/env node

// node&#x73AF;&#x5883;

console.log(&apos;start&apos;);

let path = require(&apos;path&apos;)

// &#x62FF;&#x5230;&#x914D;&#x7F6E;&#x6587;&#x4EF6;webpack.config.js
let config = require(path.resolve(&apos;webpack.config.js&apos;));


let Compiler = require(&apos;../lib/Compiler.js&apos;);

let compiler = new Compiler(config);

// &#x6807;&#x8BC6;&#x8FD0;&#x884C;&#x7F16;&#x8BD1;
compiler.run()
</code></pre><p>&#x521B;&#x5EFA;<code>lib</code>&#x6587;&#x4EF6;<code>Compiler.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)
let fs = require(&apos;fs&apos;)

class Compiler {
    constructor(config) {
        // entry  output
        this.config = config
        // &#x9700;&#x8981;&#x4FDD;&#x5B58;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;
        this.entryId = &apos;&apos;;   // &apos;./src/index.js&apos;
        // &#x9700;&#x8981;&#x4FDD;&#x5B58;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x4F9D;&#x8D56;
        this.modules = {};
        this.entry = config.entry  // &#x5165;&#x53E3;&#x6587;&#x4EF6;
        // &#x5DE5;&#x4F5C;&#x76EE;&#x5F55;
        this.root = process.cwd(); // &#x5F53;&#x524D;&#x8FD0;&#x884C;npx&#x7684;&#x8DEF;&#x5F84;
    }

    // &#x6784;&#x5EFA;&#x6A21;&#x5757;
    buildModule(modulePath, isEntry) {

    }

    // &#x53D1;&#x5C04;&#x6587;&#x4EF6;
    emitFile() {
        // &#x7528;&#x6570;&#x636E; &#x6E32;&#x67D3;&#x60F3;&#x8981;&#x7684;
    }

    run() {
        // &#x6267;&#x884C; &#x521B;&#x5EFA;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;
        this.buildModule(path.resolve(this.root, this.entry), true)  // path.resolve(this.root, this.entry) &#x5F97;&#x5230;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
        // &#x53D1;&#x5C04;&#x6253;&#x5305;&#x540E;&#x7684;&#x6587;&#x4EF6;
        this.emitFile()
    }
}

module.exports = Compiler
</code></pre><p>&#x4E3B;&#x8981;&#x4E24;&#x4E2A;&#x4EFB;&#x52A1;</p>
<ol>
<li>&#x62FF;&#x5230;&#x5165;&#x53E3;Id</li>
<li>&#x89E3;&#x6790;&#x6A21;&#x5757;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5B9E;&#x73B0;<code>buildModule</code>&#x65B9;&#x6CD5;</li>
</ol>
<h2 id="&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;"><a name="&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;</h2>
<p><code>may-pack</code>&#x4E2D;<code>Compiler.js</code></p>
<pre class="language-"><code>
let path = require(&apos;path&apos;)
let fs = require(&apos;fs&apos;)
// babylon  &#x4E3B;&#x8981;&#x628A;&#x6E90;&#x7801;&#x8F6C;&#x6210;ast Babylon &#x662F; Babel &#x4E2D;&#x4F7F;&#x7528;&#x7684; JavaScript &#x89E3;&#x6790;&#x5668;&#x3002;
// @babel/traverse &#x5BF9;ast&#x89E3;&#x6790;&#x904D;&#x5386;&#x8BED;&#x6CD5;&#x6811; &#x8D1F;&#x8D23;&#x66FF;&#x6362;&#xFF0C;&#x5220;&#x9664;&#x548C;&#x6DFB;&#x52A0;&#x8282;&#x70B9;
// @babel/types &#x7528;&#x4E8E;AST&#x8282;&#x70B9;&#x7684;Lodash-esque&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#x5E93;
// @babel/generator &#x7ED3;&#x679C;&#x751F;&#x6210;

let babylon = require(&apos;babylon&apos;)
let traverse = require(&apos;@babel/traverse&apos;).default;
let type = require(&apos;@babel/types&apos;);
let generator = require(&apos;@babel/generator&apos;).default
class Compiler {
    constructor(config) {
        // entry  output
        this.config = config
        // &#x9700;&#x8981;&#x4FDD;&#x5B58;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;
        this.entryId = &apos;&apos;;   // &apos;./src/index.js&apos;
        // &#x9700;&#x8981;&#x4FDD;&#x5B58;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x4F9D;&#x8D56;
        this.modules = {};
        this.entry = config.entry  // &#x5165;&#x53E3;&#x6587;&#x4EF6;
        // &#x5DE5;&#x4F5C;&#x76EE;&#x5F55;
        this.root = process.cwd(); // &#x5F53;&#x524D;&#x8FD0;&#x884C;npx&#x7684;&#x8DEF;&#x5F84;


    }
    // &#x62FF;&#x5230;&#x6A21;&#x5757;&#x5185;&#x5BB9;
    getSource (modulePath) {
        let content = fs.readFileSync(modulePath, &apos;utf8&apos;)
        return content
    }
    parse (source, parentPath) {
        console.log(source, parentPath)
    }
    // &#x6784;&#x5EFA;&#x6A21;&#x5757;
    buildModule(modulePath, isEntry) {
        // &#x62FF;&#x5230;&#x6A21;&#x5757;&#x5185;&#x5BB9;
        let source = this.getSource(modulePath)  // &#x5F97;&#x5230;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;
        // &#x6A21;&#x5757;id modulePath(&#x9700;&#x8981;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;) = modulePath(&#x6A21;&#x5757;&#x8DEF;&#x5F84;) - this.root(&#x9879;&#x76EE;&#x5DE5;&#x4F5C;&#x8DEF;&#x5F84;)   src/index.js
        let moduleName = &apos;./&apos; + path.relative(this.root, modulePath)
        console.log(source, moduleName);  // &#x62FF;&#x5230;&#x4EE3;&#x7801; &#x548C;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84; ./src/index.js
        if (isEntry) {
            this.entryId = moduleName
        }
        let {sourceCode, dependencies} = this.parse(source, path.dirname(moduleName))   // ./src
        // &#x628A;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x548C;&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5BF9;&#x5E94;&#x8D77;&#x6765;
        this.modules[moduleName] = sourceCode
    }

    // &#x53D1;&#x5C04;&#x6587;&#x4EF6;
    emitFile() {
        // &#x7528;&#x6570;&#x636E; &#x6E32;&#x67D3;&#x60F3;&#x8981;&#x7684;
    }

    run() {
        // &#x6267;&#x884C; &#x521B;&#x5EFA;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;
        this.buildModule(path.resolve(this.root, this.entry), true)  // path.resolve(this.root, this.entry) &#x5F97;&#x5230;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
        console.log(this.modules, this.entryId);
        // &#x53D1;&#x5C04;&#x6253;&#x5305;&#x540E;&#x7684;&#x6587;&#x4EF6;
        this.emitFile()
    }


}

module.exports = Compiler
</code></pre><h2 id="ast&#x9012;&#x5F52;&#x89E3;&#x6790;"><a name="ast&#x9012;&#x5F52;&#x89E3;&#x6790;" class="anchor-navigation-ex-anchor" href="#ast&#x9012;&#x5F52;&#x89E3;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>ast&#x9012;&#x5F52;&#x89E3;&#x6790;</h2>
<p><code>parse</code>&#x65B9;&#x6CD5;&#x4E3B;&#x8981;&#x9760;&#x89E3;&#x6790;&#x8BED;&#x6CD5;&#x6811;&#x6765;&#x8FDB;&#x884C;&#x8F6C;&#x4E49;
<code>babylon</code>  &#x4E3B;&#x8981;&#x628A;&#x6E90;&#x7801;&#x8F6C;&#x6210;ast Babylon &#x662F; Babel &#x4E2D;&#x4F7F;&#x7528;&#x7684; JavaScript &#x89E3;&#x6790;&#x5668;&#x3002;
<code>@babel/traverse</code> &#x5BF9;ast&#x89E3;&#x6790;&#x904D;&#x5386;&#x8BED;&#x6CD5;&#x6811; &#x8D1F;&#x8D23;&#x66FF;&#x6362;&#xFF0C;&#x5220;&#x9664;&#x548C;&#x6DFB;&#x52A0;&#x8282;&#x70B9;
<code>@babel/types</code> &#x7528;&#x4E8E;AST&#x8282;&#x70B9;&#x7684;Lodash-esque&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#x5E93;
<code>@babel/generator</code> &#x7ED3;&#x679C;&#x751F;&#x6210;</p>
<p><code>yarn add babylon @babel/traverse @babel/types @babel/generator</code></p>
<p><code>may-pack</code>&#x4E2D;<code>Compiler.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)
let fs = require(&apos;fs&apos;)
// babylon  &#x4E3B;&#x8981;&#x628A;&#x6E90;&#x7801;&#x8F6C;&#x6210;ast Babylon &#x662F; Babel &#x4E2D;&#x4F7F;&#x7528;&#x7684; JavaScript &#x89E3;&#x6790;&#x5668;&#x3002;
// @babel/traverse &#x5BF9;ast&#x89E3;&#x6790;&#x904D;&#x5386;&#x8BED;&#x6CD5;&#x6811; &#x8D1F;&#x8D23;&#x66FF;&#x6362;&#xFF0C;&#x5220;&#x9664;&#x548C;&#x6DFB;&#x52A0;&#x8282;&#x70B9;
// @babel/types &#x7528;&#x4E8E;AST&#x8282;&#x70B9;&#x7684;Lodash-esque&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#x5E93;
// @babel/generator &#x7ED3;&#x679C;&#x751F;&#x6210;

let babylon = require(&apos;babylon&apos;)
let traverse = require(&apos;@babel/traverse&apos;).default;
let type = require(&apos;@babel/types&apos;);
let generator = require(&apos;@babel/generator&apos;).default
class Compiler {
    constructor(config) {
        // entry  output
        this.config = config
        // &#x9700;&#x8981;&#x4FDD;&#x5B58;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;
        this.entryId = &apos;&apos;;   // &apos;./src/index.js&apos;
        // &#x9700;&#x8981;&#x4FDD;&#x5B58;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x4F9D;&#x8D56;
        this.modules = {};
        this.entry = config.entry  // &#x5165;&#x53E3;&#x6587;&#x4EF6;
        // &#x5DE5;&#x4F5C;&#x76EE;&#x5F55;
        this.root = process.cwd(); // &#x5F53;&#x524D;&#x8FD0;&#x884C;npx&#x7684;&#x8DEF;&#x5F84;


    }
    // &#x62FF;&#x5230;&#x6A21;&#x5757;&#x5185;&#x5BB9;
    getSource (modulePath) {
        let content = fs.readFileSync(modulePath, &apos;utf8&apos;)
        return content
    }
    parse (source, parentPath) {
        // AST&#x89E3;&#x6790;&#x8BED;&#x6CD5;&#x6811;
        let ast = babylon.parse(source)
        let dependencies = []; // &#x4F9D;&#x8D56;&#x7684;&#x6570;&#x7EC4;
        // https://astexplorer.net/
        traverse(ast, {
            // &#x8C03;&#x7528;&#x8868;&#x8FBE;&#x5F0F;
            CallExpression(p) {
                let node = p.node; //&#x5BF9;&#x5E94;&#x7684;&#x8282;&#x70B9;
                if(node.callee.name === &apos;require&apos;) {
                   node.callee.name = &apos;__webpack_require__&apos;
                    let moduledName = node.arguments[0].value   // &#x53D6;&#x5230;&#x6A21;&#x5757;&#x7684;&#x5F15;&#x7528;&#x540D;&#x5B57;
                    moduledName = moduledName + (path.extname(moduledName) ? &apos;&apos;: &apos;.js&apos;);  // ./a.js
                    moduledName = &apos;./&apos; + path.join(parentPath, moduledName)  // &apos;./src/a.js&apos;
                    dependencies.push(moduledName)
                    node.arguments = [type.stringLiteral(moduledName)] // &#x6539;&#x6389;&#x6E90;&#x7801;
                }
            }
        })
        let sourceCode = generator(ast).code
        return { sourceCode, dependencies }
    }
    // &#x6784;&#x5EFA;&#x6A21;&#x5757;
    buildModule(modulePath, isEntry) {
        // &#x62FF;&#x5230;&#x6A21;&#x5757;&#x5185;&#x5BB9;
        let source = this.getSource(modulePath)  // &#x5F97;&#x5230;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;
        // &#x6A21;&#x5757;id modulePath(&#x9700;&#x8981;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;) = modulePath(&#x6A21;&#x5757;&#x8DEF;&#x5F84;) - this.root(&#x9879;&#x76EE;&#x5DE5;&#x4F5C;&#x8DEF;&#x5F84;)   src/index.js
        let moduleName = &apos;./&apos; + path.relative(this.root, modulePath)
        // console.log(source, moduleName);  // &#x62FF;&#x5230;&#x4EE3;&#x7801; &#x548C;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84; ./src/index.js
        if (isEntry) {
            this.entryId = moduleName
        }
        // &#x89E3;&#x6790;&#x628A;source&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x6539;&#x9020;&#xFF0C; &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;&#x5217;&#x8868;
        let {sourceCode, dependencies} = this.parse(source, path.dirname(moduleName))   // ./src
        // &#x628A;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x548C;&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5BF9;&#x5E94;&#x8D77;&#x6765;
        this.modules[moduleName] = sourceCode
        dependencies.forEach(dep =&gt; {  // &#x9644;&#x6A21;&#x5757;&#x7684;&#x52A0;&#x8F7D; &#x9012;&#x5F52;&#x52A0;&#x8F7D;
            this.buildModule(path.join(this.root, dep), false)
        })
    }

    // &#x53D1;&#x5C04;&#x6587;&#x4EF6;
    emitFile() {
        // &#x7528;&#x6570;&#x636E; &#x6E32;&#x67D3;&#x60F3;&#x8981;&#x7684;
    }

    run() {
        // &#x6267;&#x884C; &#x521B;&#x5EFA;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;
        this.buildModule(path.resolve(this.root, this.entry), true)  // path.resolve(this.root, this.entry) &#x5F97;&#x5230;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
        console.log(this.modules, this.entryId);
        // &#x53D1;&#x5C04;&#x6253;&#x5305;&#x540E;&#x7684;&#x6587;&#x4EF6;
        this.emitFile()
    }


}

module.exports = Compiler
</code></pre><h2 id="&#x751F;&#x6210;&#x6253;&#x5305;&#x5DE5;&#x5177;"><a name="&#x751F;&#x6210;&#x6253;&#x5305;&#x5DE5;&#x5177;" class="anchor-navigation-ex-anchor" href="#&#x751F;&#x6210;&#x6253;&#x5305;&#x5DE5;&#x5177;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x751F;&#x6210;&#x6253;&#x5305;&#x5DE5;&#x5177;</h2>
<p>&#x4F7F;&#x7528;ejs&#x6A21;&#x677F;</p>
<p><code>may-pack</code>&#x4E2D;<code>main.ejs</code></p>
<pre class="language-"><code>(function (modules) {
var installedModules = {};

function __webpack_require__(moduleId) {

if (installedModules[moduleId]) {
return installedModules[moduleId].exports;
}
var module = installedModules[moduleId] = {
i: moduleId,
l: false,
exports: {}
};

modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

module.l = true;

return module.exports;
}


// Load entry module and return exports
return __webpack_require__(__webpack_require__.s = &quot;&lt;%-entryId %&gt;&quot;);
})({
&lt;% for(let key in modules){ %&gt;
    &quot;&lt;%- key %&gt;&quot;:
    (function (module, exports,__webpack_require__) {
eval(`&lt;%-modules[key] %&gt;`);
}),
&lt;% } %&gt;
});
</code></pre><p><a href="https://ejs.bootcss.com/" target="_blank">ejs&#x5165;&#x95E8;</a></p>
<p><code>yarn add ejs</code></p>
<p><code>may-pack</code>&#x4E2D;<code>Compiler.js</code></p>
<pre class="language-"><code>let ejs = require(&apos;ejs&apos;)
</code></pre><pre class="language-"><code>// &#x53D1;&#x5C04;&#x6587;&#x4EF6;
    emitFile() {
        // &#x7528;&#x6570;&#x636E; &#x6E32;&#x67D3;&#x60F3;&#x8981;&#x7684;
        // &#x8F93;&#x51FA;&#x5230;&#x90A3;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;
        let main = path.join(this.config.output.path, this.config.output.filename)
        let templateStr = this.getSource(path.join(__dirname, &apos;main.ejs&apos;))
        let code = ejs.render(templateStr, { entryId: this.entryId, modules: this.modules})
        this.assets = {}
        // &#x8DEF;&#x5F84;&#x5BF9;&#x5E94;&#x7684;&#x4EE3;&#x7801;
        this.assets[main] = code
        fs.writeFileSync(main, this.assets[main])
    }
</code></pre><p>&#x5728;<code>webpack-training</code>&#x9879;&#x76EE;&#x4E2D;&#x8FD0;&#x884C;<code>npx may-pack</code>, &#x5F97;&#x5230;<code>bundle.js</code>,&#x8FD0;&#x884C;&#x5F97;&#x5230;&#x7ED3;&#x679C;</p>
<h2 id="&#x589E;&#x52A0;loader"><a name="&#x589E;&#x52A0;loader" class="anchor-navigation-ex-anchor" href="#&#x589E;&#x52A0;loader"><i class="fa fa-link" aria-hidden="true"></i></a>&#x589E;&#x52A0;loader</h2>
<p>&#x521B;&#x5EFA;<code>loader</code>&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x521B;&#x5EFA;<code>less-loader1.js</code>&#x548C;<code>style-loader1.js</code></p>
<p><code>yarn add less</code></p>
<p><a href="http://lesscss.cn/#using-less" target="_blank">less&#x4F7F;&#x7528;</a></p>
<p><code>less-loader1.js</code></p>
<pre class="language-"><code>// &#x5C06;less&#x8F6C;&#x4E3A;css
let less = require(&apos;less&apos;)

function loader(source) {
    let css = &apos;&apos;
    less.render(source, function (err, output) {
        css = output.css
    })
    css = css.replace(/\n/g, &apos;\\n&apos;);
    return css
}

module.exports = loader
</code></pre><p><code>style-loader1.js</code></p>
<pre class="language-"><code>// &#x5C06;css&#x63D2;&#x5165;&#x5230;html&#x5934;&#x90E8;
function loader(source) {
    console.log(111);
    let style = `
    let style = document.createElement(&apos;style&apos;)
    style.innerHTML = ${JSON.stringify(source)}
    document.head.appendChild(style)
   `
    return style
}
module.exports = loader


// JSON.stringify(source) &#x53EF;&#x4EE5;&#x5C06;&#x4EE3;&#x7801;&#x8F6C;&#x4E3A;&#x4E00;&#x884C;
</code></pre><p><code>webpack.config.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)

module.exports = {
    mode: &apos;development&apos;,
    entry: &apos;./src/index.js&apos;,
    output: {
        filename: &apos;bundle.js&apos;,
        path: path.resolve(__dirname, &apos;dist&apos;)
    },
    module: {
        rules: [
            {
                test: /\.less$/,
                use: [
                    path.resolve(__dirname, &apos;loader&apos;, &apos;style-loader1&apos;),
                    path.resolve(__dirname, &apos;loader&apos;, &apos;less-loader1&apos;)
                ]
            }
        ]
    }
}
</code></pre><p>&#x521B;&#x5EFA;<code>index.less</code></p>
<pre class="language-"><code>body {
  background: red
}
</code></pre><p><code>index.js</code></p>
<pre class="language-"><code> let str = require(&apos;./a.js&apos;)

 require(&apos;./index.less&apos;)

 console.log(str);
</code></pre><p><code>may-pack</code>&#x4E2D;<code>Compiler.js</code></p>
<pre class="language-"><code>// &#x62FF;&#x5230;&#x6A21;&#x5757;&#x5185;&#x5BB9;
    getSource (modulePath) {
        // &#x5339;&#x914D;&#x5404;&#x79CD;&#x6587;&#x4EF6;&#x7684;&#x89C4;&#x5219;
        let rules= this.config.module.rules;   // webpack.config.js &#x4E2D;rules&#x7684;&#x6570;&#x7EC4;
        let content = fs.readFileSync(modulePath, &apos;utf8&apos;)

        for (let i = 0; i &lt; rules.length; i++) {
            let rule = rules[i]
            let {test, use} = rule
            let len = use.length - 1

            if (test.test(modulePath)) {
                // console.log(use[len]);
                function normalLoader () {
                    // console.log(use[len--]);
                    let loader = require(use[len--])
                    content = loader(content)
                    // &#x9012;&#x5F52;&#x8C03;&#x7528;loader &#x5B9E;&#x73B0;&#x8F6C;&#x5316;
                    if (len &gt;= 0) {
                        normalLoader()
                    }
                }
                normalLoader()
            }

        }
        return content
    }
</code></pre><p>&#x8FD0;&#x884C;<code>npx may-pack</code></p>
<h2 id="&#x589E;&#x52A0;plugins"><a name="&#x589E;&#x52A0;plugins" class="anchor-navigation-ex-anchor" href="#&#x589E;&#x52A0;plugins"><i class="fa fa-link" aria-hidden="true"></i></a>&#x589E;&#x52A0;plugins</h2>
<p><code>yarn add tapable</code></p>
<p><code>may-pack</code>&#x4E2D;<code>Compiler.js</code></p>
<pre class="language-"><code>constructor(config) {
        // entry  output
        this.config = config
        // &#x9700;&#x8981;&#x4FDD;&#x5B58;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;
        this.entryId = &apos;&apos;;   // &apos;./src/index.js&apos;
        // &#x9700;&#x8981;&#x4FDD;&#x5B58;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x4F9D;&#x8D56;
        this.modules = {};
        this.entry = config.entry  // &#x5165;&#x53E3;&#x6587;&#x4EF6;
        // &#x5DE5;&#x4F5C;&#x76EE;&#x5F55;
        this.root = process.cwd(); // &#x5F53;&#x524D;&#x8FD0;&#x884C;npx&#x7684;&#x8DEF;&#x5F84;

        this.hooks = {
            entryOption: new SyncHook(),  // &#x5165;&#x53E3;&#x9009;&#x9879;
            compile: new SyncHook(),      // &#x7F16;&#x8BD1;
            afterCompile: new SyncHook(),  // &#x7F16;&#x8BD1;&#x5B8C;&#x6210;
            afterPlugins: new SyncHook(),   // &#x7F16;&#x8BD1;&#x5B8C;&#x63D2;&#x4EF6;
            run: new SyncHook(),         // &#x8FD0;&#x884C;
            emit: new SyncHook(),        // &#x53D1;&#x5C04;
            done: new SyncHook()         // &#x5B8C;&#x6210;
        }
        // &#x5982;&#x679C;&#x4F20;&#x9012;&#x4E86;plugins&#x53C2;&#x6570;
        let plugins = this.config.plugins
        if (Array.isArray(plugins)) {
            plugins.forEach(plugin =&gt; {
                plugin.apply(this); // &#x8FD9;&#x91CC;&#x53EA;&#x662F;appLy&#x65B9;&#x6CD5;&#x4E0D;&#x662F;&#x6539;&#x53D8;this&#x6307;&#x5411;
            })
        }
        this.hooks.afterPlugins.call()
    }
</code></pre><p>&#x5728;<code>webpack.config.js</code>&#x4E2D;&#x5199;&#x63D2;&#x4EF6;&#x65B9;&#x6CD5;</p>
<pre class="language-"><code>class P {
    apply(compiler) {   // &#x8FD9;&#x91CC;&#x53EA;&#x662F;appLy&#x65B9;&#x6CD5;&#x4E0D;&#x662F;&#x6539;&#x53D8;this&#x6307;&#x5411;
        // &#x7ED1;&#x5B9A;
        compiler.hooks.emit.tap(&apos;emit&apos;, function () {
            console.log(&apos;emit&apos;);
        })
    }
}

class P1 {
    apply(compiler) {   // &#x8FD9;&#x91CC;&#x53EA;&#x662F;appLy&#x65B9;&#x6CD5;&#x4E0D;&#x662F;&#x6539;&#x53D8;this&#x6307;&#x5411;
        // &#x7ED1;&#x5B9A;
        compiler.hooks.afterPlugins.tap(&apos;emit&apos;, function () {
            console.log(&apos;afterPlugins&apos;);
        })
    }
}



module.exports = {
    mode: &apos;development&apos;,
    entry: &apos;./src/index.js&apos;,
    output: {
        filename: &apos;bundle.js&apos;,
        path: path.resolve(__dirname, &apos;dist&apos;)
    },
    module: {
        rules: [
            {
                test: /\.less$/,
                use: [
                    path.resolve(__dirname, &apos;loader&apos;, &apos;style-loader&apos;),
                    path.resolve(__dirname, &apos;loader&apos;, &apos;less-loader&apos;)
                ]
            }
        ]
    },
    plugins: [
        new P(),
        new P1()
    ]
}
</code></pre><p>&#x7136;&#x540E;&#x5728;&#x5404;&#x4E2A;&#x5730;&#x65B9;&#x8C03;&#x7528;</p>
<p><code>may-pack</code>&#x4E2D;<code>may-pack.js</code></p>
<pre class="language-"><code>.....
// &#x8C03;&#x7528;
compiler.hooks.entryOption.call()
// &#x6807;&#x8BC6;&#x8FD0;&#x884C;&#x7F16;&#x8BD1;
compiler.run()
</code></pre><p><code>may-pack</code>&#x4E2D;<code>Compiler.js</code></p>
<pre class="language-"><code>run() {
        this.hooks.run.call()

        this.hooks.compile.call()
        // &#x6267;&#x884C; &#x521B;&#x5EFA;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;
        this.buildModule(path.resolve(this.root, this.entry), true)  // path.resolve(this.root, this.entry) &#x5F97;&#x5230;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
        // console.log(this.modules, this.entryId);
        this.hooks.afterCompile.call()
        // &#x53D1;&#x5C04;&#x6253;&#x5305;&#x540E;&#x7684;&#x6587;&#x4EF6;
        this.emitFile()
        this.hooks.emit.call()
        this.hooks.done.call()
    }
</code></pre><p>&#x8FD0;&#x884C;<code>npx may-pack</code></p>
<h2 id="loader"><a name="loader" class="anchor-navigation-ex-anchor" href="#loader"><i class="fa fa-link" aria-hidden="true"></i></a>loader</h2>
<p><a href="https://juejin.im/post/59e6a5de518825469c7461da" target="_blank">&#x624B;&#x5199;loader</a></p>
<p><code>webapck.config.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)

module.exports = {
    mode: &apos;development&apos;,
    entry: &apos;./src/index&apos;,
    output: {
        filename: &apos;build.js&apos;,
        path: path.resolve(__dirname, &apos;dist&apos;)
    },
    module: {
        rules: [
            {
                test: /\.js/,
                use: &apos;loader1&apos; // &#x5982;&#x4F55;&#x627E;&#x5230;&#x8FD9;&#x4E2A;loader1
            }
        ]
    },
}
</code></pre><p>&#x521B;&#x5EFA;<code>loader</code>&#x6587;&#x4EF6;<code>loader1.js</code></p>
<pre class="language-"><code>console.log(22);

function loader(source) {  // loader&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6E90;&#x4EE3;&#x7801;
    return source
}
module.exports = loader
</code></pre><p><code>webpack.config.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)

module.exports = {
    mode: &apos;development&apos;,
    entry: &apos;./src/index.js&apos;,
    output: {
        filename: &apos;build.js&apos;,
        path: path.resolve(__dirname, &apos;dist&apos;)
    },
    resolveLoader: {
      // &#x522B;&#x540D;
      // alias: {
      //     loader1: path.resolve(__dirname, &apos;loader&apos;, &apos;loader1&apos;)
      // }
        modules: [&apos;node_modules&apos;, path.resolve(__dirname, &apos;loader&apos;)]  // &#x5148;&#x627E;node_modules, &#x518D;&#x53BB;loader&#x4E2D;&#x53BB;&#x627E;
    },
    module: {
        rules: [
            {
                test: /\.js$/,
                // use: [path.resolve(__dirname, &apos;loader&apos;, &apos;loader1&apos;)]
                use: &apos;loader1&apos; // &#x5982;&#x4F55;&#x627E;&#x5230;&#x8FD9;&#x4E2A;loader1

            },
            // {
            //     test: /\.less$/,
            //     use: [
            //         path.resolve(__dirname, &apos;loader&apos;, &apos;style-loader&apos;),
            //         path.resolve(__dirname, &apos;loader&apos;, &apos;less-loader&apos;)
            //     ]
            // }
        ]
    },
}
</code></pre><p>&#x5982;&#x4F55;&#x627E;&#x5230;&#x8FD9;&#x4E2A;<code>loader1</code></p>
<ol>
<li>&#x901A;&#x8FC7;&#x914D;&#x522B;&#x540D;<code>alias</code></li>
<li>&#x901A;&#x8FC7;<code>modules</code></li>
</ol>
<p><code>npx webpack</code></p>
<h2 id="&#x914D;&#x7F6E;&#x591A;&#x4E2A;loader"><a name="&#x914D;&#x7F6E;&#x591A;&#x4E2A;loader" class="anchor-navigation-ex-anchor" href="#&#x914D;&#x7F6E;&#x591A;&#x4E2A;loader"><i class="fa fa-link" aria-hidden="true"></i></a>&#x914D;&#x7F6E;&#x591A;&#x4E2A;loader</h2>
<ol>
<li>&#x6570;&#x7EC4;&#x65B9;&#x5F0F;</li>
</ol>
<p>&#x5148;&#x5206;&#x522B;&#x5728;<code>loader</code>&#x6587;&#x4EF6;&#x4E0B;&#x521B;&#x5EFA;&#xFF0C;<code>loader2.js</code>&#x548C;<code>loader3.js</code></p>
<pre class="language-"><code>
function loader(source) {  // loader&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6E90;&#x4EE3;&#x7801;
    console.log(&apos;loader2&apos;);  // loader3.js &#x7C7B;&#x4F3C;
    return source
}
module.exports = loader
</code></pre><p><code>webpack.config.js</code></p>
<pre class="language-"><code>rules: [
    {
        test: /\.js$/,
        use: [&apos;loader3&apos;, &apos;loader2&apos;, &apos;loader1&apos;]
    },
]
</code></pre><p>&#x8FD0;&#x884C;<code>npx webpack</code>,&#x5206;&#x522B;&#x6253;&#x51FA;</p>
<pre class="language-"><code>loader1
loader2
loader3
</code></pre><ol>
<li>&#x5BF9;&#x8C61;&#x65B9;&#x5F0F;</li>
</ol>
<pre class="language-"><code>rules: [
    {
        test: /\.js$/,
        use: [&apos;loader3&apos;]
    },
    {
        test: /\.js$/,
        use: [&apos;loader2&apos;]
    },
    {
        test: /\.js$/,
        use: [&apos;loader1&apos;]
    }
]
</code></pre><p>&#x8FD0;&#x884C;<code>npx webpack</code>,&#x5206;&#x522B;&#x6253;&#x51FA;</p>
<pre class="language-"><code>loader1
loader2
loader3
</code></pre><blockquote>
<p><code>loader</code>&#x7684;&#x987A;&#x5E8F;: &#x4ECE;&#x53F3;&#x5230;&#x5DE6;, &#x4ECE;&#x4E0B;&#x5230;&#x4E0A;</p>
</blockquote>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x53C2;&#x6570;&#x6539;&#x53D8;<code>loader</code>&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#xFF0C;<code>pre</code> &#x524D;&#x9762;&#x7684;&#xFF0C; <code>post</code>&#x5728;&#x540E;&#x9762;&#x7684;&#xFF0C; <code>normal</code>&#x6B63;&#x5E38;</p>
<pre class="language-"><code>{
    test: /\.js$/,
    use: [&apos;loader1&apos;],
    enforce: &quot;pre&quot;
},
{
    test: /\.js$/,
    use: [&apos;loader2&apos;]
},
{
    test: /\.js$/,
    use: [&apos;loader3&apos;],
    enforce: &quot;post&quot;
},
</code></pre><p><code>loader</code> &#x5E26;&#x53C2;&#x6570;&#x6267;&#x884C;&#x7684;&#x987A;&#x5E8F;: <code>pre  -&gt; normal -&gt; inline -&gt; post</code></p>
<p><code>inline</code>&#x4E3A;&#x884C;&#x5185;<code>loader</code></p>
<p>&#x5728;<code>loader</code>&#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x5EFA;<code>inlin-loader</code></p>
<pre class="language-"><code>
function loader(source) {  // loader&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6E90;&#x4EE3;&#x7801;
    console.log(&apos;inline&apos;);
    return source
}
module.exports = loader
</code></pre><p><code>src/a.js</code></p>
<pre class="language-"><code>module.exports = &apos;may&apos;
</code></pre><p><code>src/index</code></p>
<pre class="language-"><code>console.log(&apos;hello&apos;)
let srt = require(&apos;-!inline-loader!./a&apos;)
</code></pre><ol>
<li><code>-!</code>&#x7981;&#x7528;<code>pre-loader</code>&#x548C; <code>normal-loader</code>&#x6765;&#x5904;&#x7406;&#x4E86;</li>
</ol>
<pre class="language-"><code>loader1
loader2
loader3
inline
loader3
</code></pre><ol>
<li><code>!</code>&#x7981;&#x7528;<code>normal-loader</code></li>
</ol>
<pre class="language-"><code>loader1
loader2
loader3
loader1
inline
loader3
</code></pre><ol>
<li><code>!!</code> &#x7981;&#x7528;<code>pre-loader</code>&#x3001;<code>normal-loader</code>&#x3001;<code>post-loader</code>,&#x53EA;&#x80FD;&#x884C;&#x5185;&#x5904;&#x7406;</li>
</ol>
<pre class="language-"><code>loader1
loader2
loader3
inline
</code></pre><p>loader &#x9ED8;&#x8BA4;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;<code>pitch</code>&#x548C;<code>normal</code></p>
<p><code>user: [loader3, loader2, loader1]</code></p>
<p>&#x65E0;&#x8FD4;&#x56DE;&#x503C;: &#x5148;&#x6267;&#x884C;pitch&#x65B9;&#x6CD5;,&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#xFF0C;&#x518D;&#x83B7;&#x53D6;&#x8D44;&#x6E90;</p>
<pre class="language-"><code>
    pitch loader - &#x65E0;&#x8FD4;&#x56DE;&#x503C;

pitch   loader3 &#x2192; loader2 &#x2192; loader1  
                                    &#x2198;
                                      &#x8D44;&#x6E90;
                                    &#x2199;
normal   loader3 &#x2190; loader2 &#x2190; loader1
</code></pre><p>&#x6709;&#x8FD4;&#x56DE;&#x503C;: &#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x540E;&#x7EED;&#x6240;&#x6709;&#x7684;<code>loader</code>&#x5305;&#x62EC;&#x81EA;&#x5DF1;&#x7684;,&#x8DF3;&#x5230;&#x4E4B;&#x524D;&#x7684;<code>loader</code>, &#x53EF;&#x7528;&#x4E8E;&#x963B;&#x65AD;</p>
<p><a href="https://webpack.docschina.org/api/loaders/" target="_blank">loader</a></p>
<pre class="language-"><code>user: [loader3, loader2, loader1]

    pitch loader - &#x6709;&#x8FD4;&#x56DE;&#x503C;

pitch   loader3 &#x2192; loader2  loader1  
                     &#x2199;               
               &#x6709;&#x8FD4;&#x56DE;&#x503C;               &#x8D44;&#x6E90;
               &#x2199;                      
normal  loader3  loader2  loader1
</code></pre><p><code>loadeer2.js</code></p>
<pre class="language-"><code>
function loader(source) {  // loader&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6E90;&#x4EE3;&#x7801;
    console.log(&apos;loader2&apos;);
    return source
}

loader.pitch = function () {
    return &apos;111&apos;
}
module.exports = loader
</code></pre><p>&#x7ED3;&#x679C;</p>
<pre class="language-"><code>loader3
</code></pre><h2 id="babel-loader&#x5B9E;&#x73B0;"><a name="babel-loader&#x5B9E;&#x73B0;" class="anchor-navigation-ex-anchor" href="#babel-loader&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a><code>babel-loader</code>&#x5B9E;&#x73B0;</h2>
<p><code>yarn add @babel/core @babel/preset-env</code></p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>{
    test: &apos;\.js$/&apos;,
    use: {
        loader: &apos;babel-loader2&apos;,
        options: {
            presets: [
                &apos;@babel/preset-env&apos;
            ]
        }
    }
}
</code></pre><p>&#x5728;<code>loader</code>&#x6587;&#x4EF6;&#x521B;&#x5EFA;<code>babel-loader2.js</code>(&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x88C5;&#x8FC7;<code>babel-loader</code>)</p>
<p>&#x62FF;&#x5230;<code>babel</code>&#x7684;&#x53C2;&#x6570;</p>
<p><code>yarn add loader-utils</code></p>
<pre class="language-"><code>// &#x9700;&#x8981;&#x5728;webpack.config.js&#x62FF;&#x5230;babel&#x7684;&#x9884;&#x8BBE;, &#x901A;&#x8FC7;&#x9884;&#x8BBE;&#x8F6C;&#x6362;&#x6A21;&#x5757;, &#x5148;&#x5F15;&#x5165;babel
let babel = require(&apos;@babel/core&apos;)

// &#x62FF;&#x5230;babel&#x7684;&#x53C2;&#x6570; &#x9700;&#x8981;&#x5DE5;&#x5177; loaderUtils
let loaderUtils =require(&apos;loader-utils&apos;)


function loader(source) {  // loader&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6E90;&#x4EE3;&#x7801;  &#x8FD9;&#x91CC;&#x7684;this&#x5C31;&#x662F;loader&#x7684;&#x4E0A;&#x4E0B;&#x6587;
    let options = loaderUtils.getOptions(this)
    console.log(this.resourcePath, 444);   // [./src/index.js]
    let callback = this.async(); // babel&#x7684;&#x8F6C;&#x6362;&#x662F;&#x5F02;&#x6B65;&#x7684;,&#x540C;&#x6B65;&#x7684;&#x8FD4;&#x56DE;&#x662F;&#x4E0D;&#x884C;&#x7684;&#xFF0C; &#x4E0D;&#x80FD;&#x7528;return  &#x540C;&#x6B65;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x6389;&#x7528; &#x5F02;&#x6B65;&#x4F1A;&#x5728;async&#x4E2D;
    babel.transform(source, {
        ...options,
        sourceMap: true,         // &#x662F;&#x5426;&#x8BBE;&#x7F6E;sourceMap &#x8FD8;&#x9700;&#x8981;&#x518D;webpack.config.js &#x4E2D;&#x914D;&#x7F6E;  devtool: &apos;source-map&apos;
        filename: this.resourcePath.split(&apos;/&apos;).pop()   //  &#x7ED9;&#x751F;&#x6210;&#x7684;`source-map`&#x6307;&#x5B9A;&#x540D;&#x5B57;
    }, function (err, result) {
        callback(err, result.code, result.map)   // &#x5F02;&#x6B65; &#x53C2;&#x6570;&#x5206;&#x522B;&#x662F;&#x300C;&#x9519;&#x8BEF; &#x8F6C;&#x5316;&#x540E;&#x7684;&#x4EE3;&#x7801; &#x548C; sourceMap&#x300D;
    })
    console.log(options);
    // return source  &#x5931;&#x6548;
}

module.exports = loader
</code></pre><p><code>index.js</code></p>
<pre class="language-"><code>class May {
    constructor () {
        this.name = &apos;may&apos;
    }
    getName () {
        return this.name
    }
}


let may = new May()

console.log(may.getName());
</code></pre><p><code>npx webpack</code></p>
<h2 id="banner-loader&#x5B9E;&#x73B0;&#x81EA;&#x521B;"><a name="banner-loader&#x5B9E;&#x73B0;&#x81EA;&#x521B;" class="anchor-navigation-ex-anchor" href="#banner-loader&#x5B9E;&#x73B0;&#x81EA;&#x521B;"><i class="fa fa-link" aria-hidden="true"></i></a><code>banner-loader</code>&#x5B9E;&#x73B0;(&#x81EA;&#x521B;)</h2>
<p>&#x7ED9;&#x6240;&#x6709;&#x5339;&#x914D;&#x7684;<code>js</code>&#x52A0;&#x4E00;&#x4E2A;&#x6CE8;&#x91CA;</p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>{    // &#x7ED9;&#x6240;&#x6709;&#x5339;&#x914D;&#x7684;`js`&#x52A0;&#x4E00;&#x4E2A;&#x6CE8;&#x91CA;
    test: /\.js$/,
    use: {
        loader: &apos;banner-loader&apos;,
        options: {
           text: &apos;may&apos;,
           filename: path.resolve(__dirname, &apos;banner.js&apos;)
        }
    }
}
</code></pre><p><code>banner.js</code></p>
<pre class="language-"><code>&#x4E8C;&#x6B21;&#x661F;&#x7403;&#x4E2D;&#x6BD2;
</code></pre><p>&#x5728;<code>loader</code>&#x6587;&#x4EF6;&#x521B;&#x5EFA;<code>banner-loader.js</code></p>
<p><code>yarn add schema-utils</code> &#x6821;&#x9A8C;&#x81EA;&#x5DF1;&#x5199;&#x7684;<code>loader</code>&#x683C;&#x5F0F;&#x662F;&#x5426;&#x6B63;&#x786E;</p>
<p><a href="https://github.com/webpack-contrib/schema-utils" target="_blank">schema-utils</a></p>
<p><code>banner-loader.js</code></p>
<pre class="language-"><code>// &#x62FF;&#x5230;loader&#x7684;&#x914D;&#x7F6E;
let loaderUtils = require(&apos;loader-utils&apos;)
// &#x6821;&#x9A8C;loader
let validateOptions = require(&apos;schema-utils&apos;)
// &#x8BFB;&#x53D6;&#x6587;&#x4EF6;
let fs = require(&apos;fs&apos;)  // &#x5F02;&#x6B65;

function loader(source) {  // loader&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6E90;&#x4EE3;&#x7801;
    let options = loaderUtils.getOptions(this)
    let callback = this.async()  // &#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x662F;&#x5F02;&#x6B65;
    let schema = {
        type: &apos;object&apos;,
        properties: {
            text: {
                type: &apos;string&apos;
            },
            filename: {
                type: &apos;string&apos;
            }
        }
    }
    validateOptions(schema, options, &apos;banner-loader&apos;)  // &#x81EA;&#x5DF1;&#x7684;&#x6821;&#x9A8C;&#x683C;&#x5F0F;&#xFF0C; &#x81EA;&#x5DF1;&#x7684;&#x5199;&#x7684;&#x914D;&#x7F6E;&#xFF0C; &#x5BF9;&#x5E94;&#x7684;loader&#x540D;&#x5B57;
    if (options.filename) {
        this.cacheable(false)  // &#x4E0D;&#x8981;&#x7F13;&#x5B58;  &#x5982;&#x679C;&#x6709;&#x5927;&#x91CF;&#x8BA1;&#x7B97; &#x63A8;&#x8350;&#x7F13;&#x5B58;
        // this.cacheable &amp;&amp; this.cacheable()
        this.addDependency(options.filename) // &#x81EA;&#x52A8;&#x589E;&#x52A0;&#x4F9D;&#x8D56;
        fs.readFile(options.filename, &apos;utf8&apos;, function (err, data) {
            callback(err, `/**${data}**/${source}`)
        })
    } else {
        callback(null, `/**${options.text}**/${source}`)
    }
    return source
}
module.exports = loader
</code></pre><p>&#x4F18;&#x5316;:</p>
<ol>
<li>&#x4FEE;&#x6539;<code>banner.js</code>&#x7684;&#x5185;&#x5BB9;&#x540E;, <code>webpack</code>&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#xFF0C;&#x6253;&#x5305;<code>webapck.config.js</code>&#x914D;&#x7F6E;<code>watch: true</code></li>
<li><code>loader</code>&#x7F13;&#x5B58;</li>
</ol>
<h2 id="&#x5B9E;&#x73B0;file-loader&#x548C;url-loader"><a name="&#x5B9E;&#x73B0;file-loader&#x548C;url-loader" class="anchor-navigation-ex-anchor" href="#&#x5B9E;&#x73B0;file-loader&#x548C;url-loader"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9E;&#x73B0;<code>file-loader</code>&#x548C;<code>url-loader</code></h2>
<p><code>yarn add mime</code></p>
<p>&#x5176;&#x4E3B;&#x8981;&#x7528;&#x9014;&#x662F;&#x8BBE;&#x7F6E;&#x67D0;&#x79CD;&#x6269;&#x5C55;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x54CD;&#x5E94;&#x7A0B;&#x5E8F;&#x7C7B;&#x578B;</p>
<p><a href="https://github.com/broofa/node-mime#readme" target="_blank">mime</a></p>
<p>&#x521B;&#x5EFA;<code>file-loader.js1</code></p>
<pre class="language-"><code>// &#x62FF;&#x5230;babel&#x7684;&#x53C2;&#x6570; &#x9700;&#x8981;&#x5DE5;&#x5177; loaderUtils
let loaderUtils = require(&apos;loader-utils&apos;)

function loader(source) {  // loader&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6E90;&#x4EE3;&#x7801;
    // file-loader&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x8DEF;&#x5F84;
    let filename = loaderUtils.interpolateName(this, &apos;[hash].[ext]&apos;, {content: source })
    this.emitFile(filename, source) // &#x53D1;&#x5C04;&#x6587;&#x4EF6;
    console.log(&apos;loader1&apos;);
    return `module.exports=&quot;${filename}&quot;`
}
loader.raw = true // &#x4E8C;&#x8FDB;&#x5236;
module.exports = loader
</code></pre><p>&#x521B;&#x5EFA;<code>url-loader1.js</code></p>
<pre class="language-"><code>// &#x62FF;&#x5230;babel&#x7684;&#x53C2;&#x6570; &#x9700;&#x8981;&#x5DE5;&#x5177; loaderUtils
let loaderUtils = require(&apos;loader-utils&apos;)
let mime = require(&apos;mime&apos;)  // &#x9014;&#x662F;&#x8BBE;&#x7F6E;&#x67D0;&#x79CD;&#x6269;&#x5C55;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x54CD;&#x5E94;&#x7A0B;&#x5E8F;&#x7C7B;&#x578B;

function loader(source) {  // loader&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x6E90;&#x4EE3;&#x7801;
    let {limit} = loaderUtils.getOptions(this)
    console.log(this.resourcePath);
    if (limit &amp;&amp; limit &gt; source.length) {
        return `module.exports=&quot;data:${mime.getType(this.resourcePath)};base64,${source.toString(&apos;base64&apos;)}&quot;`
    } else {
        return require(&apos;./file-loader1&apos;).call(this, source)
    }
}
loader.raw = true // &#x4E8C;&#x8FDB;&#x5236;
module.exports = loader
</code></pre><p><code>webpack.config.js</code></p>
<pre class="language-"><code>{
    test: /\.png$/,
    // &#x76EE;&#x7684;&#x662F;&#x6839;&#x636E;&#x56FE;&#x7247;&#x751F;&#x6210;md5 &#x53D1;&#x5C04;&#x5230;dist&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;file-loader &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x56FE;&#x7247;&#x8DEF;&#x5F84;
    // use: &apos;file-loader&apos;
    // &#x5904;&#x7406;&#x8DEF;&#x5F84;
    use: {
        loader: &apos;url-loader1&apos;,
        options: {
            limit: 200 * 1024
        }
    }
}
</code></pre><p><code>index.js</code>&#x5F15;&#x5165;&#x56FE;&#x7247;</p>
<pre class="language-"><code>import p from &apos;./photo.png&apos;

let img = document.createElement(&apos;img&apos;)
img.src = p
document.body.appendChild(img);
</code></pre><h2 id="less-loader&#x548C;css-loader"><a name="less-loader&#x548C;css-loader" class="anchor-navigation-ex-anchor" href="#less-loader&#x548C;css-loader"><i class="fa fa-link" aria-hidden="true"></i></a><code>less-loader</code>&#x548C;<code>css-loader</code></h2>
<p>&#x5148;&#x5B89;&#x88C5;<code>less</code></p>
<p>&#x5206;&#x522B;&#x521B;&#x5EFA;<code>style-loader2</code> <code>css-loader2</code> <code>less-loader2</code></p>
<p><code>style-loader1</code> &#x4E0E; <code>less-loader1</code> &#x540C;&#x4E4B;&#x524D;&#x7684;</p>
<h2 id="css-loader"><a name="css-loader" class="anchor-navigation-ex-anchor" href="#css-loader"><i class="fa fa-link" aria-hidden="true"></i></a><code>css-loader</code></h2>
<p>&#x4E3B;&#x8981;&#x7528;&#x6765;&#x5904;&#x7406;<code>css</code>&#x4E2D;&#x7684;&#x56FE;&#x7247;&#x94FE;&#x63A5;&#xFF0C;&#x9700;&#x8981;&#x628A;<code>url</code>&#x8F6C;&#x6362;&#x6210;<code>require</code></p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>{
    test: /\.png$/,
    // &#x76EE;&#x7684;&#x662F;&#x6839;&#x636E;&#x56FE;&#x7247;&#x751F;&#x6210;md5 &#x53D1;&#x5C04;&#x5230;dist&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;file-loader &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x56FE;&#x7247;&#x8DEF;&#x5F84;
    // use: &apos;file-loader&apos;
    // &#x5904;&#x7406;&#x8DEF;&#x5F84;
    use: {
        loader: &apos;url-loader1&apos;,
        options: {
            limit: 200 * 1024
        }
    }
},
{
    test: /\.less$/,
    use: [&apos;style-loader2&apos;, &apos;css-loader2&apos;, &apos;less-loader2&apos;]
}
</code></pre><p>&#x521B;&#x5EFA;<code>index.less</code></p>
<pre class="language-"><code>@base: #f938ab;
body {
  background: @base;
  background: url(&quot;./photo.png&quot;);
}
</code></pre><p><code>less-loader2.js</code></p>
<pre class="language-"><code>// &#x5C06;less&#x8F6C;&#x4E3A;css
let less = require(&apos;less&apos;)

function loader(source) {
    let css = &apos;&apos;
    // console.log(source, 2222);
    less.render(source, function (err, output) {
        // console.log(output);
        css = output.css
    })
    // css = css.replace(/\n/g, &apos;\\n&apos;);
    return css
}

module.exports = loader
</code></pre><p><code>css-loader2.js</code></p>
<pre class="language-"><code>// css-loader &#x7528;&#x6765;&#x89E3;&#x6790;@import&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;,&#x5305;&#x62EC;css&#x4E2D;&#x5F15;&#x5165;&#x7684;&#x56FE;&#x7247;
function loader(source) {
    let reg = /url\((.+?)\)/g   // &#x5339;&#x914D;&#x62EC;&#x53F7;

    let pos = 0;
    let current;

    let arr = [&apos;let list = []&apos;]

    while (current = reg.exec(source)) {
        let [matchUrl, g] = current   // matchUrl -&gt; &apos;url(&quot;./photo.png&quot;)&apos;, g  -&gt; &apos;&quot;./photo.png&quot;&apos;
        // console.log(matchUrl, g, 88);
        let lastIndex = reg.lastIndex - matchUrl.length    // &#x62FF;&#x5230;css&#x4ECE;&#x5F00;&#x901A;&#x5230;&#x5730;&#x5740;&#x94FE;&#x63A5;&#x4E4B;&#x524D;&#x7684;index
        arr.push(`list.push(${JSON.stringify(source.slice(pos, lastIndex))})`)  // &#x62FC;&#x5165;&#x5F00;&#x59CB;&#x548C;&#x5730;&#x5740;&#x4E4B;&#x524D;&#x7684;&#x4EE3;&#x7801;
        pos = reg.lastIndex
        arr.push(`list.push(&apos;url(&apos;+ require(${g}) +&apos;)&apos;)`)    // &#x62FC;&#x5165;&#x56FE;&#x7247;&#x5730;&#x5740;
    }
    arr.push(`list.push(${JSON.stringify(source.slice(pos))})`)  // &#x62FC;&#x5165;&#x5730;&#x5740;&#x5230;&#x7ED3;&#x5C3E;&#x7684;&#x4EE3;&#x7801;
    arr.push(`module.exports = list.join(&apos;&apos;)`)
    console.log(arr.join(&apos;\r\n&apos;));
    // let list = []
    // list.push(&quot;body {\\n  background: #f938ab;\\n  background: &quot;)
    // list.push(&apos;url(&apos;+ require(&quot;./photo.png&quot;) +&apos;)&apos;)
    // list.push(&quot;;\\n}\\n&quot;)
    // module.exports = list.join(&apos;&apos;)

    return arr.join(&apos;\r\n&apos;)
}
module.exports = loader
</code></pre><p><code>style-loader2.js</code></p>
<pre class="language-"><code>let loaderUtils = require(&apos;loader-utils&apos;)

// &#x5C06;css&#x63D2;&#x5165;&#x5230;html&#x5934;&#x90E8;
function loader(source) {
    let str = `
    let style = document.createElement(&apos;style&apos;)
    style.innerHTML = ${JSON.stringify(source)}
    document.head.appendChild(style)
   `
    return str
}


// style-loader&#x5199;&#x4E86;pitch,&#x6709;&#x8FD4;&#x56DE;&#x540E;&#x9762;&#x7684;&#x8DF3;&#x8FC7;&#xFF0C;&#x81EA;&#x5DF1;&#x7684;&#x5199;&#x4E0D;&#x4F1A;&#x8D70;
loader.pitch = function (remainingRequest) {  // &#x5269;&#x4F59;&#x7684;&#x8BF7;&#x6C42;
    console.log(loaderUtils.stringifyRequest(this, &apos;!!&apos; + remainingRequest, 99999999))
    // &#x8BA9;style-loader &#x5904;&#x7406; less-loader &#x548C;css-loader&#x62FC;&#x63A5;&#x7684;&#x7ED3;&#x679C;
    // &#x5F97;&#x5230; /Users/liuhuimin/work/webpack/loader/css-loader2.js!/Users/liuhuimin/work/webpack/loader/less-loader2.js!/Users/liuhuimin/work/webpack/src/index.less
    // &#x5269;&#x4F59;&#x7684;&#x8BF7;&#x6C42; less-loader!css-loader!./index.less
    // console.log(remainingRequest, 1223);
    // require&#x8FD4;&#x56DE;&#x7684;&#x5C31;&#x662F;css-loader&#x5904;&#x7406;&#x597D;&#x7684;&#x7ED3;&#x679C;require(&apos;!!css-loader!less-loader!./index.less&apos;)
    let str = `
    let style = document.createElement(&apos;style&apos;)
    style.innerHTML = require(${loaderUtils.stringifyRequest(this, &apos;!!&apos; + remainingRequest)})
    document.head.appendChild(style)
   `
    // stringifyRequest &#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x8F6C;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;
    return str
}
module.exports = loader
</code></pre><pre class="language-"><code>user: [&apos;style-loader2&apos;, &apos;css-loader2&apos;, &apos;less-loader2&apos;]

    pitch loader - &#x6709;&#x8FD4;&#x56DE;&#x503C;

pitch   style-loader2 &#x2192; css-loader2  less-loader2  
                     &#x2199;               
               &#x6709;&#x8FD4;&#x56DE;&#x503C;               &#x8D44;&#x6E90;
               &#x2199;                      
normal  style-loader2  css-loader2  less-loader2
</code></pre><p>&#x5728;<code>style-loader2</code>&#x4E2D; &#x5F15;&#x7528;&#x4E86;<code>less-loader</code> <code>css-loader</code> &#x548C;<code>less</code>&#x6587;&#x4EF6;</p>
<h2 id="webpack-&#x4E2D;&#x7684;&#x63D2;&#x4EF6;"><a name="webpack-&#x4E2D;&#x7684;&#x63D2;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#webpack-&#x4E2D;&#x7684;&#x63D2;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>webpack &#x4E2D;&#x7684;&#x63D2;&#x4EF6;</h2>
<p><code>yarn add webpack webpack-cil -D</code></p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)
let DonePlugin = require(&apos;./plugins/DonePlugins&apos;)
let AsyncPlugins = require(&apos;./plugins/AsyncPlugins&apos;)

module.exports = {
    mode: &apos;development&apos;,
    entry: &apos;./src/index.js&apos;,
    output: {
        filename: &apos;build.js&apos;,
        path: path.resolve(__dirname, &apos;dist&apos;)
    },
    plugins: [
        new DonePlugin(),    // &#x540C;&#x6B65;
        new AsyncPlugins()   // &#x5F02;&#x6B65;
    ]
}
</code></pre><p><code>node_modules/webpack/lib</code>&#x4E2D;&#x67E5;&#x770B;<code>Compiler.js</code></p>
<ol>
<li>&#x540C;&#x6B65;<code>plugins/DonePlugins</code></li>
</ol>
<p>&#x6253;&#x5305;&#x5B8C;&#x6210;</p>
<pre class="language-"><code>class DonePlugins {
    apply (compiler) {
        console.log(1);
        compiler.hooks.done.tap(&apos;DonePlugin&apos;, (stats) =&gt; {
            console.log(&apos;&#x7F16;&#x8BD1;&#x5B8C;&#x6210;&apos;);
        })
    }
}


module.exports = DonePlugins
</code></pre><ol>
<li>&#x5F02;&#x6B65;<code>plugins/AsyncPlugins</code></li>
</ol>
<pre class="language-"><code>class AsyncPlugins {
    apply (compiler) {
        console.log(2);
        compiler.hooks.emit.tapAsync(&apos;AsyncPlugin&apos;, (complete, callback) =&gt; {
            setTimeout(() =&gt; {
                console.log(&apos;&#x6587;&#x4EF6;&#x53D1;&#x5C04;&#x51FA;&#x6765;&apos;);
                callback()
            }, 1000)
        })
        compiler.hooks.emit.tapPromise(&apos;AsyncPlugin&apos;, (complete, callback) =&gt; {
            return new Promise((resolve, reject) =&gt; {
                setTimeout(() =&gt; {
                    console.log(&apos;&#x6587;&#x4EF6;&#x53D1;&#x5C04;&#x51FA;&#x6765; 222&apos;);
                    resolve()
                }, 1000)
            })
        })
    }
}


module.exports = AsyncPlugins
</code></pre><h2 id="&#x6587;&#x4EF6;&#x5217;&#x8868;&#x63D2;&#x4EF6;"><a name="&#x6587;&#x4EF6;&#x5217;&#x8868;&#x63D2;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x6587;&#x4EF6;&#x5217;&#x8868;&#x63D2;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6587;&#x4EF6;&#x5217;&#x8868;&#x63D2;&#x4EF6;</h2>
<p>&#x5E0C;&#x671B;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x6253;&#x5305;&#x51FA;&#x6765;&#x7684;&#x6587;&#x4EF6;</p>
<p>&#x5728;<code>plugins</code>&#x4E2D;&#x65B0;&#x5EFA;<code>FileListPlugin</code></p>
<pre class="language-"><code>class FileListPlugin {
    constructor ({filename}) {
        this.filename = filename
    }
    apply (compiler) {
        // &#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x597D;&#x4E86; &#x8981;&#x8FDB;&#x884C;&#x53D1;&#x5C04;
        // emit
        compiler.hooks.emit.tap(&apos;FileListPlugin&apos;, (compilation) =&gt; {
            let assets = compilation.assets;
            console.log(assets, 55);
            let content = `## &#x6587;&#x4EF6;&#x540D;  &#x8D44;&#x6E90;&#x5927;&#x5C0F;\r\n`
            // [ [bundls.js, {}], [index.html, {}]]
            Object.entries(assets).forEach(([filename, stateObj]) =&gt; {
                content += `- ${filename}    ${stateObj.size()}\r\n`
            })
            // &#x8D44;&#x6E90;&#x5BF9;&#x8C61;
            assets[this.filename] = {
                source () {
                    return content;
                },
                size () {
                    return content.length
                }
            }
        })
    }
}

module.exports = FileListPlugin
</code></pre><pre class="language-"><code>let path = require(&apos;path&apos;)
let DonePlugin = require(&apos;./plugins/DonePlugins&apos;)
let AsyncPlugins = require(&apos;./plugins/AsyncPlugins&apos;)
let HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)
let FileListPlugin = require(&apos;./plugins/FileListPlugin&apos;)

module.exports = {
    mode: &apos;development&apos;,
    entry: &apos;./src/index.js&apos;,
    output: {
        filename: &apos;build.js&apos;,
        path: path.resolve(__dirname, &apos;dist&apos;)
    },
    plugins: [
        new DonePlugin(),
        new AsyncPlugins(),
        new HtmlWebpackPlugin({
            template: &apos;./src/index.html&apos;,
            filename: &apos;index.html&apos;
        }),
        new FileListPlugin({
            filename: &apos;list.md&apos;
        })
    ]
}
</code></pre><p>&#x751F;&#x6210;<code>list.md</code></p>
<h2 id="&#x5185;&#x8054;&#x7684;webpack&#x63D2;&#x4EF6;"><a name="&#x5185;&#x8054;&#x7684;webpack&#x63D2;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x5185;&#x8054;&#x7684;webpack&#x63D2;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5185;&#x8054;&#x7684;<code>webpack</code>&#x63D2;&#x4EF6;</h2>
<p>&#x65B0;&#x5EFA;<code>index.css</code>&#x5F15;&#x5165;<code>index.js</code></p>
<p><code>yarn add css-loader mini-css-extract-plugin -D</code></p>
<p>&#x5E0C;&#x671B;&#x6253;&#x5305;&#x540E;<code>css&#x3001;js</code>&#x5185;&#x8054;&#x5728;<code>index.html</code>&#x6587;&#x4EF6;&#x4E2D;</p>
<p>&#x521B;&#x5EFA;<code>plugins</code>&#x4E2D;<code>InlineSourcePlugins.js</code></p>
<p><code>yarn add --dev html-webpack-plugin@next</code></p>
<p><a href="https://github.com/jantimon/html-webpack-plugin" target="_blank">HTML Webpack Plugin</a></p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>let path = require(&apos;path&apos;)
let DonePlugin = require(&apos;./plugins/DonePlugins&apos;)
let AsyncPlugins = require(&apos;./plugins/AsyncPlugins&apos;)
let HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)
let FileListPlugin = require(&apos;./plugins/FileListPlugin&apos;)

let InlineSourcePlugins = require(&apos;./plugins/InlineSourcePlugins&apos;)

let MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;)

module.exports = {
    mode: &apos;production&apos;,
    entry: &apos;./src/index.js&apos;,
    output: {
        filename: &apos;bundle.js&apos;,
        path: path.resolve(__dirname, &apos;dist&apos;)
    },
    module: {
        rules: [
            {
                test: /\.css$/,
                use: [MiniCssExtractPlugin.loader, &apos;css-loader&apos;]
            }
        ]
    },
    plugins: [
        // new DonePlugin(),
        // new AsyncPlugins(),
        new HtmlWebpackPlugin({
            template: &apos;./src/index.html&apos;,
            filename: &apos;index.html&apos;
        }),
        new MiniCssExtractPlugin({
            filename: &apos;index.css&apos;
        }),
        new InlineSourcePlugins({
            match: /\.(js|css)/
        }),
        // new FileListPlugin({
        //     filename: &apos;list.md&apos;
        // })
    ]
}
</code></pre><p><code>InlineSourcePlugins.js</code></p>
<pre class="language-"><code>const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)

// &#x628A;&#x5916;&#x94FE;&#x7684;&#x6807;&#x7B7E;&#x7F16;&#x7A0B;&#x5185;&#x8054;&#x7684;&#x6807;&#x7B7E;
class InlineSourcePlugins {
    constructor({match}) {
        this.reg = match  // &#x6B63;&#x5219;
    }

    // &#x5904;&#x7406;&#x67D0;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;
    processTag(tag, compilation) {
        let newTag = {}
        let url = &apos;&apos;
        if (tag.tagName === &apos;link&apos; &amp;&amp; this.reg.test(tag.attributes.href)) {
            newTag = {
                tagName: &apos;style&apos;,
                attributes: {type: &apos;text/css&apos;}
            }
            url = tag.attributes.href
        } else if (tag.tagName === &apos;script&apos; &amp;&amp; this.reg.test(tag.attributes.src)) {
            newTag = {
                tagName: &apos;script&apos;,
                attributes: {type: &apos;application/javascript&apos;}
            }
            url = tag.attributes.src
        }
        if (url) {
            newTag.innerHTML = compilation.assets[url].source(); // &#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x653E;&#x5230;innerHTML&#x5C5E;&#x6027;&#x4E2D;
            delete compilation.assets[url]   // &#x5220;&#x9664;&#x539F;&#x6709;&#x7684;&#x8D44;&#x6E90;
            return newTag
            // console.log(compilation.assets[url].source());
        }
        return tag
    }

    // &#x5904;&#x7406;&#x5F15;&#x5165;&#x6807;&#x7B7E;&#x7684;&#x6570;&#x636E;
    processTags(data, compilation) {
        let headTags = []
        let bodyTags = []
        data.headTags.forEach(headTag =&gt; {
            headTags.push(this.processTag(headTag, compilation))
        })
        data.bodyTags.forEach(bodyTag =&gt; {
            bodyTags.push(this.processTag(bodyTag, compilation))
        })
        console.log({...data, headTags, bodyTags})
        return {...data, headTags, bodyTags}
    }



    apply(compiler) {
        // &#x901A;&#x8FC7;webpackPlugin&#x6765;&#x5B9E;&#x73B0;  npm&#x641C;&#x7D22;  html-webpack-plugin
        compiler.hooks.compilation.tap(&apos;InlineSourcePlugins&apos;, (compilation) =&gt; {
            HtmlWebpackPlugin.getHooks(compilation).alterAssetTagGroups.tapAsync(
                &apos;alertPlugin&apos;,
                (data, callback) =&gt; {
                    // console.log(&apos;======&apos;);
                    // console.log(data) // &#x63D2;&#x5165;html&#x6807;&#x7B7E;&#x7684;&#x6570;&#x636E;
                    // console.log(&apos;======&apos;);
                    data = this.processTags(data, compilation)   // compilation.assets &#x8D44;&#x6E90;&#x7684;&#x94FE;&#x63A5;
                    callback(null, data)
                })
        })

    }
}

module.exports = InlineSourcePlugins
</code></pre><h2 id="&#x6253;&#x5305;&#x540E;&#x81EA;&#x52A8;&#x53D1;&#x5E03;"><a name="&#x6253;&#x5305;&#x540E;&#x81EA;&#x52A8;&#x53D1;&#x5E03;" class="anchor-navigation-ex-anchor" href="#&#x6253;&#x5305;&#x540E;&#x81EA;&#x52A8;&#x53D1;&#x5E03;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6253;&#x5305;&#x540E;&#x81EA;&#x52A8;&#x53D1;&#x5E03;</h2>
<p>&#x6253;&#x5305;&#x597D;&#x7684;&#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x4E0A;&#x4F20;&#x81F4;&#x4E03;&#x725B;</p>
<p>&#x9700;&#x8981;&#x8FD9;&#x51E0;&#x4E2A;&#x53C2;&#x6570;</p>
<pre class="language-"><code>bucket: &apos;&apos;  // &#x4E03;&#x725B;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;
domain: &apos;&apos;,
accessKey: &apos;&apos;, // &#x4E03;&#x725B;&#x4E91;&#x7684;&#x4E24;&#x5BF9;&#x5BC6;&#x5319;
secretKey: &apos;&apos; // &#x4E03;&#x725B;&#x4E91;&#x7684;&#x4E24;&#x5BF9;&#x5BC6;&#x5319;
</code></pre><p>&#x6CE8;&#x518C;&#x4E03;&#x725B;&#xFF0C;&#x5E76;&#x5728;&#x5BF9;&#x8C61;&#x5B58;&#x50A8;&#x91CC;&#x9762;,&#x65B0;&#x5EFA;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x5217;&#x8868;<code>test</code>,<code>bucket: &apos;test&apos;</code></p>
<p>&#x5185;&#x5BB9;&#x7BA1;&#x7406;&#x5916;&#x94FE;&#x63A5;&#x9ED8;&#x8BA4;&#x57DF;&#x540D; <code>domain: &apos;xxxxxxxx&apos;</code></p>
<p>&#x53F3;&#x4E0A;&#x89D2;&#x4E2A;&#x4EBA;&#x9762;&#x677F;&#x91CC;&#x9762;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;,&#x5BC6;&#x94A5;&#x7BA1;&#x7406;&#x5206;&#x522B;&#x5BF9;&#x5E94;<code>accessKey</code>&#x548C;<code>secretKey</code></p>
<p><a href="https://developer.qiniu.com/" target="_blank">&#x8FDB;&#x5165;&#x5F00;&#x53D1;&#x8005;&#x4E2D;&#x5FC3;</a> -&gt; SDK&amp;&#x5DE5;&#x5177; -&gt; &#x5B98;&#x65B9;SDK -&gt; Node&#x670D;&#x52A1;&#x7AEF;&#x6587;&#x6863; &#x2014;&gt; &#x6587;&#x4EF6;&#x4E0A;&#x4F20;</p>
<p><a href="https://developer.qiniu.com/kodo/sdk/1289/nodejs" target="_blank">node&#x6587;&#x4EF6;&#x4E0A;&#x4F20;</a></p>
<p><code>npm install qiniu</code></p>
<p><a href="https://webpack.docschina.org/api/compiler-hooks" target="_blank">compiler-hooks</a></p>
<p><code>webpack.config.js</code></p>
<pre class="language-"><code>plugins: [
        new HtmlWebpackPlugin({
            template: &apos;./src/index.html&apos;,
            filename: &apos;index.html&apos;
        }),
        new MiniCssExtractPlugin({
            filename: &apos;index.css&apos;
        }),
        new UploadPlugin({
            bucket: &apos;test&apos;,  // &#x4E03;&#x725B;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;
            domain: &apos;poyrjyh1b.bkt.clouddn.com&apos;,
            accessKey: &apos;xxxxxx&apos;, // &#x4E03;&#x725B;&#x4E91;&#x7684;&#x4E24;&#x5BF9;&#x5BC6;&#x5319;
            secretKey: &apos;yyyyyy&apos; // &#x4E03;&#x725B;&#x4E91;&#x7684;&#x4E24;&#x5BF9;&#x5BC6;&#x5319;
        })
    ]
</code></pre><p><code>UploadPlugin.js</code></p>
<pre class="language-"><code>let qiniu = require(&apos;qiniu&apos;)
let path = require(&apos;path&apos;)

class UploadPlugin {
    constructor (options = {}) {
        // &#x53C2;&#x8003; https://developer.qiniu.com/kodo/sdk/1289/nodejs
        let { bucket = &apos;&apos;, domain = &apos;&apos;, accessKey = &apos;&apos;, secretKey = &apos;&apos;} = options
        let mac = new qiniu.auth.digest.Mac(accessKey, secretKey)
        let putPolicy = new qiniu.rs.PutPolicy({
            scope: bucket
        });
        this.uploadToken = putPolicy.uploadToken(mac)
        let config = new qiniu.conf.Config();
        this.formUploader = new qiniu.form_up.FormUploader(config)
        this.putExtra = new qiniu.form_up.PutExtra()
    }
    apply (compiler) {
        compiler.hooks.afterEmit.tapPromise(&apos;UploadPlugin&apos;, (complication) =&gt; {
            let assets = complication.assets
            let promise = []
            Object.keys(assets).forEach(filename =&gt; {
                promise.push(this.upload(filename))
            })
            return Promise.all(promise)
        })
    }

    upload (filename) {
        return new Promise((resolve, reject) =&gt; {
            let localFile = path.resolve(__dirname, &apos;../dist&apos;, filename)
            this.formUploader.putFile(this.uploadToken, filename, localFile, this.putExtra, function(respErr,
                                                                                 respBody, respInfo) {
                if (respErr) {
                    reject(respErr)
                }
                if (respInfo.statusCode == 200) {
                    resolve(respBody)
                } else {
                    console.log(respInfo.statusCode)
                    console.log(respBody)
                }
            });
        })
    }
}

module.exports = UploadPlugin
</code></pre><footer class="page-footer"><span class="copyright">Copyright &#xA9; lin 2019 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2020-09-14 21:03:37
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="webpack面试题.html" class="navigation navigation-prev " aria-label="Previous page: 面试必问 ✘">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="webpack4AndReact脚手架.html" class="navigation navigation-next " aria-label="Next page: webpack4AndReact脚手架">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"webpack4","level":"1.2.3","depth":2,"next":{"title":"webpack4AndReact脚手架","level":"1.2.4","depth":2,"path":"webpack/webpack4AndReact脚手架.md","ref":"./webpack/webpack4AndReact脚手架.md","articles":[]},"previous":{"title":"面试必问 ✘","level":"1.2.2","depth":2,"path":"webpack/webpack面试题.md","ref":"./webpack/webpack面试题.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-comscore","prism","-highlight","copy-code-button","search-pro","-search","-lunr","expandable-chapters","splitter","-sharing","github-buttons","donate","tbfed-pagefooter","baidu-tongji","anchor-navigation-ex"],"styles":{"website":"./public-repertory/css/gitbook-configure.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy lin 2019","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"shell":"bash"}},"baidu-tongji":{"url":"https://hm.baidu.com/hm.js","token":"1c61bbd36ae979753ea33d5469a3151b"},"splitter":{},"search-pro":{},"donate":{"alipay":"http://www.93lin.cn/img/wechat.png","alipayText":"支付宝打赏","button":"打赏","title":"","wechat":"http://www.93lin.cn/img/alipay.png","wechatText":"微信打赏"},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"theme-comscore":{},"github-buttons":{"buttons":[{"user":"93qlin","repo":"gitbook","type":"star","count":true,"size":"small"},{"user":"93qlin","width":"160","type":"follow","count":true,"size":"small"}]},"copy-code-button":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"lin","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"lin 的文档库","language":"zh-hans","gitbook":"*","description":"lin 的文档库."},"file":{"path":"webpack/webpack4.md","mtime":"2020-09-14T13:03:37.722Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-09-28T06:26:45.409Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-baidu-tongji/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

